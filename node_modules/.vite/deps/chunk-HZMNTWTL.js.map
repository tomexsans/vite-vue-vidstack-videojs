{
  "version": 3,
  "sources": ["../../maverick.js/dist/dev/chunks/chunk-FIEGXSET.js", "../../vidstack/dist/dev/providers/type-check.js", "../../vidstack/dist/dev/icons/icon.js", "../../vidstack/dist/dev/providers/audio/loader.js", "../../vidstack/dist/dev/providers/video/loader.js", "../../vidstack/dist/dev/providers/hls/loader.js", "../../vidstack/dist/dev/media-core.js", "../../vidstack/dist/dev/media-ui.js"],
  "sourcesContent": ["import { createComment, DOMEvent, listenEvent, isDOMNode, createFragment, attachDeclarativeShadowDOM, setAttribute, toggleClass, setStyle, camelToKebabCase, trimTrailingSemicolon, flattenArray, runAll, isDOMElement } from './chunk-VABDA4SA.js';\nimport { root, isFunction, isArray, isString, isNumber, noop, unwrapDeep, effect, isUndefined, peek, scoped, computed, provideContext, isNull, isBoolean } from './chunk-NQ7TQAU7.js';\nimport { root as root$1, scoped as scoped$1, getScope, isFunction as isFunction$1, effect as effect$1, onDispose, tick, signal, untrack } from '@maverick-js/signals';\n\n// src/std/html.ts\nfunction escape(value, isAttr = false) {\n  const type = typeof value;\n  if (type !== \"string\") {\n    if (!isAttr && type === \"function\")\n      return escape(value());\n    if (isAttr && type === \"boolean\")\n      return value + \"\";\n    return value;\n  }\n  const delimeter = isAttr ? '\"' : \"<\", escapeDelimeter = isAttr ? \"&quot;\" : \"&lt;\";\n  let iDelimeter = value.indexOf(delimeter), isAmpersand = value.indexOf(\"&\");\n  if (iDelimeter < 0 && isAmpersand < 0)\n    return value;\n  let left = 0, out = \"\";\n  while (iDelimeter >= 0 && isAmpersand >= 0) {\n    if (iDelimeter < isAmpersand) {\n      if (left < iDelimeter)\n        out += value.substring(left, iDelimeter);\n      out += escapeDelimeter;\n      left = iDelimeter + 1;\n      iDelimeter = value.indexOf(delimeter, left);\n    } else {\n      if (left < isAmpersand)\n        out += value.substring(left, isAmpersand);\n      out += \"&amp;\";\n      left = isAmpersand + 1;\n      isAmpersand = value.indexOf(\"&\", left);\n    }\n  }\n  if (iDelimeter >= 0) {\n    do {\n      if (left < iDelimeter)\n        out += value.substring(left, iDelimeter);\n      out += escapeDelimeter;\n      left = iDelimeter + 1;\n      iDelimeter = value.indexOf(delimeter, left);\n    } while (iDelimeter >= 0);\n  } else\n    while (isAmpersand >= 0) {\n      if (left < isAmpersand)\n        out += value.substring(left, isAmpersand);\n      out += \"&amp;\";\n      left = isAmpersand + 1;\n      isAmpersand = value.indexOf(\"&\", left);\n    }\n  return left < value.length ? out + value.substring(left) : out;\n}\n\n// src/runtime/ssr/render.ts\nfunction renderToString(root4) {\n  const result = root((dispose) => {\n    const value = root4();\n    dispose();\n    return value;\n  });\n  return { code: resolve(escape(result)) };\n}\nvar SSR_TEMPLATE = /* @__PURE__ */ Symbol();\nfunction resolve(node) {\n  if (isFunction(node)) {\n    return resolve(node());\n  } else if (isArray(node)) {\n    let result = \"\";\n    const flattened = node.flat(10);\n    for (let i = 0; i < flattened.length; i++) {\n      result += resolve(escape(flattened[i]));\n    }\n    return result + \"<!/[]>\";\n  } else if (isString(node) || isNumber(node)) {\n    return node + \"\";\n  } else if (node?.[SSR_TEMPLATE]) {\n    return node[SSR_TEMPLATE];\n  }\n  return \"\";\n}\nfunction injectHTML(html) {\n  return { [SSR_TEMPLATE]: html };\n}\n\n// src/element/controller.ts\nvar ComponentController = class {\n  /**\n   * The custom element this component is attached to. This is safe to use server-side with the\n   * limited API listed below.\n   *\n   * **Important:** Only specific DOM APIs are safe to call server-side. This includes:\n   *\n   * - Attributes: `getAttribute`, `setAttribute`, `removeAttribute`, and `hasAttribute`\n   * - Classes: `classList` API\n   * - Styles: `style` API\n   * - Events (noop): `addEventListener`, `removeEventListener`, and `dispatchEvent`\n   */\n  get el() {\n    return this.instance._el;\n  }\n  /**\n   * Reactive component properties.\n   */\n  get $props() {\n    return this.instance._props;\n  }\n  /**\n   * Reactive component store.\n   */\n  get $store() {\n    return this.instance._store;\n  }\n  constructor(instance) {\n    this.instance = instance;\n    if (this.onAttach)\n      instance._attachCallbacks.push(this.onAttach.bind(this));\n    if (this.onConnect)\n      instance._connectCallbacks.push(this.onConnect.bind(this));\n    if (this.onDisconnect)\n      instance._disconnectCallbacks.push(this.onDisconnect.bind(this));\n    if (this.onDestroy)\n      instance._destroyCallbacks.push(this.onDestroy.bind(this));\n  }\n  /**\n   * This method can be used to specify attributes that should be set on the host element. Any\n   * attributes that are assigned to a function will be considered a signal and updated accordingly.\n   */\n  setAttributes(attributes) {\n    if (this.instance._attrs)\n      Object.assign(this.instance._attrs, attributes);\n  }\n  /**\n   * This method can be used to specify styles that should set be set on the host element. Any\n   * styles that are assigned to a function will be considered a signal and updated accordingly.\n   */\n  setStyles(styles) {\n    if (this.instance._styles)\n      Object.assign(this.instance._styles, styles);\n  }\n  /**\n   * This method is used to satisfy the CSS variables contract specified on the current\n   * custom element definition. Other CSS variables can be set via the `setStyles` method.\n   */\n  setCSSVars(vars) {\n    this.setStyles(vars);\n  }\n  /**\n   * Type-safe utility for creating component DOM events.\n   */\n  createEvent(type, ...init) {\n    return new DOMEvent(type, init[0]);\n  }\n  /**\n   * Creates a `DOMEvent` and dispatches it from the host element. This method is typed to\n   * match all component events.\n   */\n  dispatch(type, ...init) {\n    if (!this.el)\n      return;\n    const event = new DOMEvent(type, init[0]);\n    this.el.dispatchEvent(event);\n  }\n  /**\n   * Adds an event listener for the given `type` and returns a function which can be invoked to\n   * remove the event listener.\n   *\n   * - The listener is removed if the current scope is disposed.\n   * - This method is safe to use on the server (noop).\n   */\n  listen(type, handler, options) {\n    if (!this.el)\n      return noop;\n    return listenEvent(this.el, type, handler, options);\n  }\n};\n\n// src/element/component.ts\nvar Component = class extends ComponentController {\n  constructor(instance) {\n    super(instance);\n    if (this.render && !instance._innerHTML && !instance._renderer) {\n      instance._renderer = this.render.bind(this);\n    }\n  }\n  destroy() {\n    this.instance._destroy();\n  }\n};\n\n// src/runtime/dom/reconcile.ts\nfunction reconcile(parent, nodesA, nodesB) {\n  let lengthB = nodesB.length, endA = nodesA.length, endB = lengthB, startA = 0, startB = 0, after = nodesA[endA - 1].nextSibling, map = null;\n  while (startA < endA || startB < endB) {\n    if (nodesA[startA] === nodesB[startB]) {\n      startA++;\n      startB++;\n      continue;\n    }\n    while (nodesA[endA - 1] === nodesB[endB - 1]) {\n      endA--;\n      endB--;\n    }\n    if (endA === startA) {\n      const node = endB < lengthB ? startB ? nodesB[startB - 1].nextSibling : nodesB[endB - startB] : after;\n      while (startB < endB)\n        parent.insertBefore(nodesB[startB++], node);\n    } else if (endB === startB) {\n      while (startA < endA) {\n        if (!map || !map.has(nodesA[startA]))\n          nodesA[startA].remove();\n        startA++;\n      }\n    } else if (nodesA[startA] === nodesB[endB - 1] && nodesB[startB] === nodesA[endA - 1]) {\n      const node = nodesA[--endA].nextSibling;\n      parent.insertBefore(nodesB[startB++], nodesA[startA++].nextSibling);\n      parent.insertBefore(nodesB[--endB], node);\n      nodesA[endA] = nodesB[endB];\n    } else {\n      if (!map) {\n        map = /* @__PURE__ */ new Map();\n        let i = startB;\n        while (i < endB)\n          map.set(nodesB[i], i++);\n      }\n      const index = map.get(nodesA[startA]);\n      if (index != null) {\n        if (startB < index && index < endB) {\n          let i = startA, sequence = 1, t;\n          while (++i < endA && i < endB) {\n            if ((t = map.get(nodesA[i])) == null || t !== index + sequence)\n              break;\n            sequence++;\n          }\n          if (sequence > index - startB) {\n            const node = nodesA[startA];\n            while (startB < index)\n              parent.insertBefore(nodesB[startB++], node);\n          } else\n            parent.replaceChild(nodesB[startB++], nodesA[startA++]);\n        } else\n          startA++;\n      } else\n        nodesA[startA++].remove();\n    }\n  }\n}\n\n// src/runtime/dom/walker.ts\nvar createMarkerWalker = (root4) => (\n  // @ts-expect-error - filter accepts `boolean` but not typed.\n  document.createTreeWalker(root4, NodeFilter.SHOW_COMMENT, (node) => node.nodeValue === \"$\")\n);\n\n// src/runtime/dom/render.ts\nvar hydration = null;\nfunction hydrate(root4, options) {\n  return runHydration(() => render(root4, options), options);\n}\nfunction runHydration(run, options) {\n  const prev = hydration;\n  hydration = { w: createMarkerWalker(options.target) };\n  const result = run();\n  hydration = prev;\n  return result;\n}\nfunction render(root4, options) {\n  return root((dispose) => {\n    if (!hydration) {\n      insert(options.target, root4(), options.before);\n    } else {\n      unwrapDeep(root4);\n    }\n    return dispose;\n  });\n}\n\n// src/runtime/dom/insert.ts\nfunction insert(parent, value, marker) {\n  let isSignal = isFunction(value);\n  if (isSignal && value[$$CHILDREN]) {\n    value = value();\n    isSignal = isFunction(value);\n  }\n  if (isSignal) {\n    let current;\n    effect(\n      () => void (current = insertExpression(\n        parent,\n        unwrapDeep(value()),\n        marker,\n        current,\n        true\n      ))\n    );\n    return;\n  } else if (hydration) {\n    marker.remove();\n  } else\n    insertExpression(parent, value, marker);\n}\nfunction insertExpression(parent, value, marker, current, isSignal = false) {\n  if (value === current)\n    return current;\n  if (isArray(value)) {\n    const newNodes = [], currentNodes = hydration && marker ? claimArray(marker) : current && isArray(current) ? current : [];\n    if (value.length && resolveArray(newNodes, value, currentNodes, isSignal)) {\n      effect(() => void (current = insertExpression(parent, newNodes, marker, currentNodes, true)));\n      return () => current;\n    }\n    if (hydration && marker)\n      return currentNodes;\n    if (newNodes.length === 0) {\n      updateDOM(parent, current);\n    } else if (currentNodes.length) {\n      reconcile(parent, currentNodes, newNodes);\n    } else {\n      current && updateDOM(parent, current, marker);\n      appendArray(parent, newNodes, marker);\n    }\n    return newNodes;\n  } else if (isString(value) || isNumber(value)) {\n    if (!isUndefined(marker)) {\n      if (isDOMNode(current) && current.nodeType === 3) {\n        current.data = value + \"\";\n      } else if (!hydration) {\n        return updateDOM(parent, current, marker, document.createTextNode(value + \"\"));\n      } else {\n        return marker.nextSibling;\n      }\n    } else if (current !== \"\" && isString(current)) {\n      return parent.firstChild.data = value + \"\";\n    } else\n      return parent.textContent = value + \"\";\n  } else if (isDOMNode(value)) {\n    if (hydration) ; else if (marker || isArray(current)) {\n      if (!isUndefined(marker))\n        return current = updateDOM(parent, current, marker, value);\n      updateDOM(parent, current, null, value);\n    } else if (!current || !parent.firstChild) {\n      parent.appendChild(value);\n    } else\n      parent.replaceChild(value, parent.firstChild);\n    return value;\n  } else {\n    return updateDOM(parent, current, marker);\n  }\n  return current;\n}\nfunction appendArray(parent, nodes, marker) {\n  if (isUndefined(marker)) {\n    for (let i = 0; i < nodes.length; i++)\n      parent.appendChild(nodes[i]);\n  } else {\n    for (let i = 0; i < nodes.length; i++)\n      parent.insertBefore(nodes[i], marker);\n  }\n}\nfunction resolveArray(nodes, values, current, computed2) {\n  let value, prev, effect4 = false;\n  for (let i = 0; i < values.length; i++) {\n    value = values[i], prev = current[i];\n    if (isDOMNode(value)) {\n      nodes.push(value);\n    } else if (isArray(value)) {\n      effect4 = resolveArray(nodes, value, isArray(prev) ? prev : [], computed2) || effect4;\n    } else if (isFunction(value)) {\n      if (computed2) {\n        value = value();\n        effect4 = resolveArray(\n          nodes,\n          isArray(value) ? value : [value],\n          isArray(prev) ? prev : [prev],\n          true\n        ) || effect4;\n      } else {\n        nodes.push(value);\n        effect4 = true;\n      }\n    } else if (value || value === 0) {\n      const text = value + \"\";\n      if (prev && prev.nodeType === 3 && prev.data === text) {\n        nodes.push(prev);\n      } else {\n        nodes.push(document.createTextNode(text));\n      }\n    }\n  }\n  return effect4;\n}\nvar ARRAY_END_MARKER = \"/[]\";\nfunction claimArray(marker) {\n  let node = marker.nextSibling, nodes = [];\n  while (node) {\n    if (node.nodeType !== 8) {\n      nodes.push(node);\n    } else if (node.nodeValue === ARRAY_END_MARKER) {\n      node.remove();\n      break;\n    }\n    node = node.nextSibling;\n  }\n  return nodes;\n}\nfunction updateDOM(parent, current, marker, replace) {\n  if (isUndefined(marker)) {\n    parent.textContent = \"\";\n    return;\n  }\n  const node = replace || createComment(\"~\");\n  if (isArray(current) && current.length) {\n    let el, inserted = false, isParent = false;\n    for (let i = current.length - 1; i >= 0; i--) {\n      el = current[i];\n      if (el !== node) {\n        isParent = el.parentNode === parent;\n        if (!inserted && !i)\n          isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);\n        else\n          isParent && parent.removeChild(el);\n      } else\n        inserted = true;\n    }\n  } else if (isDOMNode(current)) {\n    parent.replaceChild(node, current);\n  } else {\n    parent.insertBefore(node, marker);\n  }\n  return node;\n}\n\n// src/runtime/dom/insert-lite.ts\nvar CONNECTED = /* @__PURE__ */ Symbol(\"CONNECTED\" );\nvar INSERT_MARKER_NODE = createComment(\"$$\");\nvar END_MARKER = /* @__PURE__ */ Symbol(\"END_MARKER\" );\nvar END_MARKER_NODE = /* @__PURE__ */ createComment(\"/$\");\nvar ARRAY_END_MARKER_VALUE = \"/[]\";\nfunction insertLite(parent, value, before) {\n  let isSignal = isFunction(value);\n  if (isSignal && value[$$CHILDREN]) {\n    value = value();\n    isSignal = isFunction(value);\n  }\n  if (isSignal) {\n    insertEffect(parent, value, before);\n  } else if (!hydration && (value || value === 0)) {\n    addChild(\n      parent,\n      isArray(value) ? resolveArray2(value) : isDOMNode(value) ? value : document.createTextNode(value + \"\"),\n      before\n    );\n  }\n}\nfunction addChild(parent, node, before) {\n  if (!node)\n    return;\n  if (before)\n    parent.insertBefore(node, before);\n  else\n    parent.appendChild(node);\n}\nfunction insertEffect(parent, value, before) {\n  const marker = before && before.nodeType === 8 ? before : INSERT_MARKER_NODE.cloneNode();\n  if (marker !== before)\n    addChild(parent, marker, before);\n  effect(() => void insertExpression2(marker, unwrapDeep(value)));\n}\nfunction insertExpression2(start, value) {\n  const end = start[END_MARKER];\n  if (isArray(value)) {\n    if (hydration) {\n      start[END_MARKER] = findArrayEndMarker(start);\n    } else {\n      if (end)\n        removeOldNodes(start, end);\n      const fragment = resolveArray2(value);\n      if (!fragment)\n        return;\n      if (!end)\n        fragment.appendChild(createEndMarker(start));\n      start.after(fragment);\n    }\n  } else if (isDOMNode(value)) {\n    if (end)\n      removeOldNodes(start, end);\n    if (!hydration)\n      start.after(value);\n    if (!end)\n      value.after(createEndMarker(start));\n  } else if (isString(value) || isNumber(value)) {\n    if (start[CONNECTED]) {\n      start.nextSibling.data = value + \"\";\n      return;\n    }\n    if (end)\n      removeOldNodes(start, end);\n    let text;\n    if (!hydration) {\n      text = document.createTextNode(value + \"\");\n      start.after(text);\n    } else {\n      text = start.nextSibling;\n    }\n    start[CONNECTED] = true;\n    if (!end)\n      text.after(createEndMarker(start));\n  } else if (end) {\n    removeOldNodes(start, end);\n  }\n}\nfunction createEndMarker(start) {\n  return start[END_MARKER] = END_MARKER_NODE.cloneNode();\n}\nfunction findArrayEndMarker(node) {\n  while (node) {\n    if (node.nodeType === 8 && node.nodeValue === ARRAY_END_MARKER_VALUE)\n      return node;\n    node = node.nextSibling;\n  }\n}\nfunction removeOldNodes(start, end) {\n  while (start.nextSibling !== end)\n    start.nextSibling.remove();\n  start[CONNECTED] = false;\n}\nfunction resolveArray2(value) {\n  const flattened = flattenArray(value);\n  if (!flattened.length)\n    return null;\n  const fragment = createFragment();\n  for (let i = 0; i < flattened.length; i++) {\n    const child = flattened[i];\n    if (isFunction(child)) {\n      insertEffect(fragment, child);\n    } else {\n      fragment.append(child);\n    }\n  }\n  return fragment;\n}\n\n// src/element/css.ts\nvar CSS = /* @__PURE__ */ Symbol();\nvar sheetCache = /* @__PURE__ */ new WeakMap();\nvar supported;\nvar supportsAdoptedStyleSheets = () => !isUndefined(supported) ? supported : supported = ShadowRoot && \"adoptedStyleSheets\" in Document.prototype && \"replace\" in CSSStyleSheet.prototype;\nfunction injectCSS(value) {\n  return createCSS(value + \"\");\n}\nfunction css(strings, ...values) {\n  let css2 = strings[0] ?? \"\";\n  for (let i = 0; i < values.length; i++) {\n    const value = values[i];\n    if (value?.[CSS]) {\n      css2 += value.text;\n    } else if (typeof value === \"number\") {\n      css2 += value;\n    } else {\n      throw new Error(\n        `[maverick] value passed to \\`css\\` function must be a \\`css\\` function result: ${value}. Use \\`injectCSS\\` to pass non-literal values, but take care to ensure page security.`\n      );\n    }\n    css2 += strings[i + 1];\n  }\n  return createCSS(css2, strings);\n}\nfunction createCSS(css2, strings) {\n  let styleSheet;\n  return {\n    [CSS]: true,\n    get text() {\n      return css2;\n    },\n    get sheet() {\n      if (styleSheet) {\n        return styleSheet;\n      } else if (strings && sheetCache.has(strings)) {\n        return sheetCache.get(strings);\n      } else if (supportsAdoptedStyleSheets()) {\n        (styleSheet = new CSSStyleSheet()).replaceSync(css2);\n        if (strings)\n          sheetCache.set(strings, styleSheet);\n        return styleSheet;\n      }\n      return;\n    },\n    toString() {\n      return css2;\n    }\n  };\n}\nfunction adoptCSS(root4, css2) {\n  if (supportsAdoptedStyleSheets()) {\n    root4.adoptedStyleSheets = css2.map((css3) => css3.sheet);\n  } else {\n    const style = document.createElement(\"style\");\n    style.textContent = css2.map((css3) => css3.text).join(\"\");\n    root4.appendChild(style);\n  }\n}\n\n// src/element/register.ts\nfunction registerCustomElement(Component2) {\n  register(Component2, {\n    insert,\n    adoptCSS\n  });\n}\nfunction registerLiteCustomElement(Component2) {\n  register(Component2, {\n    insert: insertLite\n  });\n}\nfunction registerHeadlessCustomElement(Component2) {\n  register(Component2);\n}\nvar DOM_ELEMENT_REGISTRY = Symbol(\"MAVERICK_REGISTRY\" );\nvar serverElementRegistry = void 0;\nfunction register(Component2, init) {\n  const tagName = Component2.el.tagName;\n  if (!window.customElements.get(tagName)) {\n    if (!window[DOM_ELEMENT_REGISTRY])\n      window[DOM_ELEMENT_REGISTRY] = /* @__PURE__ */ new Map();\n    window[DOM_ELEMENT_REGISTRY].set(tagName, Component2);\n    window.customElements.define(tagName, createHTMLElement(Component2, init));\n  }\n}\n\n// src/runtime/dom/internal.ts\nfunction $$_create_template(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html;\n  return template.content;\n}\nvar $$_create_fragment = createFragment;\nfunction $$_create_walker(fragment, walker = hydration?.w) {\n  try {\n    return [$$_next_element(walker), walker];\n  } catch (e) {\n    return $$_create_walker(fragment, createMarkerWalker(document.importNode(fragment, true)));\n  }\n}\nfunction $$_next_template(fragment) {\n  return $$_create_walker(fragment)[0];\n}\nfunction $$_next_element(walker) {\n  let element = walker.nextNode().nextSibling;\n  if (element.localName.indexOf(\"-\") > 0 && element.firstChild && element.firstChild.nodeName === \"SHADOW-ROOT\") {\n    let node = element.firstChild.nextSibling || element.nextSibling;\n    if (node)\n      walker.currentNode = node;\n  }\n  return element;\n}\nvar $$_hydrating = hydration;\nfunction $$_setup_custom_element(host, props) {\n  const Component2 = window[DOM_ELEMENT_REGISTRY]?.get(host.localName);\n  if (!Component2) {\n    throw Error(\n      `[maverick] custom element not registered: ${host.localName}` \n    );\n  }\n  const component = createComponent(Component2, { props });\n  host.attachComponent(component);\n  return component.instance._scope;\n}\nfunction $$_clone(fragment) {\n  const clone = document.importNode(fragment, true);\n  return clone.firstElementChild;\n}\nfunction $$_create_element(tagName) {\n  return document.createElement(tagName);\n}\nfunction $$_attach_declarative_shadow_dom(element) {\n  if (element.firstChild?.nodeName === \"TEMPLATE\") {\n    if (element.firstChild.hasAttribute(\"shadowroot\")) {\n      attachDeclarativeShadowDOM(element);\n    } else {\n      element.firstChild.remove();\n    }\n  }\n}\nvar $$_insert = insert;\nfunction $$_insert_at_marker(marker, value) {\n  insert(marker.parentElement, value, marker);\n}\nvar $$_insert_lite = insertLite;\nfunction $$_insert_at_marker_lite(marker, value) {\n  insertLite(marker.parentElement, value, marker);\n}\nfunction $$_create_component(component, props = {}) {\n  return peek(() => component(props));\n}\nvar $$CHILDREN = /* @__PURE__ */ Symbol(\"$$CHILDREN\" );\nfunction $$_children(fn) {\n  fn[$$CHILDREN] = true;\n  return fn;\n}\nfunction $$_ref(element, ref) {\n  if (isArray(ref)) {\n    ref.filter(isFunction).forEach((ref2) => ref2(element));\n  } else if (isFunction(ref)) {\n    ref(element);\n  }\n}\nfunction $$_directive(element, directive, args) {\n  if (isFunction(directive))\n    directive(element, ...args);\n}\nvar $$_attr = setAttribute;\nvar $$_class = toggleClass;\nvar $$_style = setStyle;\nfunction $$_spread(element, props) {\n  const keys = Object.keys(props);\n  for (let i = 0; i < keys.length; i++) {\n    const prop2 = keys[i];\n    if (prop2 in element) {\n      if (isFunction(props[prop2])) {\n        effect(() => void (element[prop2] = props[prop2]()));\n      } else {\n        element[prop2] = props[prop2];\n      }\n    } else if (isFunction(props[prop2])) {\n      effect(() => void $$_attr(element, prop2, props[prop2]()));\n    } else {\n      $$_attr(element, prop2, props[prop2]);\n    }\n  }\n}\nfunction $$_merge_props(...sources) {\n  const target = sources[0] || {};\n  for (let i = 1; i < sources.length; i++) {\n    const source = sources[i];\n    if (source)\n      Object.assign(target, source);\n  }\n  return target;\n}\nfunction $$_listen(target, type, handler, capture = false) {\n  if (isFunction(handler)) {\n    listenEvent(target, type, handler, { capture });\n  }\n}\nvar DELEGATED_EVENTS = /* @__PURE__ */ Symbol(\"DELEGATED_EVENTS\" );\nfunction $$_delegate_events(types, document2 = window.document) {\n  const events = document2[DELEGATED_EVENTS] ??= /* @__PURE__ */ new Set();\n  for (let i = 0, len = types.length; i < len; i++) {\n    const type = types[i];\n    if (!events.has(type)) {\n      events.add(type);\n      document2.addEventListener(type, delegated_event_handler);\n    }\n  }\n}\nfunction delegated_event_handler(event) {\n  const eventKey = `$$${event.type}`, dataKey = `$$${event.type}Data`;\n  let node = event.composedPath && event.composedPath()[0] || event.target;\n  if (event.target !== node) {\n    Object.defineProperty(event, \"target\", {\n      configurable: true,\n      value: node\n    });\n  }\n  Object.defineProperty(event, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  let handler, data;\n  while (node) {\n    handler = node[eventKey];\n    if (handler && !node.disabled && isFunction(handler)) {\n      data = node[dataKey];\n      !isUndefined(data) ? handler.call(node, data, event) : handler.call(node, event);\n    }\n    node = node.parentNode || node.host;\n  }\n}\nvar $$_peek = peek;\nvar $$_scoped = scoped;\nvar $$_effect = effect;\nvar $$_computed = computed;\nfunction hydrateLite(root4, options) {\n  return runHydration(() => renderLite(root4, options), options);\n}\nfunction renderLite(root4, options) {\n  return root$1((dispose) => {\n    if (!hydration) {\n      insertLite(options.target, root4());\n    } else {\n      unwrapDeep(root4);\n    }\n    return dispose;\n  });\n}\n\n// src/element/internal.ts\nvar CONNECT = /* @__PURE__ */ Symbol(\"CONNECT\" );\nvar PROPS = /* @__PURE__ */ Symbol(\"PROPS\" );\nvar METHODS = /* @__PURE__ */ Symbol(\"METHODS\" );\nfunction createComponent(Component2, init) {\n  const instance = new ComponentInstance(Component2, init);\n  return scoped$1(() => new Component2(instance), instance._scope);\n}\nvar ComponentInstance = class {\n  constructor(Component2, init = {}) {\n    this._el = null;\n    this._renderer = null;\n    this._innerHTML = false;\n    this._destroyed = false;\n    this._attrs = {};\n    this._styles = {};\n    this._props = {};\n    // these props cause type issues - don't type them.\n    this._state = null;\n    this._store = null;\n    this._attachCallbacks = [];\n    this._connectCallbacks = [];\n    this._disconnectCallbacks = [];\n    this._destroyCallbacks = [];\n    root$1((dispose) => {\n      this._scope = getScope();\n      this._dispose = dispose;\n      if (init.scope)\n        init.scope.append(this._scope);\n      const store = Component2.el.store;\n      if (store) {\n        this._store = store.create();\n        this._state = new Proxy(this._store, {\n          get: (_, prop2) => this._store[prop2]()\n        });\n        provideContext(store, this._store);\n      }\n      const props = Component2.el.props;\n      if (props) {\n        this._props = createInstanceProps(props);\n        if (init.props) {\n          for (const prop2 of Object.keys(init.props)) {\n            if (prop2 in props) {\n              const value = init.props[prop2];\n              if (isFunction$1(value)) {\n                effect$1(() => void this._props[prop2].set(value()));\n              } else {\n                this._props[prop2].set(value);\n              }\n            }\n          }\n        }\n      }\n      if (init.props?.innerHTML) {\n        this._innerHTML = true;\n      }\n      onDispose(this._destroy.bind(this));\n    });\n  }\n  _destroy() {\n    if (this._destroyed)\n      return;\n    this._destroyed = true;\n    for (const destroy of this._destroyCallbacks) {\n      scoped$1(() => destroy(this._el), this._scope);\n    }\n    this._el?.destroy();\n    this._attachCallbacks.length = 0;\n    this._connectCallbacks.length = 0;\n    this._disconnectCallbacks.length = 0;\n    this._destroyCallbacks.length = 0;\n    tick();\n    this._dispose();\n    this._el = null;\n    this._renderer = null;\n  }\n};\nfunction createInstanceProps(defs) {\n  const props = {};\n  for (const name of Object.keys(defs)) {\n    const def = defs[name];\n    props[name] = signal(def.value, def);\n  }\n  return props;\n}\n\n// src/element/setup.ts\nasync function setup(host) {\n  const parent = findParent(host);\n  const hostCtor = host.constructor, componentCtor = hostCtor._component;\n  if (parent) {\n    await customElements.whenDefined(parent.localName);\n    parent[CONNECT] === true || await new Promise((res) => parent[CONNECT].push(res));\n  }\n  if (host.isConnected) {\n    if (parent?.keepAlive)\n      host.keepAlive = true;\n    host.attachComponent(\n      createComponent(componentCtor, {\n        scope: parent?.component?.instance._scope\n      })\n    );\n  }\n}\nfunction resolvePropsFromAttrs(host) {\n  const hostCtor = host.constructor, componentCtor = hostCtor._component, props = {};\n  if (!hostCtor._attrs)\n    return props;\n  for (const attr of host.attributes) {\n    let propName = hostCtor._attrs.get(attr.name), convert = propName && componentCtor.el.props[propName].type?.from;\n    if (convert) {\n      let attrValue = host.getAttribute(attr.name);\n      props[propName] = convert(attrValue);\n    }\n  }\n  return props;\n}\nfunction findParent(host) {\n  let hostCtor = host.constructor, componentCtor = hostCtor._component, node = host.parentNode, prefix = componentCtor.el.tagName.split(\"-\", 1)[0] + \"-\";\n  while (node) {\n    if (node.nodeType === 1 && node.localName.startsWith(prefix)) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n  return null;\n}\n\n// src/element/create-html-element.ts\nfunction createHTMLElement(Component2, init) {\n  const _register = Component2.register;\n  if (Component2.register) {\n    const result = isArray(_register) ? _register : _register?.();\n    if (isArray(result))\n      for (const Component3 of result)\n        register(Component3, init);\n  }\n  let attrs;\n  if (Component2.el.props) {\n    attrs = /* @__PURE__ */ new Map();\n    for (const propName of Object.keys(Component2.el.props)) {\n      const def = Component2.el.props[propName];\n      const attr = def.attribute;\n      if (attr !== false) {\n        const attrName = attr ?? camelToKebabCase(propName);\n        attrs.set(attrName, propName);\n      }\n    }\n  }\n  class MaverickElement extends HTMLCustomElement {\n    static get _component() {\n      return Component2;\n    }\n  }\n  MaverickElement._init = init;\n  MaverickElement._attrs = attrs;\n  const proto = MaverickElement.prototype, componentProto = Component2.prototype;\n  if (Component2.el.props) {\n    for (const prop2 of Object.keys(Component2.el.props)) {\n      Object.defineProperty(proto, prop2, {\n        enumerable: true,\n        configurable: true,\n        get() {\n          return !this.component ? Component2.el.props[prop2].value : this.component.instance._props[prop2]();\n        },\n        set(value) {\n          const fn = () => this.component.instance._props[prop2].set(value);\n          if (!this.component) {\n            this._queuedActions.delete(prop2);\n            this._queuedActions.set(prop2, fn);\n            return;\n          }\n          fn();\n        }\n      });\n    }\n  }\n  if (componentProto[PROPS]) {\n    for (const name of componentProto[PROPS]) {\n      Object.defineProperty(proto, name, {\n        enumerable: true,\n        configurable: true,\n        get() {\n          return this.component ? this.component[name] : void 0;\n        },\n        set(value) {\n          if (!this.component) {\n            this._queuedActions.delete(name);\n            this._queuedActions.set(name, () => {\n              this.component[name] = value;\n            });\n            return;\n          }\n          this.component[name] = value;\n        }\n      });\n    }\n  }\n  if (componentProto[METHODS]) {\n    for (const name of componentProto[METHODS]) {\n      proto[name] = function(...args) {\n        if (!this.component)\n          this._throwAttachError([`el.${name}(...)`]);\n        return this.component[name](...args);\n      };\n    }\n  }\n  return MaverickElement;\n}\nvar HTML_ELEMENT = HTMLElement;\nvar _a;\nvar HTMLCustomElement = class extends HTML_ELEMENT {\n  constructor() {\n    super(...arguments);\n    this._connected = false;\n    this._destroyed = false;\n    this._component = null;\n    this._connectScope = null;\n    this._attachCallbacks = /* @__PURE__ */ new Set();\n    this._disconnectCallbacks = [];\n    this._queuedActions = /* @__PURE__ */ new Map();\n    this.keepAlive = false;\n    /** @internal */\n    this[_a] = [];\n    this._pendingSetup = false;\n  }\n  get _delegate() {\n    return this.hasAttribute(\"mk-d\");\n  }\n  get component() {\n    return this._component;\n  }\n  get $store() {\n    return this._component?.instance._store;\n  }\n  get state() {\n    if (!this._component) {\n      this._throwAttachError([\"el.state.foo\"]);\n    }\n    return this._component.instance._state;\n  }\n  static get observedAttributes() {\n    return this._attrs ? Array.from(this._attrs.keys()) : [];\n  }\n  attributeChangedCallback(name, _, newValue) {\n    const ctor = this.constructor;\n    if (!this._component || !ctor._attrs)\n      return;\n    const propName = ctor._attrs.get(name);\n    const from = ctor._component.el.props[propName]?.type?.from;\n    if (from)\n      this._component.instance._props[propName].set(from(newValue));\n  }\n  connectedCallback() {\n    const instance = this._component?.instance;\n    if (!this._delegate && !instance)\n      return this._setup();\n    if (!instance || !this.isConnected || this._connected)\n      return;\n    if (this._destroyed) {\n      {\n        throw Error(\n          \"[maverick] attempting to connect an element that has been destroyed\" \n        );\n      }\n    }\n    if (this.hasAttribute(\"keep-alive\"))\n      this.keepAlive = true;\n    this._connected = true;\n    if (instance._connectCallbacks.length) {\n      scoped$1(() => {\n        root$1((dispose) => {\n          this._connectScope = getScope();\n          for (const connectCallback of instance._connectCallbacks) {\n            scoped$1(() => {\n              const disconnectCallback = connectCallback(this);\n              if (isFunction$1(disconnectCallback)) {\n                this._disconnectCallbacks.push(disconnectCallback);\n              }\n            }, this._connectScope);\n          }\n          this._disconnectCallbacks.push(dispose);\n        });\n      }, instance._scope);\n    }\n    if (isArray(this[CONNECT])) {\n      runAll(this[CONNECT], this);\n      this[CONNECT] = true;\n    }\n    return;\n  }\n  disconnectedCallback() {\n    const instance = this._component?.instance;\n    if (!this._connected || this._destroyed)\n      return;\n    this._connected = false;\n    for (const callback of this._disconnectCallbacks) {\n      scoped$1(callback, this._connectScope);\n    }\n    if (instance?._disconnectCallbacks.length) {\n      for (const callback of instance._disconnectCallbacks) {\n        scoped$1(() => callback(this), instance._scope);\n      }\n    }\n    this._connectScope = null;\n    if (!this._delegate && !this.keepAlive) {\n      requestAnimationFrame(() => {\n        if (!this.isConnected) {\n          instance?._destroy();\n          this._destroyed = true;\n        }\n      });\n    }\n  }\n  attachComponent(component) {\n    const instance = component.instance, ctor = this.constructor, def = ctor._component.el, init = ctor._init;\n    if (this._component) {\n      console.warn(`[maverick] element \\`${def.tagName}\\` already has attached component`);\n    }\n    if (this._destroyed) {\n      console.warn(`[maverick] attempted attaching to destroyed element \\`${def.tagName}\\``);\n    }\n    if (this._component || this._destroyed)\n      return;\n    scoped$1(() => {\n      this._root = instance._renderer ? def.shadowRoot ? this.shadowRoot ?? this.attachShadow(isBoolean(def.shadowRoot) ? { mode: \"open\" } : def.shadowRoot) : resolveShadowRootElement(this) : null;\n      if (def.css && !init?.adoptCSS) {\n        console.warn(\n          `[maverick] \\`css\\` was provided for \\`${def.tagName}\\` but element registration doesn't support adopting stylesheets. Resolve this by registering element with \\`registerElement\\` instead of lite or headless.`\n        );\n      }\n      if (!hydration && def.shadowRoot && def.css && init?.adoptCSS) {\n        init.adoptCSS(this._root, def.css);\n      }\n      instance._el = this;\n      this._component = component;\n      const attrValues = resolvePropsFromAttrs(this);\n      for (const name of Object.keys(attrValues)) {\n        instance._props[name].set(attrValues[name]);\n      }\n      if (this._queuedActions?.size) {\n        for (const action of this._queuedActions.values())\n          action();\n      }\n      this._queuedActions = null;\n      for (const callback of [...instance._attachCallbacks, ...this._attachCallbacks]) {\n        scoped$1(() => callback(this), instance._scope);\n      }\n      instance._attachCallbacks.length = 0;\n      this._attachCallbacks = null;\n      const $attrs = instance._attrs, $styles = instance._styles;\n      if ($attrs) {\n        for (const name of Object.keys($attrs)) {\n          if (isFunction$1($attrs[name])) {\n            effect$1(() => setAttribute(this, name, $attrs[name]()));\n          } else {\n            setAttribute(this, name, $attrs[name]);\n          }\n        }\n      }\n      if ($styles) {\n        for (const name of Object.keys($styles)) {\n          if (isFunction$1($styles[name])) {\n            effect$1(() => setStyle(this, name, $styles[name]()));\n          } else {\n            setStyle(this, name, $styles[name]);\n          }\n        }\n      }\n      this.dispatchEvent(new Event(\"attached\"));\n      if (this._root && init && instance._renderer) {\n        const insert2 = () => init.insert(this._root, instance._renderer);\n        if (this.hasAttribute(\"mk-h\") && !ctor._component.el.nohydrate) {\n          runHydration(insert2, { target: this._root });\n        } else {\n          insert2();\n        }\n      }\n      this.connectedCallback();\n    }, instance._scope);\n  }\n  subscribe(callback) {\n    if (!this._component) {\n      this._throwAttachError([\"el.subscribe(({ foo, bar }) => {\", \"  // ...\", \"});\"]);\n    }\n    if (!this._component?.instance._state) {\n      const ctor = this.constructor;\n      const tagName = ctor._component.el.tagName;\n      throw Error(`[maverick] \\`${tagName}\\` element does not have a store to subscribe to`);\n    }\n    return scoped$1(() => {\n      return effect$1(() => callback(this._component.instance._state));\n    }, this._component.instance._scope);\n  }\n  onAttach(callback) {\n    if (this._component) {\n      callback(this);\n      return noop;\n    } else {\n      this._attachCallbacks.add(callback);\n      return () => this._attachCallbacks?.delete(callback);\n    }\n  }\n  onEventDispatch(callback) {\n    const ctor = this.constructor;\n    if (ctor._dispatchedEvents)\n      for (const eventType of ctor._dispatchedEvents)\n        callback(eventType);\n    this._onEventDispatch = callback;\n  }\n  destroy() {\n    this.disconnectedCallback();\n    this._component?.destroy();\n    this._component = null;\n    this._destroyed = true;\n  }\n  dispatchEvent(event) {\n    if (this._delegate) {\n      const ctor = this.constructor;\n      if (!ctor._dispatchedEvents)\n        ctor._dispatchedEvents = /* @__PURE__ */ new Set();\n      if (!ctor._dispatchedEvents.has(event.type)) {\n        this._onEventDispatch?.(event.type);\n        ctor._dispatchedEvents.add(event.type);\n      }\n    }\n    return untrack(() => super.dispatchEvent(event));\n  }\n  async _setup() {\n    if (this._pendingSetup)\n      return;\n    this._pendingSetup = true;\n    await setup(this);\n    this._pendingSetup = false;\n  }\n  _throwAttachError(code) {\n    {\n      const ctor = this.constructor;\n      const tagName = ctor._component.el.tagName;\n      throw Error(\n        `[maverick] component instance has not attached yet, wait for event like so:\n\nconst el = document.querySelector('${tagName}');\nel.addEventListener('attached', () => {\n` + (\"  \" + code.join(\"\\n  \")) + `\n}, { once: true });\n`\n      );\n    }\n  }\n};\n_a = CONNECT;\nfunction resolveShadowRootElement(root4) {\n  if (root4.firstChild && isDOMElement(root4.firstChild) && root4.firstChild.localName === \"shadow-root\") {\n    return root4.firstChild;\n  } else {\n    const shadowRoot = $$_create_element(\"shadow-root\");\n    root4.prepend(shadowRoot);\n    return shadowRoot;\n  }\n}\nvar registry = /* @__PURE__ */ new Map();\nfunction createServerElement(Component2) {\n  if (registry.has(Component2))\n    return registry.get(Component2);\n  const register2 = Component2.register;\n  if (Component2.register) {\n    const result = isArray(register2) ? register2 : register2?.();\n    if (isArray(result)) {\n      for (const Component3 of result) {\n        serverElementRegistry.set(Component3.el.tagName, Component3);\n      }\n    }\n  }\n  class MaverickElement extends ServerCustomElement {\n    static get _component() {\n      return Component2;\n    }\n  }\n  registry.set(Component2, MaverickElement);\n  return MaverickElement;\n}\nvar ServerCustomElement = class {\n  constructor() {\n    this.keepAlive = false;\n    this._component = null;\n    this._rendered = false;\n    this._attachCallbacks = /* @__PURE__ */ new Set();\n    this.attributes = new Attributes();\n    this.style = new Style();\n    this.classList = new ClassList();\n  }\n  get component() {\n    return this._component;\n  }\n  get $store() {\n    return this._component?.instance._store;\n  }\n  get state() {\n    return {};\n  }\n  attachComponent(component) {\n    scoped$1(() => {\n      this.setAttribute(\"mk-h\", \"\");\n      this.setAttribute(\"mk-d\", \"\");\n      if (this.hasAttribute(\"class\")) {\n        parseClassAttr(this.classList.tokens, this.getAttribute(\"class\"));\n      }\n      if (this.hasAttribute(\"style\")) {\n        parseStyleAttr(this.style.tokens, this.getAttribute(\"style\"));\n      }\n      const instance = component.instance;\n      instance._el = this;\n      this._component = component;\n      for (const callback of [...instance._attachCallbacks, ...this._attachCallbacks]) {\n        callback(this);\n      }\n      this._attachCallbacks = null;\n      const $attrs = instance._attrs, $styles = instance._styles;\n      if ($attrs) {\n        for (const name of Object.keys($attrs))\n          setAttribute(this, name, unwrapDeep($attrs[name]));\n      }\n      if ($styles) {\n        for (const name of Object.keys($styles))\n          setStyle(this, name, unwrapDeep($styles[name]));\n      }\n      this._rendered = !!instance._renderer;\n      this._ssr = instance._renderer ? renderToString(instance._renderer).code : \"\";\n      if (this.classList.length > 0) {\n        this.setAttribute(\"class\", this.classList.toString());\n      }\n      if (this.style.length > 0) {\n        this.setAttribute(\"style\", this.style.toString());\n      }\n    }, component.instance._scope);\n  }\n  render() {\n    if (typeof this._ssr !== \"string\") {\n      throw Error(\"[maverick] called `render` before attaching component\");\n    }\n    const innerHTML = this.renderInnerHTML(), def = this.constructor._component.el;\n    return this._rendered || def.shadowRoot && def.css ? def.shadowRoot ? `<template shadowroot=\"${this.getShadowRootMode()}\">${innerHTML}</template>` : `<shadow-root>${innerHTML}</shadow-root>` : innerHTML;\n  }\n  renderInnerHTML() {\n    if (typeof this._ssr !== \"string\") {\n      throw Error(\"[maverick] called `renderInnerHTML` before attaching component\");\n    }\n    const def = this.constructor._component.el, styleTag = def.shadowRoot && def.css ? `<style>${def.css.map((css2) => css2.text).join(\"\")}</style>` : \"\";\n    return styleTag + this._ssr;\n  }\n  getShadowRootMode() {\n    const def = this.constructor._component.el;\n    return def.shadowRoot ? isBoolean(def.shadowRoot) ? \"open\" : def.shadowRoot.mode : \"open\";\n  }\n  getAttribute(name) {\n    return this.attributes.getAttribute(name);\n  }\n  setAttribute(name, value) {\n    this.attributes.setAttribute(name, value);\n  }\n  hasAttribute(name) {\n    return this.attributes.hasAttribute(name);\n  }\n  removeAttribute(name) {\n    return this.attributes.removeAttribute(name);\n  }\n  dispatchEvent() {\n    return false;\n  }\n  onEventDispatch() {\n  }\n  addEventListener() {\n  }\n  removeEventListener() {\n  }\n  subscribe() {\n    return noop;\n  }\n  onAttach(callback) {\n    if (this._component) {\n      callback(this);\n      return noop;\n    } else {\n      this._attachCallbacks.add(callback);\n      return () => this._attachCallbacks?.delete(callback);\n    }\n  }\n  destroy() {\n    this._component?.destroy();\n  }\n};\nvar Attributes = class {\n  constructor() {\n    this._tokens = /* @__PURE__ */ new Map();\n  }\n  get length() {\n    return this._tokens.size;\n  }\n  get tokens() {\n    return this._tokens;\n  }\n  getAttribute(name) {\n    return this._tokens.get(name) ?? null;\n  }\n  hasAttribute(name) {\n    return this._tokens.has(name);\n  }\n  setAttribute(name, value) {\n    this._tokens.set(name, value + \"\");\n  }\n  removeAttribute(name) {\n    this._tokens.delete(name);\n  }\n  toString() {\n    if (this._tokens.size === 0)\n      return \"\";\n    let result = \"\";\n    for (const [name, value] of this._tokens) {\n      result += ` ${name}=\"${escape(value, true)}\"`;\n    }\n    return result;\n  }\n};\nvar Style = class {\n  constructor() {\n    this._tokens = /* @__PURE__ */ new Map();\n  }\n  get length() {\n    return this._tokens.size;\n  }\n  get tokens() {\n    return this._tokens;\n  }\n  getPropertyValue(prop2) {\n    return this._tokens.get(prop2) ?? \"\";\n  }\n  setProperty(prop2, value) {\n    this._tokens.set(prop2, value ?? \"\");\n  }\n  removeProperty(prop2) {\n    const value = this._tokens.get(prop2);\n    this._tokens.delete(prop2);\n    return value ?? \"\";\n  }\n  toString() {\n    if (this._tokens.size === 0)\n      return \"\";\n    let result = \"\";\n    for (const [name, value] of this._tokens) {\n      result += `${name}: ${value};`;\n    }\n    return result;\n  }\n};\nvar ClassList = class {\n  constructor() {\n    this._tokens = /* @__PURE__ */ new Set();\n  }\n  get length() {\n    return this._tokens.size;\n  }\n  get tokens() {\n    return this._tokens;\n  }\n  add(...tokens) {\n    for (const token of tokens) {\n      this._tokens.add(token);\n    }\n  }\n  contains(token) {\n    return this._tokens.has(token);\n  }\n  remove(token) {\n    this._tokens.delete(token);\n  }\n  replace(token, newToken) {\n    if (!this._tokens.has(token))\n      return false;\n    this._tokens.delete(token);\n    this._tokens.add(newToken);\n    return true;\n  }\n  toggle(token, force) {\n    if (force !== true && (this._tokens.has(token) || force === false)) {\n      this._tokens.delete(token);\n      return false;\n    } else {\n      this._tokens.add(token);\n      return true;\n    }\n  }\n  toString() {\n    return Array.from(this._tokens).join(\" \");\n  }\n};\n\n// src/element/props.ts\nvar PROP_DEF = Symbol(\"PROP_DEF\" );\nfunction defineProp(definition) {\n  return { [PROP_DEF]: true, ...definition };\n}\n\n// src/element/define.ts\nfunction defineElement(declaration) {\n  if (\"props\" in declaration) {\n    const props = declaration.props;\n    for (const name of Object.keys(props)) {\n      const def = props[name]?.[PROP_DEF] ? props[name] : { [PROP_DEF]: true, value: props[name] };\n      if (def.attribute !== false && !def.type)\n        def.type = inferAttributeType(def.value);\n      props[name] = def;\n    }\n  }\n  return declaration;\n}\nvar STRING = {\n  from: (v) => v === null ? \"\" : v + \"\"\n};\nvar NUMBER = {\n  from: (v) => v === null ? 0 : Number(v)\n};\nvar BOOLEAN = {\n  from: (v) => v !== null,\n  to: (v) => v ? \"\" : null\n};\nvar FUNCTION = {\n  from: false,\n  to: () => null\n};\nvar ARRAY = {\n  from: (v) => v === null ? [] : JSON.parse(v),\n  to: (v) => JSON.stringify(v)\n};\nvar OBJECT = {\n  from: (v) => v === null ? {} : JSON.parse(v),\n  to: (v) => JSON.stringify(v)\n};\nfunction inferAttributeType(value) {\n  if (value === null)\n    return STRING;\n  switch (typeof value) {\n    case \"undefined\":\n      return STRING;\n    case \"string\":\n      return STRING;\n    case \"boolean\":\n      return BOOLEAN;\n    case \"number\":\n      return NUMBER;\n    case \"function\":\n      return FUNCTION;\n    case \"object\":\n      return isArray(value) ? ARRAY : OBJECT;\n    default:\n      return STRING;\n  }\n}\n\n// src/element/decorators.ts\nfunction prop(target, propertyKey, descriptor) {\n  if (!target[PROPS])\n    target[PROPS] = /* @__PURE__ */ new Set();\n  target[PROPS].add(propertyKey);\n}\nfunction method(target, propertyKey, descriptor) {\n  if (!target[METHODS])\n    target[METHODS] = /* @__PURE__ */ new Set();\n  target[METHODS].add(propertyKey);\n}\n\n// src/runtime/ssr/internal.ts\nfunction $$_ssr(template, ...parts) {\n  let result = \"\";\n  for (let i = 0; i < template.length; i++) {\n    result += template[i];\n    result += resolve(escape(parts[i]));\n  }\n  return { [SSR_TEMPLATE]: result };\n}\nfunction $$_custom_element(tagName, props, spreads) {\n  const Component2 = serverElementRegistry.get(tagName);\n  if (!Component2) {\n    throw Error(`[maverick] custom element not registered: ${tagName}`);\n  }\n  const host = new (createServerElement(Component2))();\n  if (spreads && spreads.length > 0) {\n    const spread = $$_merge_spreads(spreads);\n    for (const [key, value] of spread.attributes) {\n      host.setAttribute(key, value);\n    }\n    for (const token of spread.classList) {\n      host.classList.add(token);\n    }\n    for (const [key, value] of spread.styles) {\n      host.style.setProperty(key, value);\n    }\n  }\n  const component = createComponent(Component2, { props });\n  host.attachComponent(component);\n  const children = !props?.innerHTML && props?.$children ? scoped(() => props.$children(), component.instance._scope) : [];\n  return [\n    host.attributes + \">\",\n    injectHTML(!props?.innerHTML ? host.render() : props.innerHTML),\n    ...children\n  ];\n}\nfunction $$_attr2(name, value) {\n  const attrValue = resolveAtrr(value);\n  return isString(attrValue) ? ` ${name}=\"${escape(attrValue, true)}\"` : \"\";\n}\nfunction resolveAtrr(value) {\n  if (isFunction(value))\n    return resolveAtrr(value());\n  if (!value && value !== \"\" && value !== 0) {\n    return null;\n  } else {\n    return value + \"\";\n  }\n}\nfunction $$_classes(base, tokens) {\n  let baseValue = unwrapDeep(base), result = isString(baseValue) ? baseValue : \"\";\n  if (tokens && Object.keys(tokens).length > 0) {\n    const classList = /* @__PURE__ */ new Set();\n    parseClassAttr(classList, result);\n    resolveClasses(classList, tokens);\n    result = Array.from(classList).join(\" \");\n  }\n  result = result.trim();\n  return result.length ? ` class=\"${escape(result, true)}\"` : \"\";\n}\nvar classSplitRE = /\\s+/;\nfunction parseClassAttr(tokens, attrValue) {\n  const classes = attrValue.trim().split(classSplitRE);\n  for (const token of classes)\n    tokens.add(token);\n}\nfunction resolveClasses(classList, tokens) {\n  for (const name of Object.keys(tokens)) {\n    if (unwrapDeep(tokens[name])) {\n      classList.add(name);\n    } else {\n      classList.delete(name);\n    }\n  }\n}\nfunction $$_styles(base, tokens) {\n  let baseValue = unwrapDeep(base), result = isString(baseValue) ? trimTrailingSemicolon(baseValue) : \"\";\n  if (Object.keys(tokens).length > 0) {\n    const styleMap = /* @__PURE__ */ new Map();\n    parseStyleAttr(styleMap, result);\n    resolveStyles(styleMap, tokens);\n    result = \"\";\n    for (const [name, value] of styleMap)\n      result += `${name}: ${value};`;\n  }\n  result = result.trim();\n  return result.length ? ` style=\"${escape(result, true)}\"` : result;\n}\nvar styleSplitRE = /\\s*:\\s*/;\nvar stylesDelimeterRE = /\\s*;\\s*/;\nfunction parseStyleAttr(tokens, attrValue) {\n  const styles = attrValue.trim().split(stylesDelimeterRE);\n  for (let i = 0; i < styles.length; i++) {\n    if (styles[i] === \"\")\n      continue;\n    const [name, value] = styles[i].split(styleSplitRE);\n    tokens.set(name, value);\n  }\n}\nfunction resolveStyles(tokens, styles) {\n  for (const name of Object.keys(styles)) {\n    const value = unwrapDeep(styles[name]);\n    if (!value && value !== 0) {\n      tokens.delete(name);\n    } else {\n      tokens.set(name, value + \"\");\n    }\n  }\n}\nvar propNameRE = /[A-Z]/;\nfunction $$_merge_spreads(spreads) {\n  let attributes = /* @__PURE__ */ new Map(), classList = /* @__PURE__ */ new Set(), styles = /* @__PURE__ */ new Map();\n  for (let i = 0; i < spreads.length; i++) {\n    const { $$class, $$style, class: classBase, style: styleBase, ...attrs } = spreads[i];\n    const attrNames = Object.keys(attrs);\n    for (let j = 0; j < attrNames.length; j++) {\n      const attrName = attrNames[j];\n      if (!propNameRE.test(attrName)) {\n        const attrValue = resolveAtrr(attrs[attrName]);\n        if (isString(attrValue)) {\n          attributes.set(attrName, attrValue);\n        } else {\n          attributes.delete(attrName);\n        }\n      }\n    }\n    if (\"class\" in spreads[i]) {\n      const base = unwrapDeep(classBase);\n      if (isNull(base) || base === false) {\n        classList.clear();\n      } else if (isString(base) && base.length) {\n        parseClassAttr(classList, base + \"\");\n      }\n    }\n    if ($$class)\n      resolveClasses(classList, $$class);\n    if (\"style\" in spreads[i]) {\n      const base = unwrapDeep(styleBase);\n      if (isNull(base) || base === false) {\n        styles.clear();\n      } else if (isString(base) && base.length) {\n        parseStyleAttr(styles, base);\n      }\n    }\n    if ($$style)\n      resolveStyles(styles, $$style);\n  }\n  return { attributes, classList, styles };\n}\nfunction $$_spread2(spreads) {\n  const { attributes, classList, styles } = $$_merge_spreads(spreads);\n  let result = \"\";\n  if (classList.size > 0) {\n    let _class = Array.from(classList).join(\" \");\n    result += `class=\"${escape(_class.trim(), true)}\"`;\n  }\n  for (const [name, value] of attributes) {\n    result += ` ${name}=\"${escape(value, true)}\"`;\n  }\n  if (styles.size > 0) {\n    let _styles = \"\";\n    for (const [name, value] of styles)\n      _styles += `${name}: ${value};`;\n    result += ` style=\"${escape(_styles.trim(), true)}\"`;\n  }\n  return result.trim();\n}\nfunction $$_inject_html(value) {\n  return injectHTML(resolve(value));\n}\nvar $$_scoped2 = scoped;\n/**\n * The code below this comment was adapted from Lit: https://github.dev/lit/lit\n *\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nexport { $$CHILDREN, $$_attach_declarative_shadow_dom, $$_attr2 as $$_attr, $$_attr as $$_attr2, $$_children, $$_class, $$_classes, $$_clone, $$_computed, $$_create_component, $$_create_element, $$_create_fragment, $$_create_template, $$_create_walker, $$_custom_element, $$_delegate_events, $$_directive, $$_effect, $$_hydrating, $$_inject_html, $$_insert, $$_insert_at_marker, $$_insert_at_marker_lite, $$_insert_lite, $$_listen, $$_merge_props, $$_merge_spreads, $$_next_element, $$_next_template, $$_peek, $$_ref, $$_scoped2 as $$_scoped, $$_scoped as $$_scoped2, $$_setup_custom_element, $$_spread2 as $$_spread, $$_spread as $$_spread2, $$_ssr, $$_style, $$_styles, ARRAY, BOOLEAN, Component, ComponentController, ComponentInstance, FUNCTION, NUMBER, OBJECT, PROP_DEF, SSR_TEMPLATE, STRING, adoptCSS, createComponent, createHTMLElement, createServerElement, css, defineElement, defineProp, hydrate, hydrateLite, hydration, inferAttributeType, injectCSS, injectHTML, method, parseClassAttr, parseStyleAttr, prop, registerCustomElement, registerHeadlessCustomElement, registerLiteCustomElement, render, renderLite, renderToString, resolve, runHydration };\n", "function isAudioProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"AUDIO\";\n}\nfunction isVideoProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"VIDEO\";\n}\nfunction isHLSProvider(provider) {\n  return provider?.$$PROVIDER_TYPE === \"HLS\";\n}\nfunction isHTMLAudioElement(element) {\n  return element instanceof HTMLAudioElement;\n}\nfunction isHTMLVideoElement(element) {\n  return element instanceof HTMLVideoElement;\n}\nfunction isHTMLMediaElement(element) {\n  return isHTMLAudioElement(element) || isHTMLVideoElement(element);\n}\n\nexport { isAudioProvider as a, isVideoProvider as b, isHLSProvider as c, isHTMLAudioElement as d, isHTMLVideoElement as e, isHTMLMediaElement as i };\n", "import { $$_create_walker, $$_attr, $$_hydrating, $$_create_template } from 'maverick.js/dom';\n\nconst $$_templ = /* @__PURE__ */ $$_create_template(`<!$><svg viewBox=\"0 0 32 32\" fill=\"none\" aria-hidden=\"true\" focusable=\"false\" data-media-icon=\"true\"></svg>`);\nfunction Icon({ slot, part, paths, rotate }) {\n  return (() => {\n    const [$$_root, $$_walker] = $$_create_walker($$_templ);\n    $$_attr($$_root, \"data-rotate\", rotate);\n    $$_attr($$_root, \"slot\", slot);\n    $$_attr($$_root, \"part\", part);\n    if (!$$_hydrating)\n      $$_root.innerHTML = paths;\n    return $$_root;\n  })();\n}\n\nexport { Icon as I };\n", "import { $$_create_walker, $$_effect, $$_attr, $$_ref, $$_create_template } from 'maverick.js/dom';\nimport { isString } from 'maverick.js/std';\n\nconst AUDIO_EXTENSIONS = /\\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nconst AUDIO_TYPES = /* @__PURE__ */ new Set([\n  \"audio/mpeg\",\n  \"audio/ogg\",\n  \"audio/3gp\",\n  \"audio/mp4\",\n  \"audio/webm\",\n  \"audio/flac\"\n]);\nconst VIDEO_EXTENSIONS = /\\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\\d+]+)?($|\\?)/i;\nconst VIDEO_TYPES = /* @__PURE__ */ new Set([\n  \"video/mp4\",\n  \"video/webm\",\n  \"video/3gp\",\n  \"video/ogg\",\n  \"video/avi\",\n  \"video/mpeg\"\n]);\nconst HLS_VIDEO_EXTENSIONS = /\\.(m3u8)($|\\?)/i;\nconst HLS_VIDEO_TYPES = /* @__PURE__ */ new Set([\n  // Apple sanctioned\n  \"application/vnd.apple.mpegurl\",\n  // Apple sanctioned for backwards compatibility\n  \"audio/mpegurl\",\n  // Very common\n  \"audio/x-mpegurl\",\n  // Very common\n  \"application/x-mpegurl\",\n  // Included for completeness\n  \"video/x-mpegurl\",\n  \"video/mpegurl\",\n  \"application/mpegurl\"\n]);\nfunction isHLSSrc({ src, type }) {\n  return typeof src === \"string\" && HLS_VIDEO_EXTENSIONS.test(src) || HLS_VIDEO_TYPES.has(type);\n}\nfunction isMediaStream(src) {\n  return typeof window.MediaStream !== \"undefined\" && src instanceof window.MediaStream;\n}\n\nconst $$_templ = /* @__PURE__ */ $$_create_template(`<!$><audio preload=\"none\" aria-hidden=\"true\"></audio>`), $$_templ_2 = $$_templ;\nclass AudioProviderLoader {\n  _audio;\n  canPlay({ src, type }) {\n    return isString(src) ? AUDIO_EXTENSIONS.test(src) || AUDIO_TYPES.has(type) || src.startsWith(\"blob:\") && type === \"audio/object\" : type === \"audio/object\";\n  }\n  mediaType() {\n    return \"audio\";\n  }\n  async load() {\n    if (!this._audio) {\n      throw Error(\n        \"[vidstack] `<audio>` element was not found - did you forget to include `<media-outlet>`?\"\n      );\n    }\n    return new (await import('./provider.js')).AudioProvider(this._audio);\n  }\n  render($store) {\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ_2);\n      $$_effect(() => $$_attr($$_root, \"controls\", $store.controls()));\n      $$_effect(() => $$_attr($$_root, \"crossorigin\", $store.crossorigin()));\n      $$_ref($$_root, (el) => void (this._audio = el));\n      return $$_root;\n    })();\n  }\n}\n\nexport { AudioProviderLoader as A, HLS_VIDEO_EXTENSIONS as H, VIDEO_EXTENSIONS as V, HLS_VIDEO_TYPES as a, isMediaStream as b, VIDEO_TYPES as c, isHLSSrc as i };\n", "import { $$_create_walker, $$_effect, $$_attr, $$_ref, $$_create_template } from 'maverick.js/dom';\nimport { computed } from 'maverick.js';\nimport { isString } from 'maverick.js/std';\nimport { V as VIDEO_EXTENSIONS, c as VIDEO_TYPES, i as isHLSSrc } from '../audio/loader.js';\nimport { Y as canPlayHLSNatively } from '../../media-core.js';\n\nconst $$_templ = /* @__PURE__ */ $$_create_template(`<!$><video preload=\"none\" aria-hidden=\"true\"></video>`), $$_templ_2 = $$_templ;\nclass VideoProviderLoader {\n  _video;\n  canPlay(src) {\n    return isString(src.src) ? VIDEO_EXTENSIONS.test(src.src) || VIDEO_TYPES.has(src.type) || src.src.startsWith(\"blob:\") && src.type === \"video/object\" || isHLSSrc(src) && canPlayHLSNatively() : src.type === \"video/object\";\n  }\n  mediaType() {\n    return \"video\";\n  }\n  async load(context) {\n    if (!this._video) {\n      throw Error(\n        \"[vidstack] `<video>` element was not found - did you forget to include `<media-outlet>`?\"\n      );\n    }\n    return new (await import('./provider.js')).VideoProvider(this._video, context);\n  }\n  render($store) {\n    const $poster = computed(() => $store.poster() && $store.controls() ? $store.poster() : null);\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ_2);\n      $$_effect(() => $$_attr($$_root, \"controls\", $store.controls()));\n      $$_effect(() => $$_attr($$_root, \"crossorigin\", $store.crossorigin()));\n      $$_effect(() => $$_attr($$_root, \"poster\", $poster()));\n      $$_ref($$_root, (el) => void (this._video = el));\n      return $$_root;\n    })();\n  }\n}\n\nexport { VideoProviderLoader as V };\n", "import { isString } from 'maverick.js/std';\nimport { H as HLS_VIDEO_EXTENSIONS, a as HLS_VIDEO_TYPES } from '../audio/loader.js';\nimport { W as isHLSSupported, p as preconnect } from '../../media-core.js';\nimport { V as VideoProviderLoader } from '../video/loader.js';\n\nclass HLSProviderLoader extends VideoProviderLoader {\n  static supported = isHLSSupported();\n  preconnect() {\n    preconnect(\"https://cdn.jsdelivr.net\", \"preconnect\");\n  }\n  canPlay({ src, type }) {\n    return HLSProviderLoader.supported && isString(src) && (HLS_VIDEO_EXTENSIONS.test(src) || HLS_VIDEO_TYPES.has(type));\n  }\n  async load(context) {\n    if (!this._video) {\n      throw Error(\n        \"[vidstack] `<video>` element was not found - did you forget to include `<media-outlet>`?\"\n      );\n    }\n    return new (await import('./provider.js')).HLSProvider(this._video, context);\n  }\n}\n\nexport { HLSProviderLoader as H };\n", "import { ComponentController, defineProp, Component, defineElement } from 'maverick.js/element';\nimport { signal, peek, effect, getScope, scoped, createContext, useContext, StoreFactory, tick, onDispose, computed } from 'maverick.js';\nimport { EventsTarget, DOMEvent, listenEvent, isUndefined, isFunction, waitTimeout, isKeyboardClick, setAttribute, isArray, isNumber, isKeyboardEvent, appendTriggerEvent, isNull, deferredPromise, isString, noop, animationFrameThrottle, setStyle } from 'maverick.js/std';\nimport { i as isHTMLMediaElement } from './providers/type-check.js';\nimport { A as AudioProviderLoader } from './providers/audio/loader.js';\nimport { H as HLSProviderLoader } from './providers/hls/loader.js';\nimport { V as VideoProviderLoader } from './providers/video/loader.js';\n\nconst LIST_ADD = Symbol(\"LIST_ADD\" );\nconst LIST_REMOVE = Symbol(\"LIST_REMOVE\" );\nconst LIST_RESET = Symbol(\"LIST_RESET\" );\nconst LIST_SELECT = Symbol(\"LIST_SELECT\" );\nconst LIST_READONLY = Symbol(\"LIST_READONLY\" );\nconst LIST_SET_READONLY = Symbol(\"LIST_SET_READONLY\" );\nconst LIST_ON_RESET = Symbol(\"LIST_ON_RESET\" );\nconst LIST_ON_REMOVE = Symbol(\"LIST_ON_REMOVE\" );\nconst LIST_ON_USER_SELECT = Symbol(\"LIST_ON_USER_SELECT\" );\n\nclass List extends EventsTarget {\n  _items = [];\n  /* @internal */\n  [LIST_READONLY] = false;\n  get length() {\n    return this._items.length;\n  }\n  get readonly() {\n    return this[LIST_READONLY];\n  }\n  /**\n   * Transform list to an array.\n   */\n  toArray() {\n    return [...this._items];\n  }\n  [Symbol.iterator]() {\n    return this._items.values();\n  }\n  /* @internal */\n  [LIST_ADD](item, trigger) {\n    const index = this._items.length;\n    if (!(\"\" + index in this)) {\n      Object.defineProperty(this, index, {\n        get() {\n          return this._items[index];\n        }\n      });\n    }\n    if (this._items.includes(item))\n      return;\n    this._items.push(item);\n    this.dispatchEvent(new DOMEvent(\"add\", { detail: item, trigger }));\n  }\n  /* @internal */\n  [LIST_REMOVE](item, trigger) {\n    const index = this._items.indexOf(item);\n    if (index >= 0) {\n      this[LIST_ON_REMOVE]?.(item, trigger);\n      this._items.splice(index, 1);\n      this.dispatchEvent(new DOMEvent(\"remove\", { detail: item, trigger }));\n    }\n  }\n  /* @internal */\n  [LIST_RESET](trigger) {\n    for (const item of [...this._items])\n      this[LIST_REMOVE](item, trigger);\n    this._items = [];\n    this[LIST_SET_READONLY](false, trigger);\n    this[LIST_ON_RESET]?.();\n  }\n  /* @internal */\n  [LIST_SET_READONLY](readonly, trigger) {\n    if (this[LIST_READONLY] === readonly)\n      return;\n    this[LIST_READONLY] = readonly;\n    this.dispatchEvent(new DOMEvent(\"readonly-change\", { detail: readonly, trigger }));\n  }\n}\n\nvar key = {\r\n    fullscreenEnabled: 0,\r\n    fullscreenElement: 1,\r\n    requestFullscreen: 2,\r\n    exitFullscreen: 3,\r\n    fullscreenchange: 4,\r\n    fullscreenerror: 5,\r\n    fullscreen: 6\r\n};\r\nvar webkit = [\r\n    'webkitFullscreenEnabled',\r\n    'webkitFullscreenElement',\r\n    'webkitRequestFullscreen',\r\n    'webkitExitFullscreen',\r\n    'webkitfullscreenchange',\r\n    'webkitfullscreenerror',\r\n    '-webkit-full-screen',\r\n];\r\nvar moz = [\r\n    'mozFullScreenEnabled',\r\n    'mozFullScreenElement',\r\n    'mozRequestFullScreen',\r\n    'mozCancelFullScreen',\r\n    'mozfullscreenchange',\r\n    'mozfullscreenerror',\r\n    '-moz-full-screen',\r\n];\r\nvar ms = [\r\n    'msFullscreenEnabled',\r\n    'msFullscreenElement',\r\n    'msRequestFullscreen',\r\n    'msExitFullscreen',\r\n    'MSFullscreenChange',\r\n    'MSFullscreenError',\r\n    '-ms-fullscreen',\r\n];\r\n// so it doesn't throw if no window or document\r\nvar document$1 = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\r\nvar vendor = (('fullscreenEnabled' in document$1 && Object.keys(key)) ||\r\n    (webkit[0] in document$1 && webkit) ||\r\n    (moz[0] in document$1 && moz) ||\r\n    (ms[0] in document$1 && ms) ||\r\n    []);\r\nvar fscreen = {\r\n    requestFullscreen: function (element) { return element[vendor[key.requestFullscreen]](); },\r\n    requestFullscreenFunction: function (element) { return element[vendor[key.requestFullscreen]]; },\r\n    get exitFullscreen() { return document$1[vendor[key.exitFullscreen]].bind(document$1); },\r\n    get fullscreenPseudoClass() { return \":\" + vendor[key.fullscreen]; },\r\n    addEventListener: function (type, handler, options) { return document$1.addEventListener(vendor[key[type]], handler, options); },\r\n    removeEventListener: function (type, handler, options) { return document$1.removeEventListener(vendor[key[type]], handler, options); },\r\n    get fullscreenEnabled() { return Boolean(document$1[vendor[key.fullscreenEnabled]]); },\r\n    set fullscreenEnabled(val) { },\r\n    get fullscreenElement() { return document$1[vendor[key.fullscreenElement]]; },\r\n    set fullscreenElement(val) { },\r\n    get onfullscreenchange() { return document$1[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()]; },\r\n    set onfullscreenchange(handler) { return document$1[(\"on\" + vendor[key.fullscreenchange]).toLowerCase()] = handler; },\r\n    get onfullscreenerror() { return document$1[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()]; },\r\n    set onfullscreenerror(handler) { return document$1[(\"on\" + vendor[key.fullscreenerror]).toLowerCase()] = handler; },\r\n};\n\nvar fscreen$1 = fscreen;\n\nconst CAN_FULLSCREEN = fscreen$1.fullscreenEnabled;\nclass FullscreenController extends ComponentController {\n  /**\n   * Tracks whether we're the active fullscreen event listener. Fullscreen events can only be\n   * listened to globally on the document so we need to know if they relate to the current host\n   * element or not.\n   */\n  _listening = false;\n  _active = false;\n  get active() {\n    return this._active;\n  }\n  get supported() {\n    return CAN_FULLSCREEN;\n  }\n  onConnect() {\n    listenEvent(fscreen$1, \"fullscreenchange\", this._onFullscreenChange.bind(this));\n    listenEvent(fscreen$1, \"fullscreenerror\", this._onFullscreenError.bind(this));\n  }\n  async onDisconnect() {\n    if (CAN_FULLSCREEN)\n      await this.exit();\n  }\n  _onFullscreenChange(event) {\n    const active = isFullscreen(this.el);\n    if (active === this._active)\n      return;\n    if (!active)\n      this._listening = false;\n    this._active = active;\n    this.dispatch(\"fullscreen-change\", { detail: active, trigger: event });\n  }\n  _onFullscreenError(event) {\n    if (!this._listening)\n      return;\n    this.dispatch(\"fullscreen-error\", { detail: null, trigger: event });\n    this._listening = false;\n  }\n  async enter() {\n    try {\n      this._listening = true;\n      if (!this.el || isFullscreen(this.el))\n        return;\n      assertFullscreenAPI();\n      return fscreen$1.requestFullscreen(this.el);\n    } catch (error) {\n      this._listening = false;\n      throw error;\n    }\n  }\n  async exit() {\n    if (!this.el || !isFullscreen(this.el))\n      return;\n    assertFullscreenAPI();\n    return fscreen$1.exitFullscreen();\n  }\n}\nfunction canFullscreen() {\n  return CAN_FULLSCREEN;\n}\nfunction isFullscreen(host) {\n  if (fscreen$1.fullscreenElement === host)\n    return true;\n  try {\n    return host.matches(\n      // @ts-expect-error - `fullscreenPseudoClass` is missing from `@types/fscreen`.\n      fscreen$1.fullscreenPseudoClass\n    );\n  } catch (error) {\n    return false;\n  }\n}\nfunction assertFullscreenAPI() {\n  if (CAN_FULLSCREEN)\n    return;\n  throw Error(\n    \"[vidstack] fullscreen API is not enabled or supported in this environment\" \n  );\n}\n\nconst UA = navigator?.userAgent.toLowerCase();\nconst IS_IOS = /iphone|ipad|ipod|ios|crios|fxios/i.test(UA);\nconst IS_IPHONE = /(iphone|ipod)/gi.test(navigator?.platform);\nconst IS_CHROME = !!window.chrome;\nconst IS_SAFARI = !!window.safari || IS_IOS;\nfunction canOrientScreen() {\n  return !isUndefined(screen.orientation) && isFunction(screen.orientation.lock) && isFunction(screen.orientation.unlock);\n}\nfunction canPlayHLSNatively(video) {\n  if (!video)\n    video = document.createElement(\"video\");\n  return video.canPlayType(\"application/vnd.apple.mpegurl\").length > 0;\n}\nfunction canUsePictureInPicture(video) {\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n}\nfunction canUseVideoPresentation(video) {\n  return isFunction(video.webkitSupportsPresentationMode) && isFunction(video.webkitSetPresentationMode);\n}\nasync function canChangeVolume() {\n  const video = document.createElement(\"video\");\n  video.volume = 0.5;\n  await waitTimeout(0);\n  return video.volume === 0.5;\n}\nfunction getMediaSource() {\n  return window?.MediaSource ?? window?.WebKitMediaSource;\n}\nfunction getSourceBuffer() {\n  return window?.SourceBuffer ?? window?.WebKitSourceBuffer;\n}\nfunction isHLSSupported() {\n  const MediaSource = getMediaSource();\n  if (isUndefined(MediaSource))\n    return false;\n  const isTypeSupported = MediaSource && isFunction(MediaSource.isTypeSupported) && MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"');\n  const SourceBuffer = getSourceBuffer();\n  const isSourceBufferValid = isUndefined(SourceBuffer) || !isUndefined(SourceBuffer.prototype) && isFunction(SourceBuffer.prototype.appendBuffer) && isFunction(SourceBuffer.prototype.remove);\n  return !!isTypeSupported && !!isSourceBufferValid;\n}\n\nconst CAN_USE_SCREEN_ORIENTATION_API = canOrientScreen();\nclass ScreenOrientationController extends ComponentController {\n  _type = signal(getScreenOrientation());\n  _locked = signal(false);\n  _currentLock;\n  /**\n   * The current screen orientation type.\n   *\n   * @signal\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ScreenOrientation}\n   * @see https://w3c.github.io/screen-orientation/#screen-orientation-types-and-locks\n   */\n  get type() {\n    return this._type();\n  }\n  /**\n   * Whether the screen orientation is currently locked.\n   *\n   * @signal\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/ScreenOrientation}\n   * @see https://w3c.github.io/screen-orientation/#screen-orientation-types-and-locks\n   */\n  get locked() {\n    return this._locked();\n  }\n  /**\n   * Whether the viewport is in a portrait orientation.\n   *\n   * @signal\n   */\n  get portrait() {\n    return this._type().startsWith(\"portrait\");\n  }\n  /**\n   * Whether the viewport is in a landscape orientation.\n   *\n   * @signal\n   */\n  get landscape() {\n    return this._type().startsWith(\"landscape\");\n  }\n  /**\n   * Whether the native Screen Orientation API is available.\n   */\n  get supported() {\n    return CAN_USE_SCREEN_ORIENTATION_API;\n  }\n  onConnect() {\n    if (CAN_USE_SCREEN_ORIENTATION_API) {\n      listenEvent(screen.orientation, \"change\", this._onOrientationChange.bind(this));\n    } else {\n      const query = window.matchMedia(\"(orientation: landscape)\");\n      query.onchange = this._onOrientationChange.bind(this);\n      return () => query.onchange = null;\n    }\n  }\n  async onDisconnect() {\n    if (CAN_USE_SCREEN_ORIENTATION_API && this._locked())\n      await this.unlock();\n  }\n  _onOrientationChange(event) {\n    this._type.set(getScreenOrientation());\n    this.dispatch(\"orientation-change\", {\n      detail: {\n        orientation: peek(this._type),\n        lock: this._currentLock\n      },\n      trigger: event\n    });\n  }\n  /**\n   * Locks the orientation of the screen to the desired orientation type using the\n   * Screen Orientation API.\n   *\n   * @param lockType - The screen lock orientation type.\n   * @throws Error - If screen orientation API is unavailable.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation}\n   * @see {@link https://w3c.github.io/screen-orientation}\n   */\n  async lock(lockType) {\n    if (peek(this._locked) || this._currentLock === lockType)\n      return;\n    assertScreenOrientationAPI();\n    await screen.orientation.lock(lockType);\n    this._locked.set(true);\n    this._currentLock = lockType;\n  }\n  /**\n   * Unlocks the orientation of the screen to it's default state using the Screen Orientation\n   * API. This method will throw an error if the API is unavailable.\n   *\n   * @throws Error - If screen orientation API is unavailable.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Screen/orientation}\n   * @see {@link https://w3c.github.io/screen-orientation}\n   */\n  async unlock() {\n    if (!peek(this._locked))\n      return;\n    assertScreenOrientationAPI();\n    this._currentLock = void 0;\n    await screen.orientation.unlock();\n    this._locked.set(false);\n  }\n}\nfunction assertScreenOrientationAPI() {\n  if (CAN_USE_SCREEN_ORIENTATION_API)\n    return;\n  throw Error(\n    \"[vidstack] screen orientation API is not available\" \n  );\n}\nfunction getScreenOrientation() {\n  if (CAN_USE_SCREEN_ORIENTATION_API)\n    return window.screen.orientation.type;\n  return window.innerWidth >= window.innerHeight ? \"landscape-primary\" : \"portrait-primary\";\n}\n\nfunction setAttributeIfEmpty(target, name, value) {\n  if (!target.hasAttribute(name))\n    target.setAttribute(name, value);\n}\nfunction setARIALabel(target, label) {\n  if (target.hasAttribute(\"aria-label\") || target.hasAttribute(\"aria-describedby\"))\n    return;\n  function updateAriaDescription() {\n    setAttribute(target, \"aria-label\", label());\n  }\n  effect(updateAriaDescription);\n}\nfunction isElementParent(owner, node, test) {\n  while (node) {\n    if (node === owner) {\n      return true;\n    } else if (node.localName === owner.localName || test?.(node)) {\n      break;\n    } else {\n      node = node.parentElement;\n    }\n  }\n  return false;\n}\nfunction onPress(target, handler) {\n  listenEvent(target, \"pointerup\", (event) => {\n    if (event.button === 0)\n      handler(event);\n  });\n  listenEvent(target, \"keydown\", (event) => {\n    if (isKeyboardClick(event))\n      handler(event);\n  });\n}\nfunction scopedRaf(callback) {\n  const scope = getScope();\n  requestAnimationFrame(() => scoped(callback, scope));\n}\n\nconst mediaContext = createContext();\nfunction useMedia() {\n  return useContext(mediaContext);\n}\n\nconst MEDIA_ATTRIBUTES = [\n  \"autoplay\",\n  \"autoplayError\",\n  \"canFullscreen\",\n  \"canPictureInPicture\",\n  \"canLoad\",\n  \"canPlay\",\n  \"canSeek\",\n  \"ended\",\n  \"error\",\n  \"fullscreen\",\n  \"loop\",\n  \"live\",\n  \"liveEdge\",\n  \"mediaType\",\n  \"muted\",\n  \"paused\",\n  \"pictureInPicture\",\n  \"playing\",\n  \"playsinline\",\n  \"seeking\",\n  \"started\",\n  \"streamType\",\n  \"userIdle\",\n  \"viewType\",\n  \"waiting\"\n];\n\nconst MEDIA_KEY_SHORTCUTS = {\n  togglePaused: \"k Space\",\n  toggleMuted: \"m\",\n  toggleFullscreen: \"f\",\n  togglePictureInPicture: \"i\",\n  toggleCaptions: \"c\",\n  seekBackward: \"ArrowLeft\",\n  seekForward: \"ArrowRight\",\n  volumeUp: \"ArrowUp\",\n  volumeDown: \"ArrowDown\"\n};\nconst MODIFIER_KEYS = /* @__PURE__ */ new Set([\"Shift\", \"Alt\", \"Meta\", \"Control\"]), BUTTON_SELECTORS = 'button, [role=\"button\"]', IGNORE_SELECTORS = 'input, textarea, select, [contenteditable], [role^=\"menuitem\"]';\nclass MediaKeyboardController extends ComponentController {\n  constructor(instance, _media) {\n    super(instance);\n    this._media = _media;\n  }\n  onConnect() {\n    effect(this._onTargetChange.bind(this));\n  }\n  _onTargetChange() {\n    const { keyDisabled, keyTarget } = this.$props;\n    if (keyDisabled())\n      return;\n    const target = keyTarget() === \"player\" ? this.el : document, $active = signal(false);\n    if (target === this.el) {\n      this.listen(\"focusin\", () => $active.set(true));\n      this.listen(\"focusout\", (event) => {\n        if (!this.el.contains(event.target))\n          $active.set(false);\n      });\n    } else {\n      if (!peek($active))\n        $active.set(document.querySelector(\"media-player\") === this.el);\n      listenEvent(document, \"focusin\", (event) => {\n        const activePlayer = event.composedPath().find((el) => el instanceof Element && el.localName === \"media-player\");\n        if (activePlayer !== void 0)\n          $active.set(this.el === activePlayer);\n      });\n    }\n    effect(() => {\n      if (!$active())\n        return;\n      listenEvent(target, \"keyup\", this._onKeyUp.bind(this));\n      listenEvent(target, \"keydown\", this._onKeyDown.bind(this));\n      listenEvent(target, \"keydown\", this._onPreventVideoKeys.bind(this), { capture: true });\n    });\n  }\n  _onKeyUp(event) {\n    const focused = document.activeElement, sliderFocused = focused?.hasAttribute(\"data-media-slider\");\n    if (!event.key || !this.$store.canSeek() || sliderFocused || focused?.matches(IGNORE_SELECTORS)) {\n      return;\n    }\n    const method = this._getMatchingMethod(event);\n    if (method?.startsWith(\"seek\")) {\n      event.preventDefault();\n      event.stopPropagation();\n      if (this._timeSlider) {\n        this._forwardTimeKeyboardEvent(event);\n        this._timeSlider = null;\n      } else {\n        this._media.remote.seek(this._seekTotal, event);\n        this._seekTotal = void 0;\n      }\n    }\n    if (method?.startsWith(\"volume\")) {\n      const volumeSlider = this.el.querySelector(\"media-volume-slider\");\n      volumeSlider?.dispatchEvent(new DOMEvent(\"keyup\", { trigger: event }));\n    }\n  }\n  _onKeyDown(event) {\n    if (!event.key || MODIFIER_KEYS.has(event.key))\n      return;\n    const focused = document.activeElement;\n    if (focused?.matches(IGNORE_SELECTORS) || isKeyboardClick(event) && focused?.matches(BUTTON_SELECTORS)) {\n      return;\n    }\n    const sliderFocused = focused?.hasAttribute(\"data-media-slider\"), method = this._getMatchingMethod(event);\n    if (!method && !event.metaKey && /[0-9]/.test(event.key) && !sliderFocused) {\n      event.preventDefault();\n      event.stopPropagation();\n      this._media.remote.seek(this.$store.duration() / 10 * Number(event.key), event);\n      return;\n    }\n    if (!method || /volume|seek/.test(method) && sliderFocused)\n      return;\n    event.preventDefault();\n    event.stopPropagation();\n    switch (method) {\n      case \"seekForward\":\n      case \"seekBackward\":\n        this._seeking(event, method);\n        break;\n      case \"volumeUp\":\n      case \"volumeDown\":\n        const volumeSlider = this.el.querySelector(\"media-volume-slider\");\n        if (volumeSlider) {\n          volumeSlider.dispatchEvent(new DOMEvent(\"keydown\", { trigger: event }));\n        } else {\n          const value = event.shiftKey ? 0.1 : 0.05;\n          this._media.remote.changeVolume(\n            this.$store.volume() + (method === \"volumeUp\" ? +value : -value),\n            event\n          );\n        }\n        break;\n      case \"toggleFullscreen\":\n        this._media.remote.toggleFullscreen(\"prefer-media\", event);\n        break;\n      default:\n        this._media.remote[method]?.(event);\n    }\n  }\n  _onPreventVideoKeys(event) {\n    if (isHTMLMediaElement(event.target) && this._getMatchingMethod(event)) {\n      event.preventDefault();\n    }\n  }\n  _getMatchingMethod(event) {\n    const keyShortcuts = {\n      ...this.$props.keyShortcuts(),\n      ...this._media.ariaKeys\n    };\n    return Object.keys(keyShortcuts).find(\n      (method) => keyShortcuts[method].split(\" \").some(\n        (keys) => replaceSymbolKeys(keys).replace(/Control/g, \"Ctrl\").split(\"+\").every(\n          (key) => MODIFIER_KEYS.has(key) ? event[key.toLowerCase() + \"Key\"] : event.key === key.replace(\"Space\", \" \")\n        )\n      )\n    );\n  }\n  _seekTotal;\n  _calcSeekAmount(event, type) {\n    const seekBy = event.shiftKey ? 10 : 5;\n    return this._seekTotal = Math.max(\n      0,\n      Math.min(\n        (this._seekTotal ?? this.$store.currentTime()) + (type === \"seekForward\" ? +seekBy : -seekBy),\n        this.$store.duration()\n      )\n    );\n  }\n  _timeSlider = null;\n  _forwardTimeKeyboardEvent(event) {\n    this._timeSlider?.dispatchEvent(new DOMEvent(event.type, { trigger: event }));\n  }\n  _seeking(event, type) {\n    if (!this.$store.canSeek())\n      return;\n    if (!this._timeSlider)\n      this._timeSlider = this.el.querySelector(\"media-time-slider\");\n    if (this._timeSlider) {\n      this._forwardTimeKeyboardEvent(event);\n    } else {\n      this._media.remote.seeking(this._calcSeekAmount(event, type), event);\n    }\n  }\n}\nconst SYMBOL_KEY_MAP = [\"!\", \"@\", \"#\", \"$\", \"%\", \"^\", \"&\", \"*\", \"(\", \")\"];\nfunction replaceSymbolKeys(key) {\n  return key.replace(/Shift\\+(\\d)/g, (_, num) => SYMBOL_KEY_MAP[num - 1]);\n}\n\nconst mediaPlayerProps = {\n  autoplay: false,\n  aspectRatio: defineProp({\n    value: null,\n    type: {\n      from(value) {\n        if (!value)\n          return null;\n        if (!value.includes(\"/\"))\n          return +value;\n        const [width, height] = value.split(\"/\").map(Number);\n        return +(width / height).toFixed(4);\n      }\n    }\n  }),\n  controls: false,\n  currentTime: 0,\n  crossorigin: null,\n  fullscreenOrientation: \"landscape\",\n  load: \"visible\",\n  logLevel: \"silent\",\n  loop: false,\n  muted: false,\n  paused: true,\n  playsinline: false,\n  playbackRate: 1,\n  poster: \"\",\n  preload: \"metadata\",\n  preferNativeHLS: defineProp({\n    value: false,\n    attribute: \"prefer-native-hls\"\n  }),\n  src: \"\",\n  userIdleDelay: 2e3,\n  viewType: \"unknown\",\n  streamType: \"unknown\",\n  volume: 1,\n  liveEdgeTolerance: 10,\n  minLiveDVRWindow: 60,\n  keyDisabled: false,\n  keyTarget: \"player\",\n  keyShortcuts: MEDIA_KEY_SHORTCUTS,\n  title: \"\",\n  thumbnails: null,\n  textTracks: defineProp({\n    value: [],\n    attribute: false\n  }),\n  smallBreakpointX: 600,\n  largeBreakpointX: 980,\n  smallBreakpointY: 380,\n  largeBreakpointY: 600\n};\n\nclass TimeRange {\n  _ranges;\n  get length() {\n    return this._ranges.length;\n  }\n  constructor(start, end) {\n    if (isArray(start)) {\n      this._ranges = start;\n    } else if (!isUndefined(start) && !isUndefined(end)) {\n      this._ranges = [[start, end]];\n    } else {\n      this._ranges = [];\n    }\n  }\n  start(index) {\n    throwIfEmpty(this._ranges.length);\n    throwIfOutOfRange(\"start\", index, this._ranges.length - 1);\n    return this._ranges[index][0] ?? Infinity;\n  }\n  end(index) {\n    throwIfEmpty(this._ranges.length);\n    throwIfOutOfRange(\"end\", index, this._ranges.length - 1);\n    return this._ranges[index][1] ?? Infinity;\n  }\n}\nfunction getTimeRangesStart(range) {\n  if (!range.length)\n    return null;\n  let min = range.start(0);\n  for (let i = 1; i < range.length; i++) {\n    const value = range.start(i);\n    if (value < min)\n      min = value;\n  }\n  return min;\n}\nfunction getTimeRangesEnd(range) {\n  if (!range.length)\n    return null;\n  let max = range.end(0);\n  for (let i = 1; i < range.length; i++) {\n    const value = range.end(i);\n    if (value > max)\n      max = value;\n  }\n  return max;\n}\nfunction throwIfEmpty(length) {\n  if (!length)\n    throw new Error(\"`TimeRanges` object is empty.\" );\n}\nfunction throwIfOutOfRange(fnName, index, end) {\n  if (!isNumber(index) || index < 0 || index > end) {\n    throw new Error(\n      `Failed to execute '${fnName}' on 'TimeRanges': The index provided (${index}) is non-numeric or out of bounds (0-${end}).`\n    );\n  }\n}\n\nconst MediaStoreFactory = new StoreFactory({\n  audioTracks: [],\n  audioTrack: null,\n  autoplay: false,\n  autoplayError: void 0,\n  buffered: new TimeRange(),\n  duration: 0,\n  canLoad: false,\n  canFullscreen: false,\n  canPictureInPicture: false,\n  canPlay: false,\n  controls: false,\n  crossorigin: null,\n  poster: \"\",\n  currentTime: 0,\n  ended: false,\n  error: void 0,\n  fullscreen: false,\n  loop: false,\n  logLevel: \"warn\" ,\n  mediaType: \"unknown\",\n  muted: false,\n  paused: true,\n  played: new TimeRange(),\n  playing: false,\n  playsinline: false,\n  pictureInPicture: false,\n  preload: \"metadata\",\n  playbackRate: 1,\n  qualities: [],\n  quality: null,\n  autoQuality: false,\n  canSetQuality: true,\n  seekable: new TimeRange(),\n  seeking: false,\n  source: { src: \"\", type: \"\" },\n  sources: [],\n  started: false,\n  title: \"\",\n  textTracks: [],\n  textTrack: null,\n  thumbnails: null,\n  thumbnailCues: [],\n  volume: 1,\n  waiting: false,\n  get viewType() {\n    return this.providedViewType !== \"unknown\" ? this.providedViewType : this.mediaType;\n  },\n  get streamType() {\n    return this.providedStreamType !== \"unknown\" ? this.providedStreamType : this.inferredStreamType;\n  },\n  get currentSrc() {\n    return this.source;\n  },\n  get bufferedStart() {\n    return getTimeRangesStart(this.buffered) ?? 0;\n  },\n  get bufferedEnd() {\n    return getTimeRangesEnd(this.buffered) ?? 0;\n  },\n  get seekableStart() {\n    return getTimeRangesStart(this.seekable) ?? 0;\n  },\n  get seekableEnd() {\n    return this.canPlay ? getTimeRangesEnd(this.seekable) ?? Infinity : 0;\n  },\n  get seekableWindow() {\n    return Math.max(0, this.seekableEnd - this.seekableStart);\n  },\n  // ~~ responsive design ~~\n  touchPointer: false,\n  orientation: \"landscape\",\n  mediaWidth: 0,\n  mediaHeight: 0,\n  breakpointX: \"sm\",\n  breakpointY: \"sm\",\n  // ~~ user props ~~\n  userIdle: false,\n  userBehindLiveEdge: false,\n  // ~~ live props ~~\n  liveEdgeTolerance: 10,\n  minLiveDVRWindow: 60,\n  get canSeek() {\n    return /unknown|on-demand|:dvr/.test(this.streamType) && Number.isFinite(this.seekableWindow) && (!this.live || /:dvr/.test(this.streamType) && this.seekableWindow >= this.minLiveDVRWindow);\n  },\n  get live() {\n    return this.streamType.includes(\"live\") || !Number.isFinite(this.duration);\n  },\n  get liveEdgeStart() {\n    return this.live && Number.isFinite(this.seekableEnd) ? Math.max(0, (this.liveSyncPosition ?? this.seekableEnd) - this.liveEdgeTolerance) : 0;\n  },\n  get liveEdge() {\n    return this.live && (!this.canSeek || !this.userBehindLiveEdge && this.currentTime >= this.liveEdgeStart);\n  },\n  get liveEdgeWindow() {\n    return this.live && Number.isFinite(this.seekableEnd) ? this.seekableEnd - this.liveEdgeStart : 0;\n  },\n  // ~~ internal props ~~\n  autoplaying: false,\n  providedViewType: \"unknown\",\n  providedStreamType: \"unknown\",\n  inferredStreamType: \"unknown\",\n  liveSyncPosition: null\n});\nconst DO_NOT_RESET_ON_SRC_CHANGE = /* @__PURE__ */ new Set([\n  \"autoplay\",\n  \"breakpointX\",\n  \"breakpointY\",\n  \"canFullscreen\",\n  \"canLoad\",\n  \"canPictureInPicture\",\n  \"controls\",\n  \"fullscreen\",\n  \"logLevel\",\n  \"loop\",\n  \"mediaHeight\",\n  \"mediaWidth\",\n  \"muted\",\n  \"orientation\",\n  \"pictureInPicture\",\n  \"playsinline\",\n  \"poster\",\n  \"preload\",\n  \"providedStreamType\",\n  \"providedViewType\",\n  \"source\",\n  \"sources\",\n  \"textTrack\",\n  \"textTracks\",\n  \"thumbnailCues\",\n  \"thumbnails\",\n  \"title\",\n  \"touchPointer\",\n  \"volume\"\n]);\nfunction softResetMediaStore($media) {\n  MediaStoreFactory.reset($media, (prop) => !DO_NOT_RESET_ON_SRC_CHANGE.has(prop));\n  tick();\n}\n\nconst SELECTED = Symbol(\"SELECTED\" );\nclass SelectList extends List {\n  get selected() {\n    return this._items.find((item) => item.selected) ?? null;\n  }\n  get selectedIndex() {\n    return this._items.findIndex((item) => item.selected);\n  }\n  /* @internal */\n  [LIST_ON_REMOVE](item, trigger) {\n    this[LIST_SELECT](item, false, trigger);\n  }\n  /* @internal */\n  [LIST_ADD](item, trigger) {\n    item[SELECTED] = false;\n    Object.defineProperty(item, \"selected\", {\n      get() {\n        return this[SELECTED];\n      },\n      set: (selected) => {\n        if (this.readonly)\n          return;\n        this[LIST_ON_USER_SELECT]?.();\n        this[LIST_SELECT](item, selected);\n      }\n    });\n    super[LIST_ADD](item, trigger);\n  }\n  /* @internal */\n  [LIST_SELECT](item, selected, trigger) {\n    if (selected === item[SELECTED])\n      return;\n    const prev = this.selected;\n    item[SELECTED] = selected;\n    const changed = !selected ? prev === item : prev !== item;\n    if (changed) {\n      if (prev)\n        prev[SELECTED] = false;\n      this.dispatchEvent(\n        new DOMEvent(\"change\", {\n          detail: { prev, current: this.selected },\n          trigger\n        })\n      );\n    }\n  }\n}\n\nconst SET_AUTO_QUALITY = Symbol(\"SET_AUTO_QUALITY\" );\nconst ENABLE_AUTO_QUALITY = Symbol(\"ENABLE_AUTO_QUALITY\" );\n\nclass VideoQualityList extends SelectList {\n  _auto = false;\n  /**\n   * Configures quality switching:\n   *\n   * - `current`: Trigger an immediate quality level switch. This will abort the current fragment\n   * request if any, flush the whole buffer, and fetch fragment matching with current position\n   * and requested quality level.\n   *\n   * - `next`: Trigger a quality level switch for next fragment. This could eventually flush\n   * already buffered next fragment.\n   *\n   * - `load`: Set quality level for next loaded fragment.\n   *\n   * @see {@link https://vidstack.io/docs/player/core-concepts/quality#switch}\n   * @see {@link https://github.com/video-dev/hls.js/blob/master/docs/API.md#quality-switch-control-api}\n   */\n  switch = \"current\";\n  /**\n   * Whether automatic quality selection is enabled.\n   */\n  get auto() {\n    return this._auto || this.readonly;\n  }\n  /* @internal */\n  [ENABLE_AUTO_QUALITY];\n  /* @internal */\n  [LIST_ON_USER_SELECT]() {\n    this[SET_AUTO_QUALITY](false);\n  }\n  /* @internal */\n  [LIST_ON_RESET](trigger) {\n    this[SET_AUTO_QUALITY](false, trigger);\n  }\n  /**\n   * Request automatic quality selection (if supported). This will be a no-op if the list is\n   * `readonly` as that already implies auto-selection.\n   */\n  autoSelect(trigger) {\n    if (this.readonly || this._auto || !this[ENABLE_AUTO_QUALITY])\n      return;\n    this[ENABLE_AUTO_QUALITY]();\n    this[SET_AUTO_QUALITY](true, trigger);\n  }\n  /* @internal */\n  [SET_AUTO_QUALITY](auto, trigger) {\n    if (this._auto === auto)\n      return;\n    this._auto = auto;\n    this.dispatchEvent(\n      new DOMEvent(\"auto-change\", {\n        detail: auto,\n        trigger\n      })\n    );\n  }\n}\n\nconst MEDIA_EVENTS = [\n  \"abort\",\n  \"can-play\",\n  \"can-play-through\",\n  \"duration-change\",\n  \"emptied\",\n  \"ended\",\n  \"error\",\n  \"fullscreen-change\",\n  \"loaded-data\",\n  \"loaded-metadata\",\n  \"load-start\",\n  \"media-type-change\",\n  \"pause\",\n  \"play\",\n  \"playing\",\n  \"progress\",\n  \"seeked\",\n  \"seeking\",\n  \"source-change\",\n  \"sources-change\",\n  \"stalled\",\n  \"started\",\n  \"suspend\",\n  \"stream-type-change\",\n  \"replay\",\n  // 'time-update',\n  \"view-type-change\",\n  \"volume-change\",\n  \"waiting\"\n] ;\nclass MediaEventsLogger extends ComponentController {\n  constructor(instance, _media) {\n    super(instance);\n    this._media = _media;\n  }\n  onConnect() {\n    const handler = this._onMediaEvent.bind(this);\n    for (const eventType of MEDIA_EVENTS)\n      this.listen(eventType, handler);\n  }\n  _onMediaEvent(event) {\n    this._media.logger?.infoGroup(`\\u{1F4E1} dispatching \\`${event.type}\\``).labelledLog(\"Media Store\", { ...this.$store }).labelledLog(\"Event\", event).dispatch();\n  }\n}\n\nclass MediaLoadController extends ComponentController {\n  constructor(instance, _callback) {\n    super(instance);\n    this._callback = _callback;\n  }\n  async onAttach(el) {\n    const load = this.$props.load();\n    if (load === \"eager\") {\n      requestAnimationFrame(this._callback);\n    } else if (load === \"idle\") {\n      const { waitIdlePeriod } = await import('maverick.js/std');\n      waitIdlePeriod(this._callback);\n    } else if (load === \"visible\") {\n      const observer = new IntersectionObserver((entries) => {\n        if (entries[0].isIntersecting) {\n          observer.disconnect();\n          this._callback();\n        }\n      });\n      observer.observe(el);\n      return observer.disconnect.bind(observer);\n    }\n  }\n}\n\nclass MediaPlayerDelegate {\n  constructor(_handle, _media) {\n    this._handle = _handle;\n    this._media = _media;\n  }\n  _dispatch(type, ...init) {\n    this._handle(new DOMEvent(type, init?.[0]));\n  }\n  async _ready(info, trigger) {\n    const { $store, logger } = this._media;\n    if (peek($store.canPlay))\n      return;\n    this._dispatch(\"can-play\", { detail: info, trigger });\n    tick();\n    {\n      logger?.infoGroup(\"-~-~-~-~-~-~-~-~- \\u2705 MEDIA READY -~-~-~-~-~-~-~-~-\").labelledLog(\"Media Store\", { ...$store }).labelledLog(\"Trigger Event\", trigger).dispatch();\n    }\n    if ($store.canPlay() && $store.autoplay() && !$store.started()) {\n      await this._attemptAutoplay();\n    }\n  }\n  async _attemptAutoplay() {\n    const { player, $store } = this._media;\n    $store.autoplaying.set(true);\n    try {\n      await player.play();\n      this._dispatch(\"autoplay\", { detail: { muted: $store.muted() } });\n    } catch (error) {\n      this._dispatch(\"autoplay-fail\", {\n        detail: {\n          muted: $store.muted(),\n          error\n        }\n      });\n    } finally {\n      $store.autoplaying.set(false);\n    }\n  }\n}\n\nclass Queue {\n  _queue = /* @__PURE__ */ new Map();\n  /**\n   * Queue the given `item` under the given `key` to be processed at a later time by calling\n   * `serve(key)`.\n   */\n  _enqueue(key, item) {\n    if (!this._queue.has(key))\n      this._queue.set(key, /* @__PURE__ */ new Set());\n    this._queue.get(key).add(item);\n  }\n  /**\n   * Process all items in queue for the given `key`.\n   */\n  _serve(key, callback) {\n    const items = this._queue.get(key);\n    if (items)\n      for (const item of items)\n        callback(item);\n    this._queue.delete(key);\n  }\n  /**\n   * Removes all queued items under the given `key`.\n   */\n  _delete(key) {\n    this._queue.delete(key);\n  }\n  /**\n   * The number of items currently queued under the given `key`.\n   */\n  _size(key) {\n    return this._queue.get(key)?.size ?? 0;\n  }\n  /**\n   * Clear all items in the queue.\n   */\n  _reset() {\n    this._queue.clear();\n  }\n}\n\nfunction coerceToError(error) {\n  return error instanceof Error ? error : Error(JSON.stringify(error));\n}\n\nclass MediaUserController extends ComponentController {\n  _idleTimer = -2;\n  _delay = 2e3;\n  _pausedTracking = false;\n  _focusedItem = null;\n  /**\n   * Whether the media user is currently idle.\n   */\n  get idling() {\n    return this.$store.userIdle();\n  }\n  /**\n   * The amount of delay in milliseconds while media playback is progressing without user\n   * activity to indicate an idle state.\n   *\n   * @defaultValue 2000\n   */\n  get idleDelay() {\n    return this._delay;\n  }\n  set idleDelay(newDelay) {\n    this._delay = newDelay;\n  }\n  /**\n   * Change the user idle state.\n   */\n  idle(idle, delay = this._delay, trigger) {\n    this._clearIdleTimer();\n    if (!this._pausedTracking)\n      this._requestIdleChange(idle, delay, trigger);\n  }\n  /**\n   * Whether all idle tracking should be paused until resumed again.\n   */\n  pauseIdleTracking(paused, trigger) {\n    this._pausedTracking = paused;\n    if (paused) {\n      this._clearIdleTimer();\n      this._requestIdleChange(false, 0, trigger);\n    }\n  }\n  onConnect() {\n    effect(this._watchPaused.bind(this));\n    listenEvent(this.el, \"play\", this._onMediaPlay.bind(this));\n    listenEvent(this.el, \"pause\", this._onMediaPause.bind(this));\n  }\n  _watchPaused() {\n    if (this.$store.paused())\n      return;\n    const onStopIdle = this._onStopIdle.bind(this);\n    for (const eventType of [\"pointerup\", \"keydown\"]) {\n      listenEvent(this.el, eventType, onStopIdle);\n    }\n    effect(() => {\n      if (!this.$store.touchPointer())\n        listenEvent(this.el, \"pointermove\", onStopIdle);\n    });\n  }\n  _onMediaPlay(event) {\n    this.idle(true, this._delay, event);\n  }\n  _onMediaPause(event) {\n    this.idle(false, 0, event);\n  }\n  _clearIdleTimer() {\n    window.clearTimeout(this._idleTimer);\n    this._idleTimer = -1;\n  }\n  _onStopIdle(event) {\n    if (event.MEDIA_GESTURE)\n      return;\n    if (isKeyboardEvent(event)) {\n      if (event.key === \"Escape\") {\n        this.el?.focus();\n        this._focusedItem = null;\n      } else if (this._focusedItem) {\n        event.preventDefault();\n        requestAnimationFrame(() => {\n          this._focusedItem?.focus();\n          this._focusedItem = null;\n        });\n      }\n    }\n    this.idle(false, 0, event);\n    this.idle(true, this._delay, event);\n  }\n  _requestIdleChange(idle, delay, trigger) {\n    if (delay === 0) {\n      this._onIdleChange(idle, trigger);\n      return;\n    }\n    this._idleTimer = window.setTimeout(() => {\n      this._onIdleChange(idle && !this._pausedTracking, trigger);\n    }, delay);\n  }\n  _onIdleChange(idle, trigger) {\n    if (this.$store.userIdle() === idle)\n      return;\n    this.$store.userIdle.set(idle);\n    if (idle && document.activeElement && this.el?.contains(document.activeElement)) {\n      this._focusedItem = document.activeElement;\n      requestAnimationFrame(() => this.el?.focus());\n    }\n    this.dispatch(\"user-idle-change\", {\n      detail: idle,\n      trigger\n    });\n  }\n}\n\nclass MediaRequestContext {\n  _seeking = false;\n  _looping = false;\n  _replaying = false;\n  _queue = new Queue();\n}\nclass MediaRequestManager extends ComponentController {\n  constructor(instance, _stateMgr, _request, _media) {\n    super(instance);\n    this._stateMgr = _stateMgr;\n    this._request = _request;\n    this._media = _media;\n    this._store = _media.$store;\n    this._provider = _media.$provider;\n    this._user = new MediaUserController(instance);\n    this._fullscreen = new FullscreenController(instance);\n    this._orientation = new ScreenOrientationController(instance);\n  }\n  _user;\n  _fullscreen;\n  _orientation;\n  _store;\n  _provider;\n  onConnect() {\n    effect(this._onIdleDelayChange.bind(this));\n    effect(this._onFullscreenSupportChange.bind(this));\n    effect(this._onPiPSupportChange.bind(this));\n    const names = Object.getOwnPropertyNames(Object.getPrototypeOf(this)), handle = this._handleRequest.bind(this);\n    for (const name of names) {\n      if (name.startsWith(\"media-\")) {\n        this.listen(name, handle);\n      }\n    }\n    this.listen(\"fullscreen-change\", this._onFullscreenChange.bind(this));\n  }\n  _handleRequest(event) {\n    event.stopPropagation();\n    {\n      this._media.logger?.infoGroup(`\\u{1F4EC} received \\`${event.type}\\``).labelledLog(\"Request\", event).dispatch();\n    }\n    if (peek(this._provider))\n      this[event.type]?.(event);\n  }\n  async _play() {\n    const { canPlay, paused, ended, autoplaying, seekableStart } = this._store;\n    if (!peek(paused))\n      return;\n    try {\n      const provider = peek(this._provider);\n      throwIfNotReadyForPlayback(provider, peek(canPlay));\n      if (peek(ended)) {\n        provider.currentTime = seekableStart() + 0.1;\n      }\n      return provider.play();\n    } catch (error) {\n      const errorEvent = this.createEvent(\"play-fail\", { detail: coerceToError(error) });\n      errorEvent.autoplay = autoplaying();\n      this._stateMgr._handle(errorEvent);\n      throw error;\n    }\n  }\n  async _pause() {\n    const { canPlay, paused } = this._store;\n    if (peek(paused))\n      return;\n    const provider = peek(this._provider);\n    throwIfNotReadyForPlayback(provider, peek(canPlay));\n    return provider.pause();\n  }\n  _seekToLiveEdge() {\n    const { canPlay, live, liveEdge, canSeek, liveSyncPosition, seekableEnd, userBehindLiveEdge } = this._store;\n    userBehindLiveEdge.set(false);\n    if (peek(() => !live() || liveEdge() || !canSeek()))\n      return;\n    const provider = peek(this._provider);\n    throwIfNotReadyForPlayback(provider, peek(canPlay));\n    provider.currentTime = liveSyncPosition() ?? seekableEnd() - 2;\n  }\n  _wasPIPActive = false;\n  async _enterFullscreen(target = \"prefer-media\") {\n    const provider = peek(this._provider);\n    const adapter = target === \"prefer-media\" && this._fullscreen.supported || target === \"media\" ? this._fullscreen : provider?.fullscreen;\n    throwIfFullscreenNotSupported(target, adapter);\n    if (adapter.active)\n      return;\n    if (peek(this._store.pictureInPicture)) {\n      this._wasPIPActive = true;\n      await this._exitPictureInPicture();\n    }\n    return adapter.enter();\n  }\n  async _exitFullscreen(target = \"prefer-media\") {\n    const provider = peek(this._provider);\n    const adapter = target === \"prefer-media\" && this._fullscreen.supported || target === \"media\" ? this._fullscreen : provider?.fullscreen;\n    throwIfFullscreenNotSupported(target, adapter);\n    if (!adapter.active)\n      return;\n    if (this._orientation.locked)\n      await this._orientation.unlock();\n    try {\n      const result = await adapter.exit();\n      if (this._wasPIPActive && peek(this._store.canPictureInPicture)) {\n        await this._enterPictureInPicture();\n      }\n      return result;\n    } finally {\n      this._wasPIPActive = false;\n    }\n  }\n  async _enterPictureInPicture() {\n    this._throwIfPIPNotSupported();\n    if (this._store.pictureInPicture())\n      return;\n    return await this._provider().pictureInPicture.enter();\n  }\n  async _exitPictureInPicture() {\n    this._throwIfPIPNotSupported();\n    if (!this._store.pictureInPicture())\n      return;\n    return await this._provider().pictureInPicture.exit();\n  }\n  _throwIfPIPNotSupported() {\n    if (this._store.canPictureInPicture())\n      return;\n    throw Error(\n      `[vidstack] picture-in-picture is not currently available` \n    );\n  }\n  _onIdleDelayChange() {\n    this._user.idleDelay = this.$props.userIdleDelay();\n  }\n  _onFullscreenSupportChange() {\n    const { canLoad, canFullscreen } = this._store, supported = this._fullscreen.supported || this._provider()?.fullscreen?.supported || false;\n    if (canLoad() && peek(canFullscreen) === supported)\n      return;\n    canFullscreen.set(supported);\n  }\n  _onPiPSupportChange() {\n    const { canLoad, canPictureInPicture } = this._store, supported = this._provider()?.pictureInPicture?.supported || false;\n    if (canLoad() && peek(canPictureInPicture) === supported)\n      return;\n    canPictureInPicture.set(supported);\n  }\n  [\"media-audio-track-change-request\"](event) {\n    if (this._media.audioTracks.readonly) {\n      {\n        this._media.logger?.warnGroup(`[vidstack] attempted to change audio track but it is currently read-only`).labelledLog(\"Event\", event).dispatch();\n      }\n      return;\n    }\n    const index = event.detail, track = this._media.audioTracks[index];\n    if (track) {\n      this._request._queue._enqueue(\"audioTrack\", event);\n      track.selected = true;\n    } else {\n      this._media.logger?.warnGroup(\"[vidstack] failed audio track change request (invalid index)\").labelledLog(\"Audio Tracks\", this._media.audioTracks.toArray()).labelledLog(\"Index\", index).labelledLog(\"Event\", event).dispatch();\n    }\n  }\n  async [\"media-enter-fullscreen-request\"](event) {\n    try {\n      this._request._queue._enqueue(\"fullscreen\", event);\n      await this._enterFullscreen(event.detail);\n    } catch (error) {\n      this._onFullscreenError(error);\n    }\n  }\n  async [\"media-exit-fullscreen-request\"](event) {\n    try {\n      this._request._queue._enqueue(\"fullscreen\", event);\n      await this._exitFullscreen(event.detail);\n    } catch (error) {\n      this._onFullscreenError(error);\n    }\n  }\n  async _onFullscreenChange(event) {\n    if (!event.detail)\n      return;\n    try {\n      const lockType = peek(this.$props.fullscreenOrientation);\n      if (this._orientation.supported && !isUndefined(lockType)) {\n        await this._orientation.lock(lockType);\n      }\n    } catch (e) {\n    }\n  }\n  _onFullscreenError(error) {\n    this._stateMgr._handle(\n      this.createEvent(\"fullscreen-error\", {\n        detail: coerceToError(error)\n      })\n    );\n  }\n  async [\"media-enter-pip-request\"](event) {\n    try {\n      this._request._queue._enqueue(\"pip\", event);\n      await this._enterPictureInPicture();\n    } catch (error) {\n      this._onPictureInPictureError(error);\n    }\n  }\n  async [\"media-exit-pip-request\"](event) {\n    try {\n      this._request._queue._enqueue(\"pip\", event);\n      await this._exitPictureInPicture();\n    } catch (error) {\n      this._onPictureInPictureError(error);\n    }\n  }\n  _onPictureInPictureError(error) {\n    this._stateMgr._handle(\n      this.createEvent(\"picture-in-picture-error\", {\n        detail: coerceToError(error)\n      })\n    );\n  }\n  [\"media-live-edge-request\"](event) {\n    const { live, liveEdge, canSeek } = this._store;\n    if (!live() || liveEdge() || !canSeek())\n      return;\n    this._request._queue._enqueue(\"seeked\", event);\n    try {\n      this._seekToLiveEdge();\n    } catch (e) {\n      this._media.logger?.error(\"seek to live edge fail\", e);\n    }\n  }\n  [\"media-loop-request\"]() {\n    window.requestAnimationFrame(async () => {\n      try {\n        this._request._looping = true;\n        this._request._replaying = true;\n        await this._play();\n      } catch (e) {\n        this._request._looping = false;\n        this._request._replaying = false;\n      }\n    });\n  }\n  async [\"media-pause-request\"](event) {\n    if (this._store.paused())\n      return;\n    try {\n      this._request._queue._enqueue(\"pause\", event);\n      await this._provider().pause();\n    } catch (e) {\n      this._request._queue._delete(\"pause\");\n      this._media.logger?.error(\"pause-fail\", e);\n    }\n  }\n  async [\"media-play-request\"](event) {\n    if (!this._store.paused())\n      return;\n    try {\n      this._request._queue._enqueue(\"play\", event);\n      await this._provider().play();\n    } catch (e) {\n      const errorEvent = this.createEvent(\"play-fail\", { detail: coerceToError(e) });\n      this._stateMgr._handle(errorEvent);\n    }\n  }\n  [\"media-rate-change-request\"](event) {\n    if (this._store.playbackRate() === event.detail)\n      return;\n    this._request._queue._enqueue(\"rate\", event);\n    this._provider().playbackRate = event.detail;\n  }\n  [\"media-quality-change-request\"](event) {\n    if (this._media.qualities.readonly) {\n      {\n        this._media.logger?.warnGroup(`[vidstack] attempted to change video quality but it is currently read-only`).labelledLog(\"Event\", event).dispatch();\n      }\n      return;\n    }\n    this._request._queue._enqueue(\"quality\", event);\n    const index = event.detail;\n    if (index < 0) {\n      this._media.qualities.autoSelect(event);\n    } else {\n      const quality = this._media.qualities[index];\n      if (quality) {\n        quality.selected = true;\n      } else {\n        this._media.logger?.warnGroup(\"[vidstack] failed quality change request (invalid index)\").labelledLog(\"Qualities\", this._media.qualities.toArray()).labelledLog(\"Index\", index).labelledLog(\"Event\", event).dispatch();\n      }\n    }\n  }\n  [\"media-resume-user-idle-request\"](event) {\n    this._request._queue._enqueue(\"userIdle\", event);\n    this._user.pauseIdleTracking(false, event);\n  }\n  [\"media-pause-user-idle-request\"](event) {\n    this._request._queue._enqueue(\"userIdle\", event);\n    this._user.pauseIdleTracking(true, event);\n  }\n  [\"media-seek-request\"](event) {\n    const { seekableStart, seekableEnd, ended, canSeek, live, userBehindLiveEdge } = this._store;\n    if (ended())\n      this._request._replaying = true;\n    this._request._seeking = false;\n    this._request._queue._delete(\"seeking\");\n    const boundTime = Math.min(Math.max(seekableStart() + 0.1, event.detail), seekableEnd() - 0.1);\n    if (!Number.isFinite(boundTime) || !canSeek())\n      return;\n    this._request._queue._enqueue(\"seeked\", event);\n    this._provider().currentTime = boundTime;\n    if (live() && event.isOriginTrusted && Math.abs(seekableEnd() - boundTime) >= 2) {\n      userBehindLiveEdge.set(true);\n    }\n  }\n  [\"media-seeking-request\"](event) {\n    this._request._queue._enqueue(\"seeking\", event);\n    this._store.seeking.set(true);\n    this._request._seeking = true;\n  }\n  [\"media-start-loading\"](event) {\n    if (this._store.canLoad())\n      return;\n    this._request._queue._enqueue(\"load\", event);\n    this._stateMgr._handle(this.createEvent(\"can-load\"));\n  }\n  [\"media-text-track-change-request\"](event) {\n    const { index, mode } = event.detail, track = this._media.textTracks[index];\n    if (track) {\n      this._request._queue._enqueue(\"textTrack\", event);\n      track.setMode(mode, event);\n    } else {\n      this._media.logger?.warnGroup(\"[vidstack] failed text track change request (invalid index)\").labelledLog(\"Text Tracks\", this._media.textTracks.toArray()).labelledLog(\"Index\", index).labelledLog(\"Event\", event).dispatch();\n    }\n  }\n  [\"media-mute-request\"](event) {\n    if (this._store.muted())\n      return;\n    this._request._queue._enqueue(\"volume\", event);\n    this._provider().muted = true;\n  }\n  [\"media-unmute-request\"](event) {\n    const { muted, volume } = this._store;\n    if (!muted())\n      return;\n    this._request._queue._enqueue(\"volume\", event);\n    this._media.$provider().muted = false;\n    if (volume() === 0) {\n      this._request._queue._enqueue(\"volume\", event);\n      this._provider().volume = 0.25;\n    }\n  }\n  [\"media-volume-change-request\"](event) {\n    const { muted, volume } = this._store;\n    const newVolume = event.detail;\n    if (volume() === newVolume)\n      return;\n    this._request._queue._enqueue(\"volume\", event);\n    this._provider().volume = newVolume;\n    if (newVolume > 0 && muted()) {\n      this._request._queue._enqueue(\"volume\", event);\n      this._provider().muted = false;\n    }\n  }\n}\nfunction throwIfNotReadyForPlayback(provider, canPlay) {\n  if (provider && canPlay)\n    return;\n  throw Error(\n    `[vidstack] media is not ready - wait for \\`can-play\\` event.` \n  );\n}\nfunction throwIfFullscreenNotSupported(target, fullscreen) {\n  if (fullscreen?.supported)\n    return;\n  throw Error(\n    `[vidstack] fullscreen is not currently available on target \\`${target}\\`` \n  );\n}\n\nvar functionDebounce = debounce;\n\nfunction debounce(fn, wait, callFirst) {\n  var timeout = null;\n  var debouncedFn = null;\n\n  var clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n\n      debouncedFn = null;\n      timeout = null;\n    }\n  };\n\n  var flush = function() {\n    var call = debouncedFn;\n    clear();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var debounceWrapper = function() {\n    if (!wait) {\n      return fn.apply(this, arguments);\n    }\n\n    var context = this;\n    var args = arguments;\n    var callNow = callFirst && !timeout;\n    clear();\n\n    debouncedFn = function() {\n      fn.apply(context, args);\n    };\n\n    timeout = setTimeout(function() {\n      timeout = null;\n\n      if (!callNow) {\n        var call = debouncedFn;\n        debouncedFn = null;\n\n        return call();\n      }\n    }, wait);\n\n    if (callNow) {\n      return debouncedFn();\n    }\n  };\n\n  debounceWrapper.cancel = clear;\n  debounceWrapper.flush = flush;\n\n  return debounceWrapper;\n}\n\nvar functionThrottle = throttle;\n\nfunction throttle(fn, interval, options) {\n  var timeoutId = null;\n  var throttledFn = null;\n  var leading = (options && options.leading);\n  var trailing = (options && options.trailing);\n\n  if (leading == null) {\n    leading = true; // default\n  }\n\n  if (trailing == null) {\n    trailing = !leading; //default\n  }\n\n  if (leading == true) {\n    trailing = false; // forced because there should be invocation per call\n  }\n\n  var cancel = function() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n  };\n\n  var flush = function() {\n    var call = throttledFn;\n    cancel();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var throttleWrapper = function() {\n    var callNow = leading && !timeoutId;\n    var context = this;\n    var args = arguments;\n\n    throttledFn = function() {\n      return fn.apply(context, args);\n    };\n\n    if (!timeoutId) {\n      timeoutId = setTimeout(function() {\n        timeoutId = null;\n\n        if (trailing) {\n          return throttledFn();\n        }\n      }, interval);\n    }\n\n    if (callNow) {\n      callNow = false;\n      return throttledFn();\n    }\n  };\n\n  throttleWrapper.cancel = cancel;\n  throttleWrapper.flush = flush;\n\n  return throttleWrapper;\n}\n\nconst ATTACH_VIDEO = Symbol(\"ATTACH_VIDEO\" );\nconst TEXT_TRACK_CROSSORIGIN = Symbol(\"TEXT_TRACK_CROSSORIGIN\" );\nconst TEXT_TRACK_READY_STATE = Symbol(\"TEXT_TRACK_READY_STATE\" );\nconst TEXT_TRACK_UPDATE_ACTIVE_CUES = Symbol(\"TEXT_TRACK_UPDATE_ACTIVE_CUES\" );\nconst TEXT_TRACK_CAN_LOAD = Symbol(\"TEXT_TRACK_CAN_LOAD\" );\nconst TEXT_TRACK_ON_MODE_CHANGE = Symbol(\"TEXT_TRACK_ON_MODE_CHANGE\" );\nconst TEXT_TRACK_NATIVE = Symbol(\"TEXT_TRACK_NATIVE\" );\nconst TEXT_TRACK_NATIVE_HLS = Symbol(\"TEXT_TRACK_NATIVE_HLS\" );\n\nconst TRACKED_EVENT = /* @__PURE__ */ new Set([\n  \"autoplay\",\n  \"autoplay-fail\",\n  \"can-load\",\n  \"sources-change\",\n  \"source-change\",\n  \"load-start\",\n  \"abort\",\n  \"error\",\n  \"loaded-metadata\",\n  \"loaded-data\",\n  \"can-play\",\n  \"play\",\n  \"play-fail\",\n  \"pause\",\n  \"playing\",\n  \"seeking\",\n  \"seeked\",\n  \"waiting\"\n]);\n\nclass MediaStateManager extends ComponentController {\n  constructor(instance, _request, _media) {\n    super(instance);\n    this._request = _request;\n    this._media = _media;\n    this._store = _media.$store;\n  }\n  _store;\n  _trackedEvents = /* @__PURE__ */ new Map();\n  _skipInitialSrcChange = true;\n  _firingWaiting = false;\n  _waitingTrigger;\n  onAttach(el) {\n    el.setAttribute(\"aria-busy\", \"true\");\n  }\n  onConnect(el) {\n    this._addTextTrackListeners();\n    this._addQualityListeners();\n    this._addAudioTrackListeners();\n    this.listen(\"fullscreen-change\", this[\"fullscreen-change\"].bind(this));\n    this.listen(\"fullscreen-error\", this[\"fullscreen-error\"].bind(this));\n  }\n  _handle(event) {\n    const type = event.type;\n    this[event.type]?.(event);\n    {\n      if (TRACKED_EVENT.has(type))\n        this._trackedEvents.set(type, event);\n      this.el?.dispatchEvent(event);\n    }\n  }\n  _resetTracking() {\n    this._stopWaiting();\n    this._request._replaying = false;\n    this._request._looping = false;\n    this._firingWaiting = false;\n    this._waitingTrigger = void 0;\n    this._trackedEvents.clear();\n  }\n  _satisfyRequest(request, event) {\n    this._request._queue._serve(request, (requestEvent) => {\n      event.request = requestEvent;\n      appendTriggerEvent(event, requestEvent);\n    });\n  }\n  _addTextTrackListeners() {\n    this._onTextTracksChange();\n    this._onTextTrackModeChange();\n    const textTracks = this._media.textTracks;\n    listenEvent(textTracks, \"add\", this._onTextTracksChange.bind(this));\n    listenEvent(textTracks, \"remove\", this._onTextTracksChange.bind(this));\n    listenEvent(textTracks, \"mode-change\", this._onTextTrackModeChange.bind(this));\n  }\n  _addQualityListeners() {\n    const qualities = this._media.qualities;\n    listenEvent(qualities, \"add\", this._onQualitiesChange.bind(this));\n    listenEvent(qualities, \"remove\", this._onQualitiesChange.bind(this));\n    listenEvent(qualities, \"change\", this._onQualityChange.bind(this));\n    listenEvent(qualities, \"auto-change\", this._onAutoQualityChange.bind(this));\n    listenEvent(qualities, \"readonly-change\", this._onCanSetQualityChange.bind(this));\n  }\n  _addAudioTrackListeners() {\n    const audioTracks = this._media.audioTracks;\n    listenEvent(audioTracks, \"add\", this._onAudioTracksChange.bind(this));\n    listenEvent(audioTracks, \"remove\", this._onAudioTracksChange.bind(this));\n    listenEvent(audioTracks, \"change\", this._onAudioTrackChange.bind(this));\n  }\n  _onTextTracksChange(event) {\n    const { textTracks } = this._store;\n    textTracks.set(this._media.textTracks.toArray());\n    this.dispatch(\"text-tracks-change\", {\n      detail: textTracks(),\n      trigger: event\n    });\n  }\n  _onTextTrackModeChange(event) {\n    if (event)\n      this._satisfyRequest(\"textTrack\", event);\n    const current = this._media.textTracks.selected, { textTrack } = this._store;\n    if (textTrack() !== current) {\n      textTrack.set(current);\n      this.dispatch(\"text-track-change\", {\n        detail: current,\n        trigger: event\n      });\n    }\n  }\n  _onAudioTracksChange(event) {\n    const { audioTracks } = this._store;\n    audioTracks.set(this._media.audioTracks.toArray());\n    this.dispatch(\"audio-tracks-change\", {\n      detail: audioTracks(),\n      trigger: event\n    });\n  }\n  _onAudioTrackChange(event) {\n    const { audioTrack } = this._store;\n    audioTrack.set(this._media.audioTracks.selected);\n    this._satisfyRequest(\"audioTrack\", event);\n    this.dispatch(\"audio-track-change\", {\n      detail: audioTrack(),\n      trigger: event\n    });\n  }\n  _onQualitiesChange(event) {\n    const { qualities } = this._store;\n    qualities.set(this._media.qualities.toArray());\n    this.dispatch(\"qualities-change\", {\n      detail: qualities(),\n      trigger: event\n    });\n  }\n  _onQualityChange(event) {\n    const { quality } = this._store;\n    quality.set(this._media.qualities.selected);\n    this._satisfyRequest(\"quality\", event);\n    this.dispatch(\"quality-change\", {\n      detail: quality(),\n      trigger: event\n    });\n  }\n  _onAutoQualityChange() {\n    this._store.autoQuality.set(this._media.qualities.auto);\n  }\n  _onCanSetQualityChange() {\n    this._store.canSetQuality.set(!this._media.qualities.readonly);\n  }\n  [\"provider-change\"](event) {\n    this._media.$provider.set(event.detail);\n  }\n  [\"autoplay\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"play\"));\n    appendTriggerEvent(event, this._trackedEvents.get(\"can-play\"));\n    this._store.autoplayError.set(void 0);\n  }\n  [\"autoplay-fail\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"play-fail\"));\n    appendTriggerEvent(event, this._trackedEvents.get(\"can-play\"));\n    this._store.autoplayError.set(event.detail);\n    this._resetTracking();\n  }\n  [\"can-load\"](event) {\n    this._store.canLoad.set(true);\n    this._trackedEvents.set(\"can-load\", event);\n    this._satisfyRequest(\"load\", event);\n    this._media.textTracks[TEXT_TRACK_CAN_LOAD]();\n  }\n  [\"media-type-change\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"source-change\"));\n    const viewType = this._store.viewType();\n    this._store.mediaType.set(event.detail);\n    if (viewType !== this._store.viewType()) {\n      setTimeout(\n        () => this.dispatch(\"view-type-change\", {\n          detail: this._store.viewType(),\n          trigger: event\n        }),\n        0\n      );\n    }\n  }\n  [\"stream-type-change\"](event) {\n    const { streamType, inferredStreamType } = this._store;\n    appendTriggerEvent(event, this._trackedEvents.get(\"source-change\"));\n    inferredStreamType.set(event.detail);\n    event.detail = streamType();\n  }\n  [\"rate-change\"](event) {\n    this._store.playbackRate.set(event.detail);\n    this._satisfyRequest(\"rate\", event);\n  }\n  [\"sources-change\"](event) {\n    this._store.sources.set(event.detail);\n  }\n  [\"source-change\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"sources-change\"));\n    this._store.source.set(event.detail);\n    this.el?.setAttribute(\"aria-busy\", \"true\");\n    {\n      this._media.logger?.infoGroup(\"\\u{1F4FC} Media source change\").labelledLog(\"Source\", event.detail).dispatch();\n    }\n    if (this._skipInitialSrcChange) {\n      this._skipInitialSrcChange = false;\n      return;\n    }\n    this._media.audioTracks[LIST_RESET](event);\n    this._media.qualities[LIST_RESET](event);\n    this._resetTracking();\n    softResetMediaStore(this._media.$store);\n    this._trackedEvents.set(event.type, event);\n  }\n  [\"abort\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"source-change\"));\n    appendTriggerEvent(event, this._trackedEvents.get(\"can-load\"));\n  }\n  [\"load-start\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"source-change\"));\n  }\n  [\"error\"](event) {\n    this._store.error.set(event.detail);\n    appendTriggerEvent(event, this._trackedEvents.get(\"abort\"));\n  }\n  [\"loaded-metadata\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"load-start\"));\n  }\n  [\"loaded-data\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"load-start\"));\n  }\n  [\"can-play\"](event) {\n    if (event.trigger?.type !== \"loadedmetadata\") {\n      appendTriggerEvent(event, this._trackedEvents.get(\"loaded-metadata\"));\n    }\n    this._onCanPlayDetail(event.detail);\n    this.el?.setAttribute(\"aria-busy\", \"false\");\n  }\n  [\"can-play-through\"](event) {\n    this._onCanPlayDetail(event.detail);\n    appendTriggerEvent(event, this._trackedEvents.get(\"can-play\"));\n  }\n  _onCanPlayDetail(detail) {\n    const { seekable, seekableEnd, buffered, duration, canPlay } = this._store;\n    seekable.set(detail.seekable);\n    buffered.set(detail.buffered);\n    duration.set(seekableEnd);\n    canPlay.set(true);\n  }\n  [\"duration-change\"](event) {\n    const { live, duration } = this._store, time = event.detail;\n    if (!live())\n      duration.set(!Number.isNaN(time) ? time : 0);\n  }\n  [\"progress\"](event) {\n    const { buffered, seekable, live, duration, seekableEnd } = this._store, detail = event.detail;\n    buffered.set(detail.buffered);\n    seekable.set(detail.seekable);\n    if (live()) {\n      duration.set(seekableEnd);\n      this.dispatch(\"duration-change\", {\n        detail: seekableEnd(),\n        trigger: event\n      });\n    }\n  }\n  [\"play\"](event) {\n    const { paused, autoplayError, ended, autoplaying } = this._store;\n    event.autoplay = autoplaying();\n    if (this._request._looping || !paused()) {\n      event.stopImmediatePropagation();\n      return;\n    }\n    appendTriggerEvent(event, this._trackedEvents.get(\"waiting\"));\n    this._satisfyRequest(\"play\", event);\n    paused.set(false);\n    autoplayError.set(void 0);\n    if (ended() || this._request._replaying) {\n      this._request._replaying = false;\n      ended.set(false);\n      this._handle(this.createEvent(\"replay\", { trigger: event }));\n    }\n  }\n  [\"play-fail\"](event) {\n    appendTriggerEvent(event, this._trackedEvents.get(\"play\"));\n    this._satisfyRequest(\"play\", event);\n    const { paused, playing } = this._store;\n    paused.set(true);\n    playing.set(false);\n    this._resetTracking();\n  }\n  [\"playing\"](event) {\n    const playEvent = this._trackedEvents.get(\"play\");\n    if (playEvent) {\n      appendTriggerEvent(event, this._trackedEvents.get(\"waiting\"));\n      appendTriggerEvent(event, playEvent);\n    } else {\n      appendTriggerEvent(event, this._trackedEvents.get(\"seeked\"));\n    }\n    setTimeout(() => this._resetTracking(), 0);\n    const { paused, playing, seeking, ended } = this._store;\n    paused.set(false);\n    playing.set(true);\n    seeking.set(false);\n    ended.set(false);\n    if (this._request._looping) {\n      event.stopImmediatePropagation();\n      this._request._looping = false;\n      return;\n    }\n    this[\"started\"](event);\n  }\n  [\"started\"](event) {\n    const { started, live, liveSyncPosition, seekableEnd } = this._store;\n    if (!started()) {\n      if (live()) {\n        const end = liveSyncPosition() ?? seekableEnd() - 2;\n        if (Number.isFinite(end))\n          this._media.$provider().currentTime = end;\n      }\n      started.set(true);\n      this._handle(this.createEvent(\"started\", { trigger: event }));\n    }\n  }\n  [\"pause\"](event) {\n    if (this._request._looping) {\n      event.stopImmediatePropagation();\n      return;\n    }\n    appendTriggerEvent(event, this._trackedEvents.get(\"seeked\"));\n    this._satisfyRequest(\"pause\", event);\n    const { paused, playing, seeking } = this._store;\n    paused.set(true);\n    playing.set(false);\n    seeking.set(false);\n    this._resetTracking();\n  }\n  [\"time-update\"](event) {\n    const { currentTime, played, waiting } = this._store, detail = event.detail;\n    currentTime.set(detail.currentTime);\n    played.set(detail.played);\n    waiting.set(false);\n    for (const track of this._media.textTracks) {\n      track[TEXT_TRACK_UPDATE_ACTIVE_CUES](detail.currentTime, event);\n    }\n  }\n  [\"volume-change\"](event) {\n    const { volume, muted } = this._store, detail = event.detail;\n    volume.set(detail.volume);\n    muted.set(detail.muted || detail.volume === 0);\n    this._satisfyRequest(\"volume\", event);\n  }\n  [\"seeking\"] = functionThrottle(\n    (event) => {\n      const { seeking, currentTime, paused } = this._store;\n      seeking.set(true);\n      currentTime.set(event.detail);\n      this._satisfyRequest(\"seeking\", event);\n      if (paused()) {\n        this._waitingTrigger = event;\n        this._fireWaiting();\n      }\n    },\n    150,\n    { leading: true }\n  );\n  [\"seeked\"](event) {\n    const { seeking, currentTime, paused, duration, ended } = this._store;\n    if (this._request._seeking) {\n      seeking.set(true);\n      event.stopImmediatePropagation();\n    } else if (seeking()) {\n      const waitingEvent = this._trackedEvents.get(\"waiting\");\n      appendTriggerEvent(event, waitingEvent);\n      if (waitingEvent?.trigger?.type !== \"seeking\") {\n        appendTriggerEvent(event, this._trackedEvents.get(\"seeking\"));\n      }\n      if (paused())\n        this._stopWaiting();\n      seeking.set(false);\n      if (event.detail !== duration())\n        ended.set(false);\n      currentTime.set(event.detail);\n      this._satisfyRequest(\"seeked\", event);\n      const origin = event.originEvent;\n      if (origin && origin.isTrusted && !/seek/.test(origin.type)) {\n        this[\"started\"](event);\n      }\n    }\n  }\n  [\"waiting\"](event) {\n    if (this._firingWaiting || this._request._seeking)\n      return;\n    event.stopImmediatePropagation();\n    this._waitingTrigger = event;\n    this._fireWaiting();\n  }\n  _fireWaiting = functionDebounce(() => {\n    if (!this._waitingTrigger)\n      return;\n    this._firingWaiting = true;\n    const { waiting, playing } = this._store;\n    waiting.set(true);\n    playing.set(false);\n    const event = this.createEvent(\"waiting\", { trigger: this._waitingTrigger });\n    this._trackedEvents.set(\"waiting\", event);\n    this.el.dispatchEvent(event);\n    this._waitingTrigger = void 0;\n    this._firingWaiting = false;\n  }, 300);\n  [\"ended\"](event) {\n    if (this._request._looping) {\n      event.stopImmediatePropagation();\n      return;\n    }\n    const { paused, playing, seeking, ended } = this._store;\n    paused.set(true);\n    playing.set(false);\n    seeking.set(false);\n    ended.set(true);\n    this._resetTracking();\n  }\n  _stopWaiting() {\n    this._fireWaiting.cancel();\n    this._store.waiting.set(false);\n  }\n  [\"fullscreen-change\"](event) {\n    this._store.fullscreen.set(event.detail);\n    this._satisfyRequest(\"fullscreen\", event);\n  }\n  [\"fullscreen-error\"](event) {\n    this._satisfyRequest(\"fullscreen\", event);\n  }\n  [\"picture-in-picture-change\"](event) {\n    this._store.pictureInPicture.set(event.detail);\n    this._satisfyRequest(\"pip\", event);\n  }\n  [\"picture-in-picture-error\"](event) {\n    this._satisfyRequest(\"pip\", event);\n  }\n}\n\nclass MediaStoreSync extends ComponentController {\n  onAttach(el) {\n    effect(this._onLogLevelChange.bind(this));\n    effect(this._onAutoplayChange.bind(this));\n    effect(this._onPosterChange.bind(this));\n    effect(this._onLoopChange.bind(this));\n    effect(this._onControlsChange.bind(this));\n    effect(this._onCrossOriginChange.bind(this));\n    effect(this._onPlaysinlineChange.bind(this));\n    effect(this._onLiveToleranceChange.bind(this));\n    effect(this._onLiveChange.bind(this));\n    effect(this._onLiveEdgeChange.bind(this));\n    effect(this._onThumbnailsChange.bind(this));\n  }\n  _onLogLevelChange() {\n    this.$store.logLevel.set(this.$props.logLevel());\n  }\n  _onAutoplayChange() {\n    const autoplay = this.$props.autoplay();\n    this.$store.autoplay.set(autoplay);\n    this.dispatch(\"autoplay-change\", { detail: autoplay });\n  }\n  _onLoopChange() {\n    const loop = this.$props.loop();\n    this.$store.loop.set(loop);\n    this.dispatch(\"loop-change\", { detail: loop });\n  }\n  _onControlsChange() {\n    const controls = this.$props.controls();\n    this.$store.controls.set(controls);\n    this.dispatch(\"controls-change\", { detail: controls });\n  }\n  _onPosterChange() {\n    const poster = this.$props.poster();\n    this.$store.poster.set(poster);\n    this.dispatch(\"poster-change\", { detail: poster });\n  }\n  _onCrossOriginChange() {\n    this.$store.crossorigin.set(this.$props.crossorigin());\n  }\n  _onPlaysinlineChange() {\n    const playsinline = this.$props.playsinline();\n    this.$store.playsinline.set(playsinline);\n    this.dispatch(\"playsinline-change\", { detail: playsinline });\n  }\n  _onLiveChange() {\n    this.dispatch(\"live-change\", { detail: this.$store.live() });\n  }\n  _onLiveToleranceChange() {\n    this.$store.liveEdgeTolerance.set(this.$props.liveEdgeTolerance());\n    this.$store.minLiveDVRWindow.set(this.$props.minLiveDVRWindow());\n  }\n  _onLiveEdgeChange() {\n    this.dispatch(\"live-edge-change\", { detail: this.$store.liveEdge() });\n  }\n  _onThumbnailsChange() {\n    this.$store.thumbnails.set(this.$props.thumbnails());\n  }\n}\n\nfunction preconnect(url, rel = \"preconnect\") {\n  const exists = document.querySelector(`link[href=\"${url}\"]`);\n  if (!isNull(exists))\n    return true;\n  const link = document.createElement(\"link\");\n  link.rel = rel;\n  link.href = url;\n  link.crossOrigin = \"true\";\n  document.head.append(link);\n  return true;\n}\nconst pendingRequests = {};\nfunction loadScript(src) {\n  if (pendingRequests[src])\n    return pendingRequests[src].promise;\n  const promise = deferredPromise(), exists = document.querySelector(`script[src=\"${src}\"]`);\n  if (!isNull(exists)) {\n    promise.resolve();\n    return promise.promise;\n  }\n  const script = document.createElement(\"script\");\n  script.src = src;\n  script.onload = () => {\n    promise.resolve();\n    delete pendingRequests[src];\n  };\n  script.onerror = () => {\n    promise.reject();\n    delete pendingRequests[src];\n  };\n  setTimeout(() => document.head.append(script), 0);\n  return promise.promise;\n}\nfunction getRequestCredentials(crossorigin) {\n  return crossorigin === \"use-credentials\" ? \"include\" : isString(crossorigin) ? \"same-origin\" : void 0;\n}\n\nfunction findActiveCue(time, cues) {\n  for (let i = 0, len = cues.length; i < len; i++) {\n    if (isCueActive(cues[i], time))\n      return cues[i];\n  }\n  return null;\n}\nfunction isCueActive(cue, time) {\n  return time >= cue.startTime && time < cue.endTime;\n}\nfunction onTrackChapterChange(tracks, currentTrack, onChange) {\n  const track = tracks.toArray().find((track2) => track2.kind === \"chapters\" && track2.mode === \"showing\");\n  if (track === currentTrack)\n    return;\n  if (!track) {\n    onChange(null);\n    return;\n  }\n  if (track.readyState == 2) {\n    onChange(track);\n  } else {\n    onChange(null);\n    track.addEventListener(\"load\", () => onChange(track), { once: true });\n  }\n}\n\nclass TextTrack extends EventsTarget {\n  static createId(track) {\n    return `id::${track.type}-${track.kind}-${track.src ?? track.label}`;\n  }\n  src;\n  content;\n  type;\n  encoding;\n  id = \"\";\n  label = \"\";\n  language = \"\";\n  kind;\n  default = false;\n  _canLoad = false;\n  _currentTime = 0;\n  _mode = \"disabled\";\n  _metadata = {};\n  _regions = [];\n  _cues = [];\n  _activeCues = [];\n  /* @internal */\n  [TEXT_TRACK_READY_STATE] = 0;\n  /* @internal */\n  [TEXT_TRACK_CROSSORIGIN];\n  /* @internal */\n  [TEXT_TRACK_ON_MODE_CHANGE] = null;\n  /* @internal */\n  [TEXT_TRACK_NATIVE] = null;\n  get metadata() {\n    return this._metadata;\n  }\n  get regions() {\n    return this._regions;\n  }\n  get cues() {\n    return this._cues;\n  }\n  get activeCues() {\n    return this._activeCues;\n  }\n  /**\n   * - 0: Not Loading\n   * - 1: Loading\n   * - 2: Ready\n   * - 3: Error\n   */\n  get readyState() {\n    return this[TEXT_TRACK_READY_STATE];\n  }\n  get mode() {\n    return this._mode;\n  }\n  set mode(mode) {\n    this.setMode(mode);\n  }\n  constructor(init) {\n    super();\n    for (const prop of Object.keys(init))\n      this[prop] = init[prop];\n    if (!this.type)\n      this.type = \"vtt\";\n    if (init.content) {\n      import('media-captions').then(({ parseText, VTTCue, VTTRegion }) => {\n        if (init.type === \"json\") {\n          this._parseJSON(init.content, VTTCue, VTTRegion);\n        } else {\n          parseText(init.content, { type: init.type }).then(({ cues, regions }) => {\n            this._cues = cues;\n            this._regions = regions;\n            this._readyState();\n          });\n        }\n      });\n    } else if (!init.src)\n      this[TEXT_TRACK_READY_STATE] = 2;\n    if (isTrackCaptionKind(this) && !this.label) {\n      throw Error(`[vidstack]: captions text track created without label: \\`${this.src}\\``);\n    }\n  }\n  addCue(cue, trigger) {\n    let i = 0, length = this._cues.length;\n    for (i = 0; i < length; i++)\n      if (cue.endTime <= this._cues[i].startTime)\n        break;\n    if (i === length)\n      this._cues.push(cue);\n    else\n      this._cues.splice(i, 0, cue);\n    if (trigger?.type !== \"cuechange\") {\n      this[TEXT_TRACK_NATIVE]?.track.addCue(cue);\n    }\n    this.dispatchEvent(new DOMEvent(\"add-cue\", { detail: cue, trigger }));\n    if (isCueActive(cue, this._currentTime)) {\n      this[TEXT_TRACK_UPDATE_ACTIVE_CUES](this._currentTime, trigger);\n    }\n  }\n  removeCue(cue, trigger) {\n    const index = this._cues.indexOf(cue);\n    if (index >= 0) {\n      const isActive = this._activeCues.includes(cue);\n      this._cues.splice(index, 1);\n      this[TEXT_TRACK_NATIVE]?.track.removeCue(cue);\n      this.dispatchEvent(new DOMEvent(\"remove-cue\", { detail: cue, trigger }));\n      if (isActive) {\n        this[TEXT_TRACK_UPDATE_ACTIVE_CUES](this._currentTime, trigger);\n      }\n    }\n  }\n  setMode(mode, trigger) {\n    if (this._mode === mode)\n      return;\n    this._mode = mode;\n    if (mode === \"disabled\") {\n      this._activeCues = [];\n      this._activeCuesChanged();\n    } else if (this.readyState === 2) {\n      this[TEXT_TRACK_UPDATE_ACTIVE_CUES](this._currentTime, trigger);\n    } else {\n      this._load();\n    }\n    this.dispatchEvent(new DOMEvent(\"mode-change\", { detail: this, trigger }));\n    this[TEXT_TRACK_ON_MODE_CHANGE]?.();\n  }\n  /* @internal */\n  [TEXT_TRACK_UPDATE_ACTIVE_CUES](currentTime, trigger) {\n    this._currentTime = currentTime;\n    if (this.mode === \"disabled\" || !this._cues.length)\n      return;\n    const activeCues = [];\n    for (let i = 0, length = this._cues.length; i < length; i++) {\n      const cue = this._cues[i];\n      if (isCueActive(cue, currentTime))\n        activeCues.push(cue);\n    }\n    let changed = activeCues.length !== this._activeCues.length;\n    if (!changed) {\n      for (let i = 0; i < activeCues.length; i++) {\n        if (!this._activeCues.includes(activeCues[i])) {\n          changed = true;\n          break;\n        }\n      }\n    }\n    this._activeCues = activeCues;\n    if (changed)\n      this._activeCuesChanged(trigger);\n  }\n  /* @internal */\n  [TEXT_TRACK_CAN_LOAD]() {\n    this._canLoad = true;\n    if (this._mode !== \"disabled\")\n      this._load();\n  }\n  async _load() {\n    if (!this._canLoad || !this.src || this[TEXT_TRACK_READY_STATE] > 0)\n      return;\n    this[TEXT_TRACK_READY_STATE] = 1;\n    this.dispatchEvent(new DOMEvent(\"load-start\"));\n    try {\n      const { parseResponse, VTTCue, VTTRegion } = await import('media-captions'), crossorigin = this[TEXT_TRACK_CROSSORIGIN]?.();\n      const response = fetch(this.src, {\n        headers: this.type === \"json\" ? { \"Content-Type\": \"application/json\" } : void 0,\n        credentials: getRequestCredentials(crossorigin)\n      });\n      if (this.type === \"json\") {\n        this._parseJSON(await (await response).text(), VTTCue, VTTRegion);\n      } else {\n        const { errors, metadata, regions, cues } = await parseResponse(response, {\n          type: this.type,\n          encoding: this.encoding\n        });\n        if (errors[0]?.code === 0) {\n          throw errors[0];\n        } else {\n          this._metadata = metadata;\n          this._regions = regions;\n          this._cues = cues;\n        }\n      }\n      this._readyState();\n    } catch (error) {\n      this._errorState(error);\n    }\n  }\n  _readyState() {\n    this[TEXT_TRACK_READY_STATE] = 2;\n    if (!this.src || this.type !== \"vtt\") {\n      const nativeTrack = this[TEXT_TRACK_NATIVE]?.track;\n      if (nativeTrack)\n        for (const cue of this._cues)\n          nativeTrack.addCue(cue);\n    }\n    const loadEvent = new DOMEvent(\"load\");\n    this[TEXT_TRACK_UPDATE_ACTIVE_CUES](this._currentTime, loadEvent);\n    this.dispatchEvent(loadEvent);\n  }\n  _errorState(error) {\n    this[TEXT_TRACK_READY_STATE] = 3;\n    this.dispatchEvent(new DOMEvent(\"error\", { detail: error }));\n  }\n  _parseJSON(json, VTTCue, VTTRegion) {\n    try {\n      json = JSON.parse(json);\n      if (json.regions) {\n        this._regions = json.regions.map((json2) => Object.assign(new VTTRegion(), json2));\n      }\n      if (json.cues) {\n        this._cues = json.cues.filter((json2) => isNumber(json2.startTime) && isNumber(json2.endTime)).map((json2) => Object.assign(new VTTCue(0, 0, \"\"), json2));\n      }\n    } catch (error) {\n      {\n        console.error(`[vidstack] failed to parse JSON captions at: \\`${this.src}\\`\n\n`, error);\n      }\n      this._errorState(error);\n    }\n  }\n  _activeCuesChanged(trigger) {\n    this.dispatchEvent(new DOMEvent(\"cue-change\", { trigger }));\n  }\n}\nconst captionRE = /captions|subtitles/;\nfunction isTrackCaptionKind(track) {\n  return captionRE.test(track.kind);\n}\n\nclass MediaRemoteControl {\n  constructor(_logger) {\n    this._logger = _logger;\n  }\n  _target = null;\n  _player = null;\n  _prevTrackIndex = -1;\n  /**\n   * Set the target from which to dispatch media requests events from. The events should bubble\n   * up from this target to the `<media-player>` element.\n   *\n   * @example\n   * ```ts\n   * const button = document.querySelector('button');\n   * remote.setTarget(button);\n   * ```\n   */\n  setTarget(target) {\n    this._target = target;\n    this._logger?.setTarget(target);\n  }\n  /**\n   * Returns the current `<media-player>` element. This method will attempt to find the player by\n   * searching up from either the given `target` or default target set via `remote.setTarget`.\n   *\n   * @example\n   * ```ts\n   * const player = remote.getPlayer();\n   * ```\n   */\n  getPlayer(target) {\n    if (this._player)\n      return this._player;\n    (target ?? this._target)?.dispatchEvent(\n      new DOMEvent(\"find-media-player\", {\n        detail: (player) => void (this._player = player),\n        bubbles: true,\n        composed: true\n      })\n    );\n    return this._player;\n  }\n  /**\n   * Set the current `<media-player>` element so the remote can support toggle methods such as\n   * `togglePaused` as they rely on the current media state.\n   */\n  setPlayer(player) {\n    this._player = player;\n  }\n  /**\n   * Dispatch a request to start the media loading process. This will only work if the media\n   * player has been initialized with a custom loading strategy `<media-player load=\"custom\">`.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/loading#loading-strategies}\n   */\n  startLoading(trigger) {\n    this._dispatchRequest(\"media-start-loading\", trigger);\n  }\n  /**\n   * Dispatch a request to begin/resume media playback.\n   */\n  play(trigger) {\n    this._dispatchRequest(\"media-play-request\", trigger);\n  }\n  /**\n   * Dispatch a request to pause media playback.\n   */\n  pause(trigger) {\n    this._dispatchRequest(\"media-pause-request\", trigger);\n  }\n  /**\n   * Dispatch a request to set the media volume to mute (0).\n   */\n  mute(trigger) {\n    this._dispatchRequest(\"media-mute-request\", trigger);\n  }\n  /**\n   * Dispatch a request to unmute the media volume and set it back to it's previous state.\n   */\n  unmute(trigger) {\n    this._dispatchRequest(\"media-unmute-request\", trigger);\n  }\n  /**\n   * Dispatch a request to enter fullscreen.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/fullscreen#media-remote}\n   */\n  enterFullscreen(target, trigger) {\n    this._dispatchRequest(\"media-enter-fullscreen-request\", trigger, target);\n  }\n  /**\n   * Dispatch a request to exit fullscreen.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/fullscreen#media-remote}\n   */\n  exitFullscreen(target, trigger) {\n    this._dispatchRequest(\"media-exit-fullscreen-request\", trigger, target);\n  }\n  /**\n   * Dispatch a request to enter picture-in-picture mode.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/picture-in-picture#media-remote}\n   */\n  enterPictureInPicture(trigger) {\n    this._dispatchRequest(\"media-enter-pip-request\", trigger);\n  }\n  /**\n   * Dispatch a request to exit picture-in-picture mode.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/picture-in-picture#media-remote}\n   */\n  exitPictureInPicture(trigger) {\n    this._dispatchRequest(\"media-exit-pip-request\", trigger);\n  }\n  /**\n   * Notify the media player that a seeking process is happening and to seek to the given `time`.\n   */\n  seeking(time, trigger) {\n    this._dispatchRequest(\"media-seeking-request\", trigger, time);\n  }\n  /**\n   * Notify the media player that a seeking operation has completed and to seek to the given `time`.\n   * This is generally called after a series of `remote.seeking()` calls.\n   */\n  seek(time, trigger) {\n    this._dispatchRequest(\"media-seek-request\", trigger, time);\n  }\n  seekToLiveEdge(trigger) {\n    this._dispatchRequest(\"media-live-edge-request\", trigger);\n  }\n  /**\n   * Dispatch a request to update the media volume to the given `volume` level which is a value\n   * between 0 and 1.\n   *\n   * @example\n   * ```ts\n   * remote.changeVolume(0); // 0%\n   * remote.changeVolume(0.05); // 5%\n   * remote.changeVolume(0.5); // 50%\n   * remote.changeVolume(0.75); // 70%\n   * remote.changeVolume(1); // 100%\n   * ```\n   */\n  changeVolume(volume, trigger) {\n    this._dispatchRequest(\"media-volume-change-request\", trigger, Math.max(0, Math.min(1, volume)));\n  }\n  /**\n   * Dispatch a request to change the current audio track.\n   *\n   * @example\n   * ```ts\n   * remote.changeAudioTrack(1); // track at index 1\n   * ```\n   */\n  changeAudioTrack(index, trigger) {\n    this._dispatchRequest(\"media-audio-track-change-request\", trigger, index);\n  }\n  /**\n   * Dispatch a request to change the video quality. The special value `-1` represents auto quality\n   * selection.\n   *\n   * @example\n   * ```ts\n   * remote.changeQuality(-1); // auto\n   * remote.changeQuality(1); // quality at index 1\n   * ```\n   */\n  changeQuality(index, trigger) {\n    this._dispatchRequest(\"media-quality-change-request\", trigger, index);\n  }\n  /**\n   * Dispatch a request to change the mode of the text track at the given index.\n   *\n   * @example\n   * ```ts\n   * remote.changeTextTrackMode(1, 'showing'); // track at index 1\n   * ```\n   */\n  changeTextTrackMode(index, mode, trigger) {\n    this._dispatchRequest(\"media-text-track-change-request\", trigger, {\n      index,\n      mode\n    });\n  }\n  /**\n   * Dispatch a request to change the media playback rate.\n   *\n   * @example\n   * ```ts\n   * remote.changePlaybackRate(0.5); // Half the normal speed\n   * remote.changePlaybackRate(1); // Normal speed\n   * remote.changePlaybackRate(1.5); // 50% faster than normal\n   * remote.changePlaybackRate(2); // Double the normal speed\n   * ```\n   */\n  changePlaybackRate(rate, trigger) {\n    this._dispatchRequest(\"media-rate-change-request\", trigger, rate);\n  }\n  /**\n   * Dispatch a request to resume user idle tracking. Refer to {@link MediaRemoteControl.pauseUserIdle}\n   * for more information.\n   */\n  resumeUserIdle(trigger) {\n    this._dispatchRequest(\"media-resume-user-idle-request\", trigger);\n  }\n  /**\n   * Dispatch a request to pause user idle tracking. Pausing tracking will result in the `user-idle`\n   * attribute and state being `false` until `remote.resumeUserIdle()` is called. This method\n   * is generally used when building custom controls and you'd like to prevent the UI from\n   * dissapearing.\n   *\n   * @example\n   * ```ts\n   * // Prevent user idling while menu is being interacted with.\n   * function onSettingsOpen() {\n   *   remote.pauseUserIdle();\n   * }\n   *\n   * function onSettingsClose() {\n   *   remote.resumeUserIdle();\n   * }\n   * ```\n   */\n  pauseUserIdle(trigger) {\n    this._dispatchRequest(\"media-pause-user-idle-request\", trigger);\n  }\n  /**\n   * Dispatch a request to toggle the media playback state.\n   */\n  togglePaused(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this._noPlayerWarning(this.togglePaused.name);\n      return;\n    }\n    if (player.state.paused)\n      this.play(trigger);\n    else\n      this.pause(trigger);\n  }\n  /**\n   * Dispatch a request to toggle the user idle state.\n   */\n  toggleUserIdle(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this._noPlayerWarning(this.toggleUserIdle.name);\n      return;\n    }\n    player.user.idle(!player.user.idling, 0, trigger);\n  }\n  /**\n   * Dispatch a request to toggle the media muted state.\n   */\n  toggleMuted(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this._noPlayerWarning(this.toggleMuted.name);\n      return;\n    }\n    if (player.state.muted)\n      this.unmute(trigger);\n    else\n      this.mute(trigger);\n  }\n  /**\n   * Dispatch a request to toggle the media fullscreen state.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/fullscreen#media-remote}\n   */\n  toggleFullscreen(target, trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this._noPlayerWarning(this.toggleFullscreen.name);\n      return;\n    }\n    if (player.state.fullscreen)\n      this.exitFullscreen(target, trigger);\n    else\n      this.enterFullscreen(target, trigger);\n  }\n  /**\n   * Dispatch a request to toggle the media picture-in-picture mode.\n   *\n   * @docs {@link https://www.vidstack.io/docs/player/core-concepts/picture-in-picture#media-remote}\n   */\n  togglePictureInPicture(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this._noPlayerWarning(this.togglePictureInPicture.name);\n      return;\n    }\n    if (player.state.pictureInPicture)\n      this.exitPictureInPicture(trigger);\n    else\n      this.enterPictureInPicture(trigger);\n  }\n  /**\n   * Dispatch a request to toggle the current captions mode.\n   */\n  toggleCaptions(trigger) {\n    const player = this.getPlayer(trigger?.target);\n    if (!player) {\n      this._noPlayerWarning(this.toggleCaptions.name);\n      return;\n    }\n    const tracks = player.state.textTracks, track = player.state.textTrack;\n    if (track) {\n      const index = tracks.indexOf(track);\n      this.changeTextTrackMode(index, \"disabled\", trigger);\n      this._prevTrackIndex = index;\n    } else {\n      let index = this._prevTrackIndex;\n      if (!tracks[index] || !isTrackCaptionKind(tracks[index])) {\n        index = -1;\n      }\n      if (index === -1) {\n        index = tracks.findIndex((track2) => isTrackCaptionKind(track2) && track2.default);\n      }\n      if (index === -1) {\n        index = tracks.findIndex((track2) => isTrackCaptionKind(track2));\n      }\n      if (index >= 0)\n        this.changeTextTrackMode(index, \"showing\", trigger);\n      this._prevTrackIndex = -1;\n    }\n  }\n  _dispatchRequest(type, trigger, detail) {\n    const request = new DOMEvent(type, {\n      bubbles: true,\n      composed: true,\n      detail,\n      trigger\n    });\n    const shouldUsePlayer = trigger?.target && (trigger.target === document || trigger.target === window || trigger.target === document.body || this._player && !this._player.contains(trigger.target));\n    const target = shouldUsePlayer ? this._target ?? this.getPlayer() : trigger?.target ?? this._target;\n    {\n      this._logger?.infoGroup(`\\u{1F4E8} dispatching \\`${type}\\``).labelledLog(\"Target\", target).labelledLog(\"Player\", this._player).labelledLog(\"Request Event\", request).labelledLog(\"Trigger Event\", trigger).dispatch();\n    }\n    target?.dispatchEvent(request);\n  }\n  _noPlayerWarning(method) {\n    {\n      console.warn(\n        `[vidstack] attempted to call \\`MediaRemoteControl.${method}\\`() that requires player but failed because remote could not find a parent player element from target`\n      );\n    }\n  }\n}\n\nclass ThumbnailsLoader extends ComponentController {\n  _media;\n  onConnect() {\n    this._media = useMedia();\n    effect(this._onLoadCues.bind(this));\n  }\n  _onLoadCues() {\n    const { canLoad, thumbnailCues } = this._media.$store;\n    if (!canLoad())\n      return;\n    const controller = new AbortController(), { crossorigin, thumbnails } = this._media.$store;\n    const src = thumbnails();\n    if (!src)\n      return;\n    import('media-captions').then(({ parseResponse }) => {\n      parseResponse(\n        fetch(src, {\n          signal: controller.signal,\n          credentials: getRequestCredentials(crossorigin())\n        })\n      ).then(({ cues }) => thumbnailCues.set(cues)).catch(noop);\n    });\n    return () => {\n      controller.abort();\n      thumbnailCues.set([]);\n    };\n  }\n}\n\nclass AudioTrackList extends SelectList {\n  getById(id) {\n    if (id === \"\")\n      return null;\n    return this._items.find((track) => track.id === id) ?? null;\n  }\n}\n\nclass NativeTextRenderer {\n  priority = 0;\n  _display = true;\n  _video = null;\n  _track = null;\n  _tracks = /* @__PURE__ */ new Set();\n  canRender() {\n    return true;\n  }\n  attach(video) {\n    this._video = video;\n    video.textTracks.onchange = this._onChange.bind(this);\n  }\n  addTrack(track) {\n    this._tracks.add(track);\n    this._attachTrack(track);\n  }\n  removeTrack(track) {\n    track[TEXT_TRACK_NATIVE]?.remove?.();\n    track[TEXT_TRACK_NATIVE] = null;\n    this._tracks.delete(track);\n  }\n  changeTrack(track) {\n    const current = track?.[TEXT_TRACK_NATIVE];\n    if (current && current.track.mode !== \"showing\") {\n      current.track.mode = \"showing\";\n    }\n    this._track = track;\n  }\n  setDisplay(display) {\n    this._display = display;\n    this._onChange();\n  }\n  detach() {\n    if (this._video)\n      this._video.textTracks.onchange = null;\n    for (const track of this._tracks)\n      this.removeTrack(track);\n    this._tracks.clear();\n    this._video = null;\n    this._track = null;\n  }\n  _attachTrack(track) {\n    if (!this._video)\n      return;\n    const el = track[TEXT_TRACK_NATIVE] ??= this._createTrackElement(track);\n    if (el instanceof HTMLElement) {\n      this._video.append(el);\n      el.track.mode = el.default ? \"showing\" : \"hidden\";\n    }\n  }\n  _createTrackElement(track) {\n    const el = document.createElement(\"track\"), isDefault = track.default || track.mode === \"showing\", isSupported = track.src && track.type === \"vtt\";\n    el.id = track.id;\n    el.src = isSupported ? track.src : \"https://cdn.jsdelivr.net/npm/vidstack@0.6.12/empty.vtt\";\n    el.label = track.label;\n    el.kind = track.kind;\n    el.default = isDefault;\n    track.language && (el.srclang = track.language);\n    if (isDefault && !isSupported) {\n      this._copyCues(track, el.track);\n    }\n    return el;\n  }\n  _copyCues(track, native) {\n    if (track.src && track.type === \"vtt\" || native.cues?.length)\n      return;\n    for (const cue of track.cues)\n      native.addCue(cue);\n  }\n  _onChange(event) {\n    for (const track of this._tracks) {\n      const nativeTrack = track[TEXT_TRACK_NATIVE]?.track;\n      if (!nativeTrack)\n        continue;\n      if (!this._display) {\n        nativeTrack.mode = \"disabled\";\n        continue;\n      }\n      const isShowing = nativeTrack.mode === \"showing\";\n      if (isShowing)\n        this._copyCues(track, nativeTrack);\n      track.setMode(isShowing ? \"showing\" : \"disabled\", event);\n    }\n  }\n}\n\nclass TextRenderers {\n  constructor(_media) {\n    this._media = _media;\n    const textTracks = _media.textTracks;\n    this._textTracks = textTracks;\n    effect(this._watchControls.bind(this));\n    onDispose(this._detach.bind(this));\n    listenEvent(textTracks, \"add\", this._onAddTrack.bind(this));\n    listenEvent(textTracks, \"remove\", this._onRemoveTrack.bind(this));\n    listenEvent(textTracks, \"mode-change\", this._update.bind(this));\n  }\n  _video = null;\n  _textTracks;\n  _renderers = [];\n  _nativeDisplay = false;\n  _nativeRenderer = null;\n  _customRenderer = null;\n  _watchControls() {\n    const { $store, $iosControls } = this._media;\n    this._nativeDisplay = $store.controls() || $iosControls();\n    this._update();\n  }\n  add(renderer) {\n    this._renderers.push(renderer);\n    this._update();\n  }\n  remove(renderer) {\n    renderer.detach();\n    this._renderers.splice(this._renderers.indexOf(renderer), 1);\n    this._update();\n  }\n  /* @internal */\n  [ATTACH_VIDEO](video) {\n    requestAnimationFrame(() => {\n      this._video = video;\n      if (video) {\n        this._nativeRenderer = new NativeTextRenderer();\n        this._nativeRenderer.attach(video);\n        for (const track of this._textTracks)\n          this._addNativeTrack(track);\n      }\n      this._update();\n    });\n  }\n  _addNativeTrack(track) {\n    if (!isTrackCaptionKind(track))\n      return;\n    this._nativeRenderer?.addTrack(track);\n  }\n  _removeNativeTrack(track) {\n    if (!isTrackCaptionKind(track))\n      return;\n    this._nativeRenderer?.removeTrack(track);\n  }\n  _onAddTrack(event) {\n    this._addNativeTrack(event.detail);\n  }\n  _onRemoveTrack(event) {\n    this._removeNativeTrack(event.detail);\n  }\n  _update() {\n    if (!this._video) {\n      this._detach();\n      return;\n    }\n    const currentTrack = this._textTracks.selected;\n    if (this._nativeDisplay || currentTrack?.[TEXT_TRACK_NATIVE_HLS]) {\n      this._customRenderer?.changeTrack(null);\n      this._nativeRenderer.setDisplay(true);\n      this._nativeRenderer.changeTrack(currentTrack);\n      return;\n    }\n    this._nativeRenderer.setDisplay(false);\n    this._nativeRenderer.changeTrack(null);\n    if (!currentTrack) {\n      this._customRenderer?.changeTrack(null);\n      return;\n    }\n    const customRenderer = this._renderers.sort((a, b) => a.priority - b.priority).find((loader) => loader.canRender(currentTrack));\n    if (this._customRenderer !== customRenderer) {\n      this._customRenderer?.detach();\n      customRenderer?.attach(this._video);\n      this._customRenderer = customRenderer ?? null;\n    }\n    customRenderer?.changeTrack(currentTrack);\n  }\n  _detach() {\n    this._nativeRenderer?.detach();\n    this._nativeRenderer = null;\n    this._customRenderer?.detach();\n    this._customRenderer = null;\n  }\n}\n\nclass TextTrackList extends List {\n  _canLoad = false;\n  _defaults = {};\n  /** @internal */\n  [TEXT_TRACK_CROSSORIGIN];\n  get selected() {\n    const track = this._items.find((t) => t.mode === \"showing\" && isTrackCaptionKind(t));\n    return track ?? null;\n  }\n  add(init, trigger) {\n    const isTrack = init instanceof TextTrack, track = isTrack ? init : new TextTrack(init);\n    if (this._defaults[init.kind] && init.default)\n      delete init.default;\n    track.addEventListener(\"mode-change\", this._onTrackModeChangeBind);\n    this[LIST_ADD](track, trigger);\n    track[TEXT_TRACK_CROSSORIGIN] = this[TEXT_TRACK_CROSSORIGIN];\n    if (this._canLoad)\n      track[TEXT_TRACK_CAN_LOAD]();\n    if (init.default) {\n      this._defaults[init.kind] = track;\n      track.mode = \"showing\";\n    }\n    return this;\n  }\n  remove(track, trigger) {\n    if (!this._items.includes(track))\n      return;\n    if (track === this._defaults[track.kind])\n      delete this._defaults[track.kind];\n    track.mode = \"disabled\";\n    track[TEXT_TRACK_ON_MODE_CHANGE] = null;\n    track.removeEventListener(\"mode-change\", this._onTrackModeChangeBind);\n    this[LIST_REMOVE](track, trigger);\n    return this;\n  }\n  clear(trigger) {\n    for (const track of this._items)\n      this.remove(track, trigger);\n    return this;\n  }\n  getById(id) {\n    return this._items.find((track) => track.id === id) ?? null;\n  }\n  getByKind(kind) {\n    const kinds = Array.isArray(kind) ? kind : [kind];\n    return this._items.filter((track) => kinds.includes(track.kind));\n  }\n  /* @internal */\n  [TEXT_TRACK_CAN_LOAD]() {\n    if (this._canLoad)\n      return;\n    for (const track of this._items)\n      track[TEXT_TRACK_CAN_LOAD]();\n    this._canLoad = true;\n  }\n  _onTrackModeChangeBind = this._onTrackModeChange.bind(this);\n  _onTrackModeChange(event) {\n    const track = event.detail;\n    if (track.mode === \"showing\") {\n      const kinds = isTrackCaptionKind(track) ? [\"captions\", \"subtitles\"] : [track.kind];\n      for (const t of this._items) {\n        if (t.mode === \"showing\" && t != track && kinds.includes(t.kind)) {\n          t.mode = \"disabled\";\n        }\n      }\n    }\n    this.dispatchEvent(\n      new DOMEvent(\"mode-change\", {\n        detail: event.detail,\n        trigger: event\n      })\n    );\n  }\n}\n\nlet warned = /* @__PURE__ */ new Set() ;\nclass SourceSelection {\n  constructor(_domSources, _media, _loader) {\n    this._domSources = _domSources;\n    this._media = _media;\n    this._loader = _loader;\n    const HLS_LOADER = new HLSProviderLoader(), VIDEO_LOADER = new VideoProviderLoader(), AUDIO_LOADER = new AudioProviderLoader();\n    this._loaders = computed(() => {\n      return _media.$props.preferNativeHLS() ? [VIDEO_LOADER, AUDIO_LOADER, HLS_LOADER] : [HLS_LOADER, VIDEO_LOADER, AUDIO_LOADER];\n    });\n    effect(this._onSourcesChange.bind(this));\n    effect(this._onSourceChange.bind(this));\n    effect(this._onPreconnect.bind(this));\n    effect(this._onLoadSource.bind(this));\n  }\n  _loaders;\n  _onSourcesChange() {\n    this._media.delegate._dispatch(\"sources-change\", {\n      detail: [...normalizeSrc(this._media.$props.src()), ...this._domSources()]\n    });\n  }\n  _onSourceChange() {\n    const { $store } = this._media;\n    const sources = $store.sources(), currentSource = peek($store.source), newSource = this._findNewSource(currentSource, sources), noMatch = sources[0]?.src && !newSource.src && !newSource.type;\n    if (noMatch && !warned.has(newSource.src) && !peek(this._loader)) {\n      const source = sources[0];\n      console.warn(\n        `[vidstack] could not find a loader for any of the given media sources, consider providing \\`type\\`:\n\n<media-outlet>\n  <source src=\"${source.src}\" type=\"video/mp4\" />\n</media-outlet>\"\n\nFalling back to fetching source headers...`\n      );\n      warned.add(newSource.src);\n    }\n    if (noMatch) {\n      const { crossorigin } = $store, credentials = getRequestCredentials(crossorigin()), abort = new AbortController();\n      Promise.all(\n        sources.map(\n          (source) => isString(source.src) && source.type === \"?\" ? fetch(source.src, {\n            method: \"HEAD\",\n            credentials,\n            signal: abort.signal\n          }).then((res) => {\n            source.type = res.headers.get(\"content-type\") || \"??\";\n            return source;\n          }).catch(() => source) : source\n        )\n      ).then((sources2) => {\n        if (abort.signal.aborted)\n          return;\n        this._findNewSource(peek($store.source), sources2);\n        tick();\n      });\n      return () => abort.abort();\n    }\n    tick();\n  }\n  _findNewSource(currentSource, sources) {\n    let newSource = { src: \"\", type: \"\" }, newLoader = null;\n    for (const src of sources) {\n      const loader = peek(this._loaders).find((loader2) => loader2.canPlay(src));\n      if (loader) {\n        newSource = src;\n        newLoader = loader;\n      }\n    }\n    this._notifySourceChange(currentSource, newSource, newLoader);\n    this._notifyLoaderChange(peek(this._loader), newLoader);\n    return newSource;\n  }\n  _notifySourceChange(currentSource, newSource, newLoader) {\n    if (newSource.src === currentSource.src && newSource.type === currentSource.type)\n      return;\n    this._media.delegate._dispatch(\"source-change\", { detail: newSource });\n    this._media.delegate._dispatch(\"media-type-change\", {\n      detail: newLoader?.mediaType(newSource) || \"unknown\"\n    });\n  }\n  _notifyLoaderChange(currentLoader, newLoader) {\n    if (newLoader === currentLoader)\n      return;\n    this._media.delegate._dispatch(\"provider-change\", { detail: null });\n    newLoader && peek(() => newLoader.preconnect?.(this._media));\n    this._loader.set(newLoader);\n    this._media.delegate._dispatch(\"provider-loader-change\", { detail: newLoader });\n  }\n  _onPreconnect() {\n    const provider = this._media.$provider();\n    if (!provider)\n      return;\n    if (this._media.$store.canLoad()) {\n      peek(\n        () => provider.setup({\n          ...this._media,\n          player: this._media.player\n        })\n      );\n      return;\n    }\n    peek(() => provider.preconnect?.(this._media));\n  }\n  _onLoadSource() {\n    const provider = this._media.$provider(), source = this._media.$store.source();\n    if (this._media.$store.canLoad()) {\n      peek(() => provider?.loadSource(source, peek(this._media.$store.preload)));\n      return;\n    }\n    try {\n      isString(source.src) && preconnect(new URL(source.src).origin, \"preconnect\");\n    } catch (e) {\n      {\n        this._media.logger?.infoGroup(`Failed to preconnect to source: ${source.src}`).labelledLog(\"Error\", e).dispatch();\n      }\n    }\n  }\n}\nfunction normalizeSrc(src) {\n  return (isArray(src) ? src : [!isString(src) && \"src\" in src ? src : { src }]).map(\n    ({ src: src2, type }) => ({\n      src: src2,\n      type: type ?? (!isString(src2) || src2.startsWith(\"blob:\") ? \"video/object\" : \"?\")\n    })\n  );\n}\n\nclass Tracks {\n  constructor(_domTracks, _media) {\n    this._domTracks = _domTracks;\n    this._media = _media;\n    effect(this._onTracksChange.bind(this));\n  }\n  _prevTracks = [];\n  _onTracksChange() {\n    const newTracks = [...this._media.$props.textTracks(), ...this._domTracks()];\n    for (const oldTrack of this._prevTracks) {\n      if (!newTracks.some((t) => t.id === oldTrack.id)) {\n        const track = oldTrack.id && this._media.textTracks.getById(oldTrack.id);\n        if (track)\n          this._media.textTracks.remove(track);\n      }\n    }\n    for (const newTrack of newTracks) {\n      const id = newTrack.id || TextTrack.createId(newTrack);\n      if (!this._media.textTracks.getById(id)) {\n        newTrack.id = id;\n        this._media.textTracks.add(newTrack);\n      }\n    }\n    this._prevTracks = newTracks;\n  }\n}\n\nclass Outlet extends Component {\n  static el = defineElement({\n    tagName: \"media-outlet\"\n  });\n  _media;\n  _domSources = signal([]);\n  _domTracks = signal([]);\n  _loader = signal(null);\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n    new SourceSelection(this._domSources, this._media, this._loader);\n    new Tracks(this._domTracks, this._media);\n  }\n  onAttach(el) {\n    el.setAttribute(\"keep-alive\", \"\");\n  }\n  onConnect(el) {\n    const resize = new ResizeObserver(animationFrameThrottle(this._onResize.bind(this)));\n    resize.observe(el);\n    const mutation = new MutationObserver(this._onMutation.bind(this));\n    mutation.observe(el, { attributes: true, childList: true });\n    if (IS_SAFARI) {\n      listenEvent(el, \"touchstart\", (e) => e.preventDefault(), { passive: false });\n    }\n    scopedRaf(() => {\n      this._onResize();\n      this._onMutation();\n    });\n    return () => {\n      resize.disconnect();\n      mutation.disconnect();\n    };\n  }\n  onDestroy() {\n    this._media.$store.currentTime.set(0);\n  }\n  _onResize() {\n    const player = this._media.player, width = this.el.offsetWidth, height = this.el.offsetHeight;\n    if (!player)\n      return;\n    player.$store.mediaWidth.set(width);\n    player.$store.mediaHeight.set(height);\n    setStyle(player, \"--media-width\", width + \"px\");\n    setStyle(player, \"--media-height\", height + \"px\");\n  }\n  _onMutation() {\n    const sources = [], tracks = [], children = this.el.children;\n    for (const el of children) {\n      if (el instanceof HTMLSourceElement) {\n        sources.push({\n          src: el.src,\n          type: el.type\n        });\n      } else if (el instanceof HTMLTrackElement) {\n        tracks.push({\n          id: el.id,\n          src: el.src,\n          kind: el.track.kind,\n          language: el.srclang,\n          label: el.label,\n          default: el.default,\n          type: el.getAttribute(\"data-type\")\n        });\n      }\n    }\n    this._domSources.set(sources);\n    this._domTracks.set(tracks);\n    tick();\n  }\n  render() {\n    let currentProvider;\n    onDispose(() => currentProvider?.destroy?.());\n    return () => {\n      currentProvider?.destroy();\n      const loader = this._loader();\n      if (!loader)\n        return null;\n      const el = loader.render(this._media.$store);\n      {\n        peek(() => {\n          loader.load(this._media).then((provider) => {\n            if (peek(this._loader) !== loader)\n              return;\n            this._media.delegate._dispatch(\"provider-change\", {\n              detail: provider\n            });\n            currentProvider = provider;\n          });\n        });\n      }\n      return el;\n    };\n  }\n}\n\nclass LibASSTextRenderer {\n  constructor(loader, config) {\n    this.loader = loader;\n    this.config = config;\n  }\n  priority = 1;\n  _instance = null;\n  _track = null;\n  _typeRE = /(ssa|ass)$/;\n  canRender(track) {\n    return !!track.src && (isString(track.type) && this._typeRE.test(track.type) || this._typeRE.test(track.src));\n  }\n  attach(video) {\n    this.loader().then(async (mod) => {\n      this._instance = new mod.default({\n        ...this.config,\n        video,\n        subUrl: this._track?.src || \"\"\n      });\n      listenEvent(this._instance, \"ready\", () => {\n        const canvas = this._instance?._canvas;\n        if (canvas)\n          canvas.style.pointerEvents = \"none\";\n      });\n      listenEvent(this._instance, \"error\", (event) => {\n        if (this._track) {\n          this._track[TEXT_TRACK_READY_STATE] = 3;\n          this._track.dispatchEvent(\n            new DOMEvent(\"error\", {\n              trigger: event,\n              detail: event.error\n            })\n          );\n        }\n      });\n    });\n  }\n  changeTrack(track) {\n    if (!track || track.readyState === 3) {\n      this._freeTrack();\n    } else if (this._track !== track) {\n      this._instance?.setTrackByUrl(track.src);\n      this._track = track;\n    }\n  }\n  detach() {\n    this._freeTrack();\n  }\n  _freeTrack() {\n    this._instance?.freeTrack();\n    this._track = null;\n  }\n}\n\nclass ARIAKeyShortcuts extends ComponentController {\n  constructor(instance, _shortcut) {\n    super(instance);\n    this._shortcut = _shortcut;\n  }\n  onAttach(el) {\n    const { $props, ariaKeys } = useMedia(), keys = el.getAttribute(\"aria-keyshortcuts\");\n    if (keys) {\n      ariaKeys[this._shortcut] = keys;\n      {\n        onDispose(() => {\n          delete ariaKeys[this._shortcut];\n        });\n      }\n      return;\n    }\n    const shortcuts = $props.keyShortcuts()[this._shortcut];\n    if (shortcuts)\n      el.setAttribute(\"aria-keyshortcuts\", shortcuts);\n  }\n}\n\nexport { canUsePictureInPicture as $, ARIAKeyShortcuts as A, IS_IPHONE as B, MEDIA_ATTRIBUTES as C, canFullscreen as D, MediaRemoteControl as E, MediaRequestContext as F, ENABLE_AUTO_QUALITY as G, TextTrack as H, IS_SAFARI as I, TEXT_TRACK_READY_STATE as J, TEXT_TRACK_ON_MODE_CHANGE as K, LIST_SELECT as L, MediaStoreFactory as M, SET_AUTO_QUALITY as N, Outlet as O, LIST_ADD as P, IS_CHROME as Q, coerceToError as R, ScreenOrientationController as S, TextTrackList as T, loadScript as U, VideoQualityList as V, isHLSSupported as W, LIST_REMOVE as X, canPlayHLSNatively as Y, TEXT_TRACK_NATIVE as Z, TEXT_TRACK_NATIVE_HLS as _, setAttributeIfEmpty as a, canUseVideoPresentation as a0, ATTACH_VIDEO as a1, MediaUserController as a2, MEDIA_KEY_SHORTCUTS as a3, List as a4, FullscreenController as a5, softResetMediaStore as a6, TimeRange as a7, getTimeRangesStart as a8, getTimeRangesEnd as a9, LibASSTextRenderer as aa, setARIALabel as b, findActiveCue as c, canChangeVolume as d, onTrackChapterChange as e, functionThrottle as f, isElementParent as g, isCueActive as h, isTrackCaptionKind as i, MediaStoreSync as j, AudioTrackList as k, TEXT_TRACK_CROSSORIGIN as l, mediaPlayerProps as m, TextRenderers as n, onPress as o, preconnect as p, mediaContext as q, MediaKeyboardController as r, scopedRaf as s, ThumbnailsLoader as t, useMedia as u, MediaEventsLogger as v, MediaStateManager as w, MediaRequestManager as x, MediaPlayerDelegate as y, MediaLoadController as z };\n", "import { signal, effect, createContext, hasProvidedContext, useContext, provideContext, peek, isWriteSignal, StoreFactory, useStore, computed, onDispose, scoped, tick } from 'maverick.js';\nimport { ComponentController, Component, defineElement, prop, defineProp, method } from 'maverick.js/element';\nimport { s as scopedRaf, A as ARIAKeyShortcuts, a as setAttributeIfEmpty, o as onPress, u as useMedia, b as setARIALabel, i as isTrackCaptionKind, I as IS_SAFARI, f as functionThrottle, c as findActiveCue, d as canChangeVolume, e as onTrackChapterChange, g as isElementParent, h as isCueActive, p as preconnect } from './media-core.js';\nimport { $$_create_component, $$_create_walker, $$_effect, $$_attr, $$_next_element, $$_create_template, $$_listen, $$_ref, $$_setup_custom_element, $$_insert_at_marker_lite, $$_peek, $$_clone, $$_insert_lite, $$_computed, $$_next_template, $$_scoped } from 'maverick.js/dom';\nimport { I as Icon } from './icons/icon.js';\nimport { listenEvent, setAttribute, ariaBool as ariaBool$1, isNull, isNumber, setStyle, isDOMEvent, isKeyboardEvent, isUndefined, animationFrameThrottle, isDOMElement, isPointerEvent, isMouseEvent, isTouchEvent, kebabToCamelCase, createDisposalBin } from 'maverick.js/std';\nimport { CaptionsRenderer, renderVTTCueString, updateTimedVTTCueNodes } from 'media-captions';\n\nfunction round(num, decimalPlaces = 2) {\n  return Number(num.toFixed(decimalPlaces));\n}\nfunction getNumberOfDecimalPlaces(num) {\n  return String(num).split(\".\")[1]?.length ?? 0;\n}\nfunction clampNumber(min, value, max) {\n  return Math.max(min, Math.min(max, value));\n}\n\nlet $keyboard = signal(false);\n{\n  listenEvent(document, \"pointerdown\", () => {\n    $keyboard.set(false);\n  });\n  listenEvent(document, \"keydown\", (e) => {\n    if (e.metaKey || e.altKey || e.ctrlKey)\n      return;\n    $keyboard.set(true);\n  });\n}\nclass FocusVisibleController extends ComponentController {\n  _focused = signal(false);\n  onConnect(el) {\n    effect(() => {\n      if (!$keyboard()) {\n        this._focused.set(false);\n        updateFocusAttr(el, false);\n        this.listen(\"pointerenter\", this._onPointerEnter.bind(this));\n        this.listen(\"pointerleave\", this._onPointerLeave.bind(this));\n        return;\n      }\n      const active = document.activeElement === el;\n      this._focused.set(active);\n      updateFocusAttr(el, active);\n      this.listen(\"focus\", this._onFocus.bind(this));\n      this.listen(\"blur\", this._onBlur.bind(this));\n    });\n  }\n  focused() {\n    return this._focused();\n  }\n  _onFocus() {\n    this._focused.set(true);\n    updateFocusAttr(this.el, true);\n  }\n  _onBlur() {\n    this._focused.set(false);\n    updateFocusAttr(this.el, false);\n  }\n  _onPointerEnter() {\n    updateHoverAttr(this.el, true);\n  }\n  _onPointerLeave() {\n    updateHoverAttr(this.el, false);\n  }\n}\nfunction updateFocusAttr(el, isFocused) {\n  setAttribute(el, \"data-focus\", isFocused);\n  setAttribute(el, \"data-hocus\", isFocused);\n}\nfunction updateHoverAttr(el, isHovering) {\n  setAttribute(el, \"data-hocus\", isHovering);\n  setAttribute(el, \"data-hover\", isHovering);\n}\n\nconst tooltipContext = createContext();\n\nclass Tooltip extends Component {\n  static el = defineElement({\n    tagName: \"media-tooltip\",\n    props: { position: \"top center\" }\n  });\n  onAttach(el) {\n    if (hasProvidedContext(tooltipContext)) {\n      scopedRaf(() => {\n        if (!el.isConnected)\n          return;\n        const tooltip = useContext(tooltipContext);\n        tooltip._attachTooltip(el);\n      });\n    }\n    this.setAttributes({\n      position: this.$props.position\n    });\n  }\n}\n\nlet id = 0;\nclass TooltipController extends ComponentController {\n  constructor(instance) {\n    super(instance);\n    provideContext(tooltipContext, {\n      _attachTooltip: this._attachTooltip.bind(this)\n    });\n  }\n  _attachTooltip(tooltipEl) {\n    const tooltipId = `media-tooltip-${++id}`;\n    setAttribute(this.el, \"aria-describedby\", tooltipId);\n    setAttribute(tooltipEl, \"id\", tooltipId);\n    setAttribute(tooltipEl, \"role\", \"tooltip\");\n    this.el.removeAttribute(\"aria-label\");\n  }\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __getOwnPropDesc$3 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$3 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$3(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$3(target, key, result);\n  return result;\n};\nconst toggleButtonProps = {\n  disabled: false,\n  defaultPressed: false,\n  defaultAppearance: false\n};\nclass ToggleButton extends Component {\n  static el = defineElement({\n    tagName: \"media-toggle-button\",\n    props: toggleButtonProps\n  });\n  _pressed = signal(false);\n  _keyShortcut;\n  constructor(instance) {\n    super(instance);\n    new FocusVisibleController(instance);\n    new TooltipController(instance);\n    if (this._keyShortcut)\n      new ARIAKeyShortcuts(instance, this._keyShortcut);\n  }\n  get pressed() {\n    return peek(this._pressed);\n  }\n  onAttach(el) {\n    if (isWriteSignal(this._pressed)) {\n      this._pressed.set(this.$props.defaultPressed());\n    }\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"role\", \"button\");\n    const { disabled, defaultAppearance } = this.$props;\n    this.setAttributes({\n      disabled,\n      \"default-appearance\": defaultAppearance,\n      \"data-pressed\": this._pressed,\n      \"aria-pressed\": this._isARIAPressed.bind(this),\n      \"data-media-button\": true\n    });\n  }\n  onConnect(el) {\n    onPress(el, this._onMaybePress.bind(this));\n  }\n  _isARIAPressed() {\n    return ariaBool$1(this._pressed());\n  }\n  _onPress(event) {\n    if (isWriteSignal(this._pressed)) {\n      this._pressed.set((p) => !p);\n    }\n  }\n  _onMaybePress(event) {\n    const disabled = this.$props.disabled();\n    if (disabled) {\n      if (disabled)\n        event.stopImmediatePropagation();\n      return;\n    }\n    event.preventDefault();\n    this._onPress(event);\n  }\n}\n__decorateClass$3([\n  prop\n], ToggleButton.prototype, \"pressed\", 1);\n\nvar Icon$56 = `<path d=\"M8.66667 6.66667C8.29848 6.66667 8 6.96514 8 7.33333V24.6667C8 25.0349 8.29848 25.3333 8.66667 25.3333H12.6667C13.0349 25.3333 13.3333 25.0349 13.3333 24.6667V7.33333C13.3333 6.96514 13.0349 6.66667 12.6667 6.66667H8.66667Z\" fill=\"currentColor\"/> <path d=\"M19.3333 6.66667C18.9651 6.66667 18.6667 6.96514 18.6667 7.33333V24.6667C18.6667 25.0349 18.9651 25.3333 19.3333 25.3333H23.3333C23.7015 25.3333 24 25.0349 24 24.6667V7.33333C24 6.96514 23.7015 6.66667 23.3333 6.66667H19.3333Z\" fill=\"currentColor\"/>`;\n\nvar Icon$59 = `<path d=\"M10.6667 6.6548C10.6667 6.10764 11.2894 5.79346 11.7295 6.11862L24.377 15.4634C24.7377 15.7298 24.7377 16.2692 24.3771 16.5357L11.7295 25.8813C11.2895 26.2065 10.6667 25.8923 10.6667 25.3451L10.6667 6.6548Z\" fill=\"currentColor\"/>`;\n\nvar Icon$71 = `<path d=\"M15.6038 12.2147C16.0439 12.5399 16.6667 12.2257 16.6667 11.6786V10.1789C16.6667 10.1001 16.7351 10.0384 16.8134 10.0479C20.1116 10.4494 22.6667 13.2593 22.6667 16.6659C22.6667 20.3481 19.6817 23.3332 15.9995 23.3332C12.542 23.3332 9.69927 20.7014 9.36509 17.332C9.32875 16.9655 9.03371 16.6662 8.66548 16.6662L6.66655 16.6666C6.29841 16.6666 5.99769 16.966 6.02187 17.3334C6.36494 22.5454 10.7012 26.6667 16 26.6667C21.5228 26.6667 26 22.1895 26 16.6667C26 11.4103 21.9444 7.10112 16.7916 6.69757C16.7216 6.69209 16.6667 6.63396 16.6667 6.56372V4.98824C16.6667 4.44106 16.0439 4.12689 15.6038 4.45206L11.0765 7.79738C10.7159 8.06387 10.7159 8.60326 11.0766 8.86973L15.6038 12.2147Z\" fill=\"currentColor\"/>`;\n\nclass PlayButton extends ToggleButton {\n  static el = defineElement({\n    tagName: \"media-play-button\",\n    props: toggleButtonProps\n  });\n  _media;\n  _keyShortcut = \"togglePaused\";\n  onAttach(el) {\n    this._media = useMedia();\n    this._pressed = this._isPressed.bind(this);\n    super.onAttach(el);\n    setARIALabel(el, this._getLabel.bind(this));\n    const { paused, ended } = this._media.$store;\n    this.setAttributes({\n      \"data-paused\": paused,\n      \"data-ended\": ended\n    });\n  }\n  _onPress(event) {\n    const remote = this._media.remote;\n    this._pressed() ? remote.pause(event) : remote.play(event);\n  }\n  _isPressed() {\n    const { paused } = this._media.$store;\n    return !paused();\n  }\n  _getLabel() {\n    const { paused } = this._media.$store;\n    return paused() ? \"Play\" : \"Pause\";\n  }\n  render() {\n    return [\n      $$_create_component(Icon, { paths: Icon$59, slot: \"play\" }),\n      $$_create_component(Icon, { paths: Icon$71, slot: \"replay\" }),\n      $$_create_component(Icon, { paths: Icon$56, slot: \"pause\" })\n    ];\n  }\n}\n\nvar Icon$24 = `<path d=\"M8 28.0003C8 27.6321 8.29848 27.3336 8.66667 27.3336H23.3333C23.7015 27.3336 24 27.6321 24 28.0003V29.3336C24 29.7018 23.7015 30.0003 23.3333 30.0003H8.66667C8.29848 30.0003 8 29.7018 8 29.3336V28.0003Z\" fill=\"currentColor\"/> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.66602 6.66699C4.29783 6.66699 3.99935 6.96547 3.99935 7.33366V24.667C3.99935 25.0352 4.29783 25.3337 4.66602 25.3337H27.3327C27.7009 25.3337 27.9994 25.0352 27.9994 24.667V7.33366C27.9994 6.96547 27.7009 6.66699 27.3327 6.66699H4.66602ZM8.66659 21.3333C8.2984 21.3333 7.99992 21.0349 7.99992 20.6667V11.3333C7.99992 10.9651 8.2984 10.6667 8.66659 10.6667H13.9999C14.3681 10.6667 14.6666 10.9651 14.6666 11.3333V12.6667C14.6666 13.0349 14.3681 13.3333 13.9999 13.3333H10.7999C10.7263 13.3333 10.6666 13.393 10.6666 13.4667V18.5333C10.6666 18.607 10.7263 18.6667 10.7999 18.6667H13.9999C14.3681 18.6667 14.6666 18.9651 14.6666 19.3333V20.6667C14.6666 21.0349 14.3681 21.3333 13.9999 21.3333H8.66659ZM17.9999 21.3333C17.6317 21.3333 17.3333 21.0349 17.3333 20.6667V11.3333C17.3333 10.9651 17.6317 10.6667 17.9999 10.6667H23.3333C23.7014 10.6667 23.9999 10.9651 23.9999 11.3333V12.6667C23.9999 13.0349 23.7014 13.3333 23.3333 13.3333H20.1333C20.0596 13.3333 19.9999 13.393 19.9999 13.4667V18.5333C19.9999 18.607 20.0596 18.6667 20.1333 18.6667H23.3333C23.7014 18.6667 23.9999 18.9651 23.9999 19.3333V20.6667C23.9999 21.0349 23.7014 21.3333 23.3333 21.3333H17.9999Z\" fill=\"currentColor\"/>`;\n\nvar Icon$25 = `<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.6661 6.66699C4.29791 6.66699 3.99943 6.96547 3.99943 7.33366V24.667C3.99943 25.0352 4.29791 25.3337 4.6661 25.3337H27.3328C27.701 25.3337 27.9994 25.0352 27.9994 24.667V7.33366C27.9994 6.96547 27.701 6.66699 27.3328 6.66699H4.6661ZM8.66667 21.3333C8.29848 21.3333 8 21.0349 8 20.6667V11.3333C8 10.9651 8.29848 10.6667 8.66667 10.6667H14C14.3682 10.6667 14.6667 10.9651 14.6667 11.3333V12.6667C14.6667 13.0349 14.3682 13.3333 14 13.3333H10.8C10.7264 13.3333 10.6667 13.393 10.6667 13.4667V18.5333C10.6667 18.607 10.7264 18.6667 10.8 18.6667H14C14.3682 18.6667 14.6667 18.9651 14.6667 19.3333V20.6667C14.6667 21.0349 14.3682 21.3333 14 21.3333H8.66667ZM18 21.3333C17.6318 21.3333 17.3333 21.0349 17.3333 20.6667V11.3333C17.3333 10.9651 17.6318 10.6667 18 10.6667H23.3333C23.7015 10.6667 24 10.9651 24 11.3333V12.6667C24 13.0349 23.7015 13.3333 23.3333 13.3333H20.1333C20.0597 13.3333 20 13.393 20 13.4667V18.5333C20 18.607 20.0597 18.6667 20.1333 18.6667H23.3333C23.7015 18.6667 24 18.9651 24 19.3333V20.6667C24 21.0349 23.7015 21.3333 23.3333 21.3333H18Z\" fill=\"currentColor\"/>`;\n\nfunction ariaBool(value) {\n  return value ? \"true\" : \"false\";\n}\nfunction $ariaBool(signal) {\n  return () => ariaBool(signal());\n}\n\nclass CaptionButton extends ToggleButton {\n  static el = defineElement({\n    tagName: \"media-caption-button\",\n    props: toggleButtonProps\n  });\n  _media;\n  _keyShortcut = \"toggleCaptions\";\n  onAttach(el) {\n    this._media = useMedia();\n    this._pressed = this._isPressed.bind(this);\n    super.onAttach(el);\n    setARIALabel(el, this._getLabel.bind(this));\n    this.setAttributes({\n      \"aria-hidden\": $ariaBool(this._isHidden.bind(this))\n    });\n  }\n  _onPress(event) {\n    this._media.remote.toggleCaptions(event);\n  }\n  _isPressed() {\n    const { textTrack } = this._media.$store, track = textTrack();\n    return !!track && isTrackCaptionKind(track);\n  }\n  _isHidden() {\n    const { textTracks } = this._media.$store;\n    return textTracks().filter(isTrackCaptionKind).length == 0;\n  }\n  _getLabel() {\n    const { textTrack } = this._media.$store;\n    return textTrack() ? \"Closed-Captions Off\" : \"Closed-Captions On\";\n  }\n  render() {\n    return [\n      $$_create_component(Icon, { paths: Icon$24, slot: \"on\" }),\n      $$_create_component(Icon, { paths: Icon$25, slot: \"off\" })\n    ];\n  }\n}\n\nvar Icon$37 = `<path d=\"M19.3334 13.3333C18.9652 13.3333 18.6667 13.0349 18.6667 12.6667L18.6667 7.33333C18.6667 6.96514 18.9652 6.66666 19.3334 6.66666H21.3334C21.7015 6.66666 22 6.96514 22 7.33333V9.86666C22 9.9403 22.0597 10 22.1334 10L24.6667 10C25.0349 10 25.3334 10.2985 25.3334 10.6667V12.6667C25.3334 13.0349 25.0349 13.3333 24.6667 13.3333L19.3334 13.3333Z\" fill=\"currentColor\"/> <path d=\"M13.3334 19.3333C13.3334 18.9651 13.0349 18.6667 12.6667 18.6667H7.33335C6.96516 18.6667 6.66669 18.9651 6.66669 19.3333V21.3333C6.66669 21.7015 6.96516 22 7.33335 22H9.86669C9.94032 22 10 22.0597 10 22.1333L10 24.6667C10 25.0349 10.2985 25.3333 10.6667 25.3333H12.6667C13.0349 25.3333 13.3334 25.0349 13.3334 24.6667L13.3334 19.3333Z\" fill=\"currentColor\"/> <path d=\"M18.6667 24.6667C18.6667 25.0349 18.9652 25.3333 19.3334 25.3333H21.3334C21.7015 25.3333 22 25.0349 22 24.6667V22.1333C22 22.0597 22.0597 22 22.1334 22H24.6667C25.0349 22 25.3334 21.7015 25.3334 21.3333V19.3333C25.3334 18.9651 25.0349 18.6667 24.6667 18.6667L19.3334 18.6667C18.9652 18.6667 18.6667 18.9651 18.6667 19.3333L18.6667 24.6667Z\" fill=\"currentColor\"/> <path d=\"M10.6667 13.3333H12.6667C13.0349 13.3333 13.3334 13.0349 13.3334 12.6667L13.3334 10.6667V7.33333C13.3334 6.96514 13.0349 6.66666 12.6667 6.66666H10.6667C10.2985 6.66666 10 6.96514 10 7.33333L10 9.86666C10 9.9403 9.94033 10 9.86669 10L7.33335 10C6.96516 10 6.66669 10.2985 6.66669 10.6667V12.6667C6.66669 13.0349 6.96516 13.3333 7.33335 13.3333L10.6667 13.3333Z\" fill=\"currentColor\"/>`;\n\nvar Icon$38 = `<path d=\"M25.3299 7.26517C25.2958 6.929 25.0119 6.66666 24.6667 6.66666H19.3334C18.9652 6.66666 18.6667 6.96514 18.6667 7.33333V9.33333C18.6667 9.70152 18.9652 10 19.3334 10L21.8667 10C21.9403 10 22 10.0597 22 10.1333V12.6667C22 13.0349 22.2985 13.3333 22.6667 13.3333H24.6667C25.0349 13.3333 25.3334 13.0349 25.3334 12.6667V7.33333C25.3334 7.31032 25.3322 7.28758 25.3299 7.26517Z\" fill=\"currentColor\"/> <path d=\"M22 21.8667C22 21.9403 21.9403 22 21.8667 22L19.3334 22C18.9652 22 18.6667 22.2985 18.6667 22.6667V24.6667C18.6667 25.0349 18.9652 25.3333 19.3334 25.3333L24.6667 25.3333C25.0349 25.3333 25.3334 25.0349 25.3334 24.6667V19.3333C25.3334 18.9651 25.0349 18.6667 24.6667 18.6667H22.6667C22.2985 18.6667 22 18.9651 22 19.3333V21.8667Z\" fill=\"currentColor\"/> <path d=\"M12.6667 22H10.1334C10.0597 22 10 21.9403 10 21.8667V19.3333C10 18.9651 9.70154 18.6667 9.33335 18.6667H7.33335C6.96516 18.6667 6.66669 18.9651 6.66669 19.3333V24.6667C6.66669 25.0349 6.96516 25.3333 7.33335 25.3333H12.6667C13.0349 25.3333 13.3334 25.0349 13.3334 24.6667V22.6667C13.3334 22.2985 13.0349 22 12.6667 22Z\" fill=\"currentColor\"/> <path d=\"M10 12.6667V10.1333C10 10.0597 10.0597 10 10.1334 10L12.6667 10C13.0349 10 13.3334 9.70152 13.3334 9.33333V7.33333C13.3334 6.96514 13.0349 6.66666 12.6667 6.66666H7.33335C6.96516 6.66666 6.66669 6.96514 6.66669 7.33333V12.6667C6.66669 13.0349 6.96516 13.3333 7.33335 13.3333H9.33335C9.70154 13.3333 10 13.0349 10 12.6667Z\" fill=\"currentColor\"/>`;\n\nclass FullscreenButton extends ToggleButton {\n  static el = defineElement({\n    tagName: \"media-fullscreen-button\",\n    props: {\n      ...toggleButtonProps,\n      target: \"prefer-media\"\n    }\n  });\n  _media;\n  _keyShortcut = \"toggleFullscreen\";\n  onAttach(el) {\n    this._media = useMedia();\n    this._pressed = this._isPressed.bind(this);\n    super.onAttach(el);\n    setARIALabel(el, this._getLabel.bind(this));\n    const { fullscreen } = this._media.$store;\n    this.setAttributes({\n      \"aria-hidden\": $ariaBool(this._isHidden.bind(this)),\n      \"data-fullscreen\": fullscreen\n    });\n  }\n  _onPress(event) {\n    const remote = this._media.remote, target = this.$props.target();\n    this._pressed() ? remote.exitFullscreen(target, event) : remote.enterFullscreen(target, event);\n  }\n  _isPressed() {\n    const { fullscreen } = this._media.$store;\n    return fullscreen();\n  }\n  _isHidden() {\n    const { canFullscreen } = this._media.$store;\n    return !canFullscreen();\n  }\n  _getLabel() {\n    const { fullscreen } = this._media.$store;\n    return fullscreen() ? \"Exit Fullscreen\" : \"Enter Fullscreen\";\n  }\n  render() {\n    return [\n      $$_create_component(Icon, { paths: Icon$38, slot: \"enter\" }),\n      $$_create_component(Icon, { paths: Icon$37, slot: \"exit\" })\n    ];\n  }\n}\n\nvar Icon$52 = `<path d=\"M17.5091 24.6594C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3325V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.8036C16.8863 6.47842 17.5091 6.79259 17.5091 7.33977L17.5091 24.6594Z\" fill=\"currentColor\"/> <path d=\"M28.8621 13.6422C29.1225 13.3818 29.1225 12.9597 28.8621 12.6994L27.9193 11.7566C27.659 11.4962 27.2368 11.4962 26.9765 11.7566L24.7134 14.0197C24.6613 14.0717 24.5769 14.0717 24.5248 14.0197L22.262 11.7568C22.0016 11.4964 21.5795 11.4964 21.3191 11.7568L20.3763 12.6996C20.116 12.9599 20.116 13.382 20.3763 13.6424L22.6392 15.9053C22.6913 15.9573 22.6913 16.0418 22.6392 16.0938L20.3768 18.3562C20.1165 18.6166 20.1165 19.0387 20.3768 19.299L21.3196 20.2419C21.58 20.5022 22.0021 20.5022 22.2624 20.2418L24.5248 17.9795C24.5769 17.9274 24.6613 17.9274 24.7134 17.9795L26.976 20.2421C27.2363 20.5024 27.6585 20.5024 27.9188 20.2421L28.8616 19.2992C29.122 19.0389 29.122 18.6168 28.8616 18.3564L26.599 16.0938C26.547 16.0418 26.547 15.9573 26.599 15.9053L28.8621 13.6422Z\" fill=\"currentColor\"/>`;\n\nvar Icon$101 = `<path d=\"M17.5091 24.6595C17.5091 25.2066 16.8864 25.5208 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9992 9.36923 19.9992H4.66667C4.29848 19.9992 4 19.7007 4 19.3325V12.6658C4 12.2976 4.29848 11.9992 4.66667 11.9992H9.37115C9.39967 11.9992 9.42745 11.99 9.45039 11.9731L16.4463 6.80363C16.8863 6.47845 17.5091 6.79262 17.5091 7.3398L17.5091 24.6595Z\" fill=\"currentColor\"/> <path d=\"M27.5091 9.33336C27.8773 9.33336 28.1758 9.63184 28.1758 10V22C28.1758 22.3682 27.8773 22.6667 27.5091 22.6667H26.1758C25.8076 22.6667 25.5091 22.3682 25.5091 22V10C25.5091 9.63184 25.8076 9.33336 26.1758 9.33336L27.5091 9.33336Z\" fill=\"currentColor\"/> <path d=\"M22.1758 12C22.544 12 22.8424 12.2985 22.8424 12.6667V19.3334C22.8424 19.7016 22.544 20 22.1758 20H20.8424C20.4743 20 20.1758 19.7016 20.1758 19.3334V12.6667C20.1758 12.2985 20.4743 12 20.8424 12H22.1758Z\" fill=\"currentColor\"/>`;\n\nvar Icon$102 = `<path d=\"M17.5091 24.6594C17.5091 25.2066 16.8864 25.5207 16.4463 25.1956L9.44847 20.0252C9.42553 20.0083 9.39776 19.9991 9.36923 19.9991H4.66667C4.29848 19.9991 4 19.7006 4 19.3324V12.6658C4 12.2976 4.29848 11.9991 4.66667 11.9991H9.37115C9.39967 11.9991 9.42745 11.99 9.45039 11.973L16.4463 6.80358C16.8863 6.4784 17.5091 6.79258 17.5091 7.33975L17.5091 24.6594Z\" fill=\"currentColor\"/> <path d=\"M22.8424 12.6667C22.8424 12.2985 22.544 12 22.1758 12H20.8424C20.4743 12 20.1758 12.2985 20.1758 12.6667V19.3333C20.1758 19.7015 20.4743 20 20.8424 20H22.1758C22.544 20 22.8424 19.7015 22.8424 19.3333V12.6667Z\" fill=\"currentColor\"/>`;\n\nclass MuteButton extends ToggleButton {\n  static el = defineElement({\n    tagName: \"media-mute-button\",\n    props: toggleButtonProps\n  });\n  _media;\n  _keyShortcut = \"toggleMuted\";\n  onAttach(el) {\n    this._media = useMedia();\n    this._pressed = this._isPressed.bind(this);\n    setARIALabel(el, this._getLabel.bind(this));\n    this.setAttributes({\n      \"data-muted\": this._pressed,\n      \"data-volume\": this._getVolumeText.bind(this)\n    });\n    super.onAttach(el);\n  }\n  _onPress(event) {\n    const remote = this._media.remote;\n    this._pressed() ? remote.unmute(event) : remote.mute(event);\n  }\n  _isPressed() {\n    const { muted, volume } = this._media.$store;\n    return muted() || volume() === 0;\n  }\n  _getLabel() {\n    return this._pressed() ? \"Unmute\" : \"Mute\";\n  }\n  _getVolumeText() {\n    const { muted, volume } = this._media.$store, $volume = volume();\n    if (muted() || $volume === 0)\n      return \"muted\";\n    else if ($volume >= 0.5)\n      return \"high\";\n    else if ($volume < 0.5)\n      return \"low\";\n  }\n  render() {\n    return [\n      $$_create_component(Icon, { paths: Icon$101, slot: \"volume-high\" }),\n      $$_create_component(Icon, { paths: Icon$102, slot: \"volume-low\" }),\n      $$_create_component(Icon, { paths: Icon$52, slot: \"volume-muted\" })\n    ];\n  }\n}\n\nvar Icon$57 = `<path d=\"M5.33334 26V19.4667C5.33334 19.393 5.39304 19.3333 5.46668 19.3333H7.86668C7.94031 19.3333 8.00001 19.393 8.00001 19.4667V23.3333C8.00001 23.7015 8.29849 24 8.66668 24H23.3333C23.7015 24 24 23.7015 24 23.3333V8.66666C24 8.29847 23.7015 7.99999 23.3333 7.99999H19.4667C19.393 7.99999 19.3333 7.9403 19.3333 7.86666V5.46666C19.3333 5.39302 19.393 5.33333 19.4667 5.33333H26C26.3682 5.33333 26.6667 5.63181 26.6667 5.99999V26C26.6667 26.3682 26.3682 26.6667 26 26.6667H6.00001C5.63182 26.6667 5.33334 26.3682 5.33334 26Z\" fill=\"currentColor\"/> <path d=\"M14.0098 8.42359H10.806C10.6872 8.42359 10.6277 8.56721 10.7117 8.6512L16.5491 14.4886C16.8094 14.7489 16.8094 15.171 16.5491 15.4314L15.3234 16.657C15.0631 16.9174 14.641 16.9174 14.3806 16.657L8.63739 10.9138C8.55339 10.8298 8.40978 10.8893 8.40978 11.0081V14.0236C8.40978 14.3918 8.1113 14.6903 7.74311 14.6903H6.00978C5.64159 14.6903 5.34311 14.3918 5.34311 14.0236L5.34311 6.02359C5.34311 5.6554 5.64159 5.35692 6.00978 5.35692L14.0098 5.35692C14.378 5.35692 14.6764 5.6554 14.6764 6.02359V7.75692C14.6764 8.12511 14.378 8.42359 14.0098 8.42359Z\" fill=\"currentColor\"/>`;\n\nvar Icon$58 = `<path d=\"M16 15.3333C15.6318 15.3333 15.3333 15.6318 15.3333 16V20C15.3333 20.3682 15.6318 20.6667 16 20.6667H21.3333C21.7015 20.6667 22 20.3682 22 20V16C22 15.6318 21.7015 15.3333 21.3333 15.3333H16Z\" fill=\"currentColor\"/> <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.33333 7.33334C5.33333 6.96515 5.63181 6.66667 5.99999 6.66667H26C26.3682 6.66667 26.6667 6.96515 26.6667 7.33334V24.6667C26.6667 25.0349 26.3682 25.3333 26 25.3333H5.99999C5.63181 25.3333 5.33333 25.0349 5.33333 24.6667V7.33334ZM7.99999 10C7.99999 9.63182 8.29847 9.33334 8.66666 9.33334H23.3333C23.7015 9.33334 24 9.63182 24 10V22C24 22.3682 23.7015 22.6667 23.3333 22.6667H8.66666C8.29847 22.6667 7.99999 22.3682 7.99999 22V10Z\" fill=\"currentColor\"/>`;\n\nclass PIPButton extends ToggleButton {\n  static el = defineElement({\n    tagName: \"media-pip-button\",\n    props: toggleButtonProps\n  });\n  _media;\n  _keyShortcut = \"togglePictureInPicture\";\n  onAttach(el) {\n    this._media = useMedia();\n    this._pressed = this._isPressed.bind(this);\n    super.onAttach(el);\n    setARIALabel(el, this._getLabel.bind(this));\n    const { pictureInPicture } = this._media.$store;\n    this.setAttributes({\n      \"aria-hidden\": $ariaBool(this._isHidden.bind(this)),\n      \"data-pip\": pictureInPicture\n    });\n  }\n  _onPress(event) {\n    const remote = this._media.remote;\n    this._pressed() ? remote.exitPictureInPicture(event) : remote.enterPictureInPicture(event);\n  }\n  _isPressed() {\n    const { pictureInPicture } = this._media.$store;\n    return pictureInPicture();\n  }\n  _isHidden() {\n    const { canPictureInPicture } = this._media.$store;\n    return !canPictureInPicture();\n  }\n  _getLabel() {\n    const { pictureInPicture } = this._media.$store;\n    return pictureInPicture() ? \"Exit Picture In Picture\" : \"Enter Picture In Picture\";\n  }\n  render() {\n    return [\n      $$_create_component(Icon, { paths: Icon$58, slot: \"enter\" }),\n      $$_create_component(Icon, { paths: Icon$57, slot: \"exit\" })\n    ];\n  }\n}\n\nvar Icon$77 = `<path d=\"M15.6038 12.2148C16.0439 12.5399 16.6667 12.2257 16.6667 11.6786V10.1789C16.6667 10.1001 16.7351 10.0384 16.8134 10.0479C20.1116 10.4494 22.6667 13.2593 22.6667 16.6659C22.6667 20.3481 19.6817 23.3332 15.9995 23.3332C12.542 23.3332 9.69927 20.7015 9.36509 17.332C9.32875 16.9655 9.03371 16.6662 8.66548 16.6662L6.66655 16.6666C6.29841 16.6666 5.99769 16.966 6.02187 17.3334C6.36494 22.5454 10.7012 26.6667 16 26.6667C21.5228 26.6667 26 22.1895 26 16.6667C26 11.4103 21.9444 7.10112 16.7916 6.69758C16.7216 6.69209 16.6667 6.63396 16.6667 6.56372V4.98824C16.6667 4.44106 16.0439 4.12689 15.6038 4.45207L11.0765 7.79738C10.7159 8.06387 10.7159 8.60327 11.0766 8.86974L15.6038 12.2148Z\" fill=\"currentColor\"/>`;\n\nvar Icon$81 = `<path d=\"M16.4167 12.2148C15.9766 12.5399 15.3538 12.2257 15.3538 11.6786V10.1789C15.3538 10.1001 15.2854 10.0384 15.2072 10.0479C11.9089 10.4494 9.35384 13.2593 9.35384 16.6659C9.35384 20.3481 12.3389 23.3332 16.0211 23.3332C19.4785 23.3332 22.3212 20.7015 22.6554 17.332C22.6918 16.9655 22.9868 16.6662 23.355 16.6662L25.354 16.6666C25.7221 16.6666 26.0228 16.966 25.9986 17.3334C25.6556 22.5454 21.3193 26.6667 16.0205 26.6667C10.4977 26.6667 6.02051 22.1895 6.02051 16.6667C6.02051 11.4103 10.0761 7.10112 15.2289 6.69758C15.2989 6.69209 15.3538 6.63396 15.3538 6.56372V4.98824C15.3538 4.44106 15.9766 4.12689 16.4167 4.45207L20.944 7.79738C21.3046 8.06387 21.3046 8.60327 20.9439 8.86974L16.4167 12.2148Z\" fill=\"currentColor\"/>`;\n\nclass SeekButton extends Component {\n  static el = defineElement({\n    tagName: \"media-seek-button\",\n    props: {\n      disabled: false,\n      defaultAppearance: false,\n      seconds: 30\n    }\n  });\n  _media;\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n    new FocusVisibleController(instance);\n    new TooltipController(instance);\n  }\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"role\", \"button\");\n    setARIALabel(el, this._getLabel.bind(this));\n    const { seconds, defaultAppearance } = this.$props;\n    this.setAttributes({\n      seconds,\n      \"default-appearance\": defaultAppearance,\n      \"aria-hidden\": $ariaBool(this._isHidden.bind(this)),\n      \"data-media-button\": true\n    });\n  }\n  onConnect(el) {\n    onPress(el, this._onPress.bind(this));\n  }\n  _isHidden() {\n    const { canSeek } = this._media.$store;\n    return !canSeek();\n  }\n  _getLabel() {\n    const { seconds } = this.$props;\n    return `Seek ${seconds() > 0 ? \"forward\" : \"backward\"} ${seconds()} seconds`;\n  }\n  _onPress(event) {\n    const { seconds, disabled } = this.$props;\n    if (disabled())\n      return;\n    const { currentTime } = this._media.$store, seekTo = currentTime() + seconds();\n    this._media.remote.seek(seekTo, event);\n  }\n  render() {\n    return [\n      $$_create_component(Icon, { paths: Icon$77, slot: \"backward\" }),\n      $$_create_component(Icon, { paths: Icon$81, slot: \"forward\" })\n    ];\n  }\n}\n\nconst SliderStoreFactory = new StoreFactory({\n  min: 0,\n  max: 100,\n  value: 50,\n  pointerValue: 0,\n  focused: false,\n  dragging: false,\n  pointing: false,\n  get interactive() {\n    return this.dragging || this.focused || this.pointing;\n  },\n  get fillRate() {\n    return calcRate(this.min, this.max, this.value);\n  },\n  get fillPercent() {\n    return this.fillRate * 100;\n  },\n  get pointerRate() {\n    return calcRate(this.min, this.max, this.pointerValue);\n  },\n  get pointerPercent() {\n    return this.pointerRate * 100;\n  }\n});\nfunction calcRate(min, max, value) {\n  const range = max - min, offset = value - min;\n  return range > 0 ? offset / range : 0;\n}\n\nconst sliderProps = {\n  min: 0,\n  max: 100,\n  disabled: false,\n  value: 100,\n  step: 1,\n  keyStep: 1,\n  shiftKeyMultiplier: 5,\n  trackClass: null,\n  trackFillClass: null,\n  trackProgressClass: null,\n  thumbContainerClass: null,\n  thumbClass: null\n};\n\nfunction getClampedValue(min, max, value, step) {\n  return clampNumber(min, round(value, getNumberOfDecimalPlaces(step)), max);\n}\nfunction getValueFromRate(min, max, rate, step) {\n  const boundRate = clampNumber(0, rate, 1), range = max - min, fill = range * boundRate, stepRatio = fill / step, steps = step * stepRatio;\n  return min + steps;\n}\n\nconst SliderKeyDirection = {\n  Left: -1,\n  ArrowLeft: -1,\n  Up: 1,\n  ArrowUp: 1,\n  Right: 1,\n  ArrowRight: 1,\n  Down: -1,\n  ArrowDown: -1\n};\nclass SliderEventsController extends ComponentController {\n  constructor(instance, _delegate, _media) {\n    super(instance);\n    this._delegate = _delegate;\n    this._media = _media;\n  }\n  onConnect() {\n    effect(this._attachEventListeners.bind(this));\n    effect(this._attachPointerListeners.bind(this));\n    if (this._delegate._swipeGesture) {\n      scopedRaf(() => {\n        const outlet = this._media.player?.querySelector(\"media-outlet\");\n        if (outlet) {\n          this._outlet = outlet;\n          listenEvent(outlet, \"touchstart\", this._onTouchStart.bind(this));\n          listenEvent(outlet, \"touchmove\", this._onTouchMove.bind(this));\n        }\n      });\n    }\n  }\n  _outlet = null;\n  _touchX = null;\n  _touchStartValue = null;\n  _onTouchStart(event) {\n    this._touchX = event.touches[0].clientX;\n  }\n  _onTouchMove(event) {\n    if (isNull(this._touchX))\n      return;\n    event.preventDefault();\n    if (this.$store.dragging())\n      return;\n    const diff = event.touches[0].clientX - this._touchX;\n    if (Math.abs(diff) > 20) {\n      this._touchX = event.touches[0].clientX;\n      this._touchStartValue = this.$store.value();\n      this._onStartDragging(this._touchStartValue, event);\n    }\n  }\n  _attachEventListeners() {\n    if (this._delegate._isDisabled())\n      return;\n    this.listen(\"focus\", this._onFocus.bind(this));\n    this.listen(\"pointerenter\", this._onPointerEnter.bind(this));\n    this.listen(\"pointermove\", this._onPointerMove.bind(this));\n    this.listen(\"pointerleave\", this._onPointerLeave.bind(this));\n    this.listen(\"pointerdown\", this._onPointerDown.bind(this));\n    this.listen(\"keydown\", this._onKeyDown.bind(this));\n    this.listen(\"keyup\", this._onKeyUp.bind(this));\n  }\n  _attachPointerListeners() {\n    if (this._delegate._isDisabled() || !this.$store.dragging())\n      return;\n    listenEvent(document, \"pointerup\", this._onDocumentPointerUp.bind(this));\n    listenEvent(document, \"pointermove\", this._onDocumentPointerMove.bind(this));\n    if (IS_SAFARI) {\n      listenEvent(document, \"touchmove\", this._onDocumentTouchMove.bind(this), {\n        passive: false\n      });\n    }\n  }\n  _onFocus() {\n    this._updatePointerValue(this.$store.value());\n  }\n  _updateValue(newValue, trigger) {\n    const { value, min, max, dragging } = this.$store;\n    const clampedValue = Math.max(min(), Math.min(newValue, max()));\n    value.set(clampedValue);\n    const event = this.createEvent(\"value-change\", { detail: clampedValue, trigger });\n    this.el.dispatchEvent(event);\n    this._delegate._onValueChange(event);\n    if (dragging()) {\n      const event2 = this.createEvent(\"drag-value-change\", { detail: clampedValue, trigger });\n      this.el.dispatchEvent(event2);\n      this._delegate._onDragValueChange(event2);\n    }\n  }\n  _updatePointerValue(value, trigger) {\n    const { pointerValue, dragging } = this.$store;\n    pointerValue.set(value);\n    this.dispatch(\"pointer-value-change\", { detail: value, trigger });\n    if (dragging()) {\n      const dir = this._delegate._orientation === \"vertical\" ? \"bottom\" : \"left\", size = this._delegate._orientation === \"vertical\" ? \"height\" : \"width\";\n      if (this._trackFill && !this.el?.hasAttribute(\"data-chapters\")) {\n        this._trackFill.style[size] = value + \"%\";\n      }\n      if (this._thumb) {\n        this._thumb.style[dir] = value + \"%\";\n      }\n      this._updateValue(value, trigger);\n    }\n  }\n  _getPointerValue(event) {\n    let thumbPositionRate, rect = this.el.getBoundingClientRect(), { min, max } = this.$store;\n    if (this._delegate._orientation === \"vertical\") {\n      const { bottom: trackBottom, height: trackHeight } = rect;\n      thumbPositionRate = (trackBottom - event.clientY) / trackHeight;\n    } else {\n      if (this._touchX && isNumber(this._touchStartValue)) {\n        const { width } = this._outlet.getBoundingClientRect(), rate = (event.clientX - this._touchX) / width, range = max() - min(), diff = range * Math.abs(rate);\n        thumbPositionRate = (rate < 0 ? this._touchStartValue - diff : this._touchStartValue + diff) / range;\n      } else {\n        const { left: trackLeft, width: trackWidth } = rect;\n        thumbPositionRate = (event.clientX - trackLeft) / trackWidth;\n      }\n    }\n    return Math.max(\n      min(),\n      Math.min(\n        max(),\n        this._delegate._roundValue(\n          getValueFromRate(min(), max(), thumbPositionRate, this._delegate._getStep())\n        )\n      )\n    );\n  }\n  _onPointerEnter(event) {\n    this.$store.pointing.set(true);\n  }\n  _onPointerMove(event) {\n    const { dragging } = this.$store;\n    if (dragging())\n      return;\n    this._updatePointerValue(this._getPointerValue(event), event);\n  }\n  _onPointerLeave(event) {\n    this.$store.pointing.set(false);\n  }\n  _onPointerDown(event) {\n    if (event.button !== 0)\n      return;\n    const value = this._getPointerValue(event);\n    this._onStartDragging(value, event);\n    this._updatePointerValue(value, event);\n  }\n  _thumb = null;\n  _trackFill = null;\n  _onStartDragging(value, trigger) {\n    const { dragging } = this.$store;\n    if (dragging())\n      return;\n    dragging.set(true);\n    this._thumb = this.el.querySelector(\n      'shadow-root > div[part=\"thumb-container\"]'\n    );\n    this._trackFill = this.el.querySelector(\n      'shadow-root > div[part~=\"track-fill\"]'\n    );\n    this._media.remote.pauseUserIdle(trigger);\n    const event = this.createEvent(\"drag-start\", { detail: value, trigger });\n    this.el.dispatchEvent(event);\n    this._delegate._onDragStart(event);\n  }\n  _onStopDragging(value, trigger) {\n    const { dragging } = this.$store;\n    if (!dragging())\n      return;\n    dragging.set(false);\n    if (this._trackFill) {\n      setStyle(this._trackFill, \"width\", null);\n      this._trackFill = null;\n    }\n    if (this._thumb) {\n      setStyle(this._thumb, \"left\", null);\n      setStyle(this._thumb, \"bottom\", null);\n      this._thumb = null;\n    }\n    this._media.remote.resumeUserIdle(trigger);\n    const event = this.createEvent(\"drag-end\", { detail: value, trigger });\n    this.el.dispatchEvent(event);\n    this._delegate._onDragEnd(event);\n    this._touchX = null;\n    this._touchStartValue = null;\n  }\n  // -------------------------------------------------------------------------------------------\n  // Keyboard Events\n  // -------------------------------------------------------------------------------------------\n  _lastDownKey;\n  _onKeyDown(event) {\n    if (isDOMEvent(event)) {\n      const trigger = event.trigger;\n      if (isKeyboardEvent(trigger))\n        event = trigger;\n      else\n        return;\n    }\n    const { key } = event;\n    const { min, max } = this.$store;\n    let newValue;\n    if (key === \"Home\" || key === \"PageUp\") {\n      newValue = min();\n    } else if (key === \"End\" || key === \"PageDown\") {\n      newValue = max();\n    } else if (!event.metaKey && /[0-9]/.test(key)) {\n      newValue = (max() - min()) / 10 * Number(key);\n    }\n    if (!isUndefined(newValue)) {\n      this._updatePointerValue(newValue, event);\n      this._updateValue(newValue, event);\n      return;\n    }\n    const value = this._getKeyValue(event);\n    if (!value)\n      return;\n    const repeat = key === this._lastDownKey;\n    if (!this.$store.dragging() && repeat)\n      this._onStartDragging(value, event);\n    this._updatePointerValue(value, event);\n    if (!repeat)\n      this._updateValue(value, event);\n    this._lastDownKey = key;\n  }\n  _onKeyUp(event) {\n    if (isDOMEvent(event)) {\n      const trigger = event.trigger;\n      if (isKeyboardEvent(trigger))\n        event = trigger;\n      else\n        return;\n    }\n    this._lastDownKey = \"\";\n    const { dragging, value } = this.$store;\n    if (!dragging())\n      return;\n    const newValue = this._getKeyValue(event) ?? value();\n    this._updatePointerValue(newValue);\n    this._onStopDragging(newValue, event);\n  }\n  _getKeyValue(event) {\n    const { key, shiftKey } = event, isValidKey = Object.keys(SliderKeyDirection).includes(key);\n    if (!isValidKey)\n      return;\n    const { shiftKeyMultiplier } = this.$props;\n    const { value } = this.$store, step = this._delegate._getStep(), keyStep = this._delegate._getKeyStep();\n    const modifiedStep = !shiftKey ? keyStep : keyStep * shiftKeyMultiplier(), direction = Number(SliderKeyDirection[key]), diff = modifiedStep * direction, steps = (value() + diff) / step;\n    return Number((step * steps).toFixed(3));\n  }\n  // -------------------------------------------------------------------------------------------\n  // Document (Pointer Events)\n  // -------------------------------------------------------------------------------------------\n  _onDocumentPointerUp(event) {\n    if (event.button !== 0)\n      return;\n    const value = this._getPointerValue(event);\n    this._updatePointerValue(value, event);\n    this._onStopDragging(value, event);\n  }\n  _onDocumentTouchMove(event) {\n    event.preventDefault();\n  }\n  _onDocumentPointerMove = functionThrottle(\n    (event) => {\n      this._updatePointerValue(this._getPointerValue(event), event);\n    },\n    20,\n    { leading: true }\n  );\n}\n\nconst sliderValueFormatContext = createContext(() => ({}));\n\nconst $$_templ$h = /* @__PURE__ */ $$_create_template(`<!$><div part=\"track\"></div>`), $$_templ_2$6 = /* @__PURE__ */ $$_create_template(`<!$><div part=\"track track-fill\"></div>`), $$_templ_3$1 = /* @__PURE__ */ $$_create_template(`<!$><div part=\"track track-progress\"></div>`), $$_templ_4 = /* @__PURE__ */ $$_create_template(`<!$><div part=\"thumb-container\"><!$><div part=\"thumb\"></div></div>`);\nclass Slider extends Component {\n  static el = defineElement({\n    tagName: \"media-slider\",\n    props: sliderProps,\n    store: SliderStoreFactory\n  });\n  _media;\n  _readonly = false;\n  _orientation = \"\";\n  constructor(instance) {\n    super(instance);\n    provideContext(sliderValueFormatContext);\n    this._media = useMedia();\n    new SliderEventsController(instance, this, this._media);\n    const focus = new FocusVisibleController(instance);\n    this.$store.focused = focus.focused.bind(focus);\n  }\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"role\", \"slider\");\n    setAttributeIfEmpty(el, \"tabindex\", \"0\");\n    setAttributeIfEmpty(el, \"aria-orientation\", \"horizontal\");\n    setAttributeIfEmpty(el, \"autocomplete\", \"off\");\n    this._orientation = el.getAttribute(\"aria-orientation\") || \"\";\n    if (!this._readonly) {\n      effect(this._watchMinMax.bind(this));\n      effect(this._watchDisabled.bind(this));\n    }\n    effect(this._watchValue.bind(this));\n    this._setAttrs();\n  }\n  onConnect(el) {\n    this._setupPreview();\n  }\n  render() {\n    const { trackClass, trackFillClass, trackProgressClass, thumbContainerClass, thumbClass } = this.$props;\n    return [\n      (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ$h);\n        $$_effect(() => $$_attr($$_root, \"class\", trackClass()));\n        return $$_root;\n      })(),\n      (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ_2$6);\n        $$_effect(() => $$_attr($$_root, \"class\", trackFillClass()));\n        return $$_root;\n      })(),\n      (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ_3$1);\n        $$_effect(() => $$_attr($$_root, \"class\", trackProgressClass()));\n        return $$_root;\n      })(),\n      (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ_4), $$_el = $$_next_element($$_walker);\n        $$_effect(() => $$_attr($$_root, \"class\", thumbContainerClass()));\n        $$_effect(() => $$_attr($$_el, \"class\", thumbClass()));\n        return $$_root;\n      })()\n    ];\n  }\n  // -------------------------------------------------------------------------------------------\n  // Props\n  // -------------------------------------------------------------------------------------------\n  _getStep() {\n    return this.$props.step();\n  }\n  _getKeyStep() {\n    return this.$props.keyStep();\n  }\n  _roundValue(value) {\n    return Math.round(value);\n  }\n  _isDisabled() {\n    return this.$props.disabled();\n  }\n  // -------------------------------------------------------------------------------------------\n  // Watch\n  // -------------------------------------------------------------------------------------------\n  _watchMinMax() {\n    const { min, max } = this.$props;\n    this.$store.min.set(min());\n    this.$store.max.set(max());\n  }\n  _watchDisabled() {\n    if (!this._isDisabled())\n      return;\n    const { dragging, pointing } = this.$store;\n    dragging.set(false);\n    pointing.set(false);\n  }\n  _watchValue() {\n    const { dragging, value, min, max } = this.$store;\n    if (peek(dragging))\n      return;\n    value.set(getClampedValue(min(), max(), value(), this._getStep()));\n  }\n  // -------------------------------------------------------------------------------------------\n  // ARIA\n  // -------------------------------------------------------------------------------------------\n  _getARIADisabled() {\n    return ariaBool$1(this._isDisabled());\n  }\n  _getARIAValueMin() {\n    return this.$props.min();\n  }\n  _getARIAValueMax() {\n    return this.$props.max();\n  }\n  _getARIAValueNow() {\n    const { value } = this.$store;\n    return Math.round(value());\n  }\n  _getARIAValueText() {\n    const { value, max } = this.$store;\n    return round(value() / max() * 100, 2) + \"%\";\n  }\n  // -------------------------------------------------------------------------------------------\n  // Attributes\n  // -------------------------------------------------------------------------------------------\n  _setAttrs() {\n    const { disabled } = this.$props, { dragging, interactive, pointing } = this.$store;\n    this.setAttributes({\n      disabled,\n      \"data-dragging\": dragging,\n      \"data-pointing\": pointing,\n      \"data-interactive\": interactive,\n      \"aria-disabled\": this._getARIADisabled.bind(this),\n      \"aria-valuemin\": this._getARIAValueMin.bind(this),\n      \"aria-valuemax\": this._getARIAValueMax.bind(this),\n      \"aria-valuenow\": this._getARIAValueNow.bind(this),\n      \"aria-valuetext\": this._getARIAValueText.bind(this),\n      \"data-styled\": this._isStyled.bind(this),\n      \"data-media-slider\": true\n    });\n    effect(this._watchCSSVars.bind(this));\n  }\n  _isStyled() {\n    return !!this.$props.trackClass();\n  }\n  _watchCSSVars() {\n    const { fillPercent, pointerPercent } = this.$store;\n    this._updateSliderVars(round(fillPercent(), 3), round(pointerPercent(), 3));\n  }\n  _updateSliderVars = animationFrameThrottle(\n    (fillPercent, pointerPercent) => {\n      this.el?.style.setProperty(\"--slider-fill-percent\", fillPercent + \"%\");\n      this.el?.style.setProperty(\"--slider-pointer-percent\", pointerPercent + \"%\");\n    }\n  );\n  // -------------------------------------------------------------------------------------------\n  // Preview\n  // -------------------------------------------------------------------------------------------\n  _preview = null;\n  _setupPreview() {\n    this._preview = this.el.querySelector('[slot=\"preview\"]');\n    if (!this._preview)\n      return;\n    effect(this._watchPreview.bind(this));\n    Promise.resolve().then(function () { return preview; }).then(({ setupPreviewStyles }) => {\n      setupPreviewStyles(this._preview, this._orientation);\n    });\n  }\n  _watchPreview() {\n    if (this._isDisabled() || !this._preview)\n      return;\n    window.requestAnimationFrame(this._onPreviewResize);\n    const observer = new ResizeObserver(this._onPreviewResize);\n    observer.observe(this._preview);\n    return () => observer.disconnect();\n  }\n  _onPreviewResize = animationFrameThrottle(() => {\n    if (!this._preview)\n      return;\n    const rect = this._preview.getBoundingClientRect();\n    setStyle(this._preview, \"--computed-width\", rect.width + \"px\");\n    setStyle(this._preview, \"--computed-height\", rect.height + \"px\");\n  });\n  // -------------------------------------------------------------------------------------------\n  // Events\n  // -------------------------------------------------------------------------------------------\n  _onValueChange(event) {\n  }\n  _onDragStart(event) {\n  }\n  _onDragEnd(event) {\n  }\n  _onDragValueChange(event) {\n  }\n}\n\nconst $$_templ$g = /* @__PURE__ */ $$_create_template(`<!$><img part=\"img\" loading=\"eager\" decoding=\"async\" aria-hidden=\"true\" />`);\nclass Thumbnail extends Component {\n  static el = defineElement({\n    tagName: \"media-thumbnail\",\n    props: { time: 0 }\n  });\n  _media;\n  _img = null;\n  _coords = null;\n  _styleResets = [];\n  _src = signal(\"\");\n  _loaded = signal(false);\n  _activeCue = signal(null);\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n  }\n  onAttach() {\n    this.setAttributes({\n      \"data-loading\": this._isLoading.bind(this),\n      \"aria-hidden\": $ariaBool(this._isHidden.bind(this))\n    });\n  }\n  onConnect() {\n    effect(this._onLoadStart.bind(this));\n    effect(this._onFindActiveCue.bind(this));\n    effect(this._onResolveThumbnail.bind(this));\n  }\n  _onLoadStart() {\n    this._src();\n    this._media.$store.thumbnails();\n    this._loaded.set(false);\n  }\n  _onLoaded() {\n    this._loaded.set(true);\n    this._requestResize();\n  }\n  _isLoading() {\n    return !this._isHidden() && !this._loaded();\n  }\n  _isHidden() {\n    const { duration, thumbnailCues } = this._media.$store;\n    return !Number.isFinite(duration()) || thumbnailCues().length === 0;\n  }\n  _onFindActiveCue() {\n    const { time } = this.$props, { duration, thumbnailCues } = this._media.$store, _cues = thumbnailCues(), _time = time();\n    if (!_cues || !Number.isFinite(duration())) {\n      this._activeCue.set(null);\n      return;\n    }\n    this._activeCue.set(findActiveCue(_time, _cues));\n  }\n  _onImgRef(el) {\n    this._img = el;\n  }\n  _onResolveThumbnail() {\n    const activeCue = this._activeCue(), thumbnails = peek(this._media.$store.thumbnails);\n    if (!thumbnails || !activeCue) {\n      this._src.set(\"\");\n      this._resetStyles();\n      return;\n    }\n    const [_src, _coords = \"\"] = (activeCue.text || \"\").split(\"#\");\n    this._coords = this._resolveThumbnailCoords(_coords);\n    if (!this._coords) {\n      this._resetStyles();\n      return;\n    }\n    this._src.set(this._resolveThumbnailSrc(thumbnails, _src));\n    this._requestResize();\n  }\n  _resolveThumbnailSrc(baseURL, src) {\n    return !/https?:/.test(src) ? `${baseURL.split(\"/\").slice(0, -1).join(\"/\")}${src.replace(/^\\/?/, \"/\")}`.replace(\n      /^\\/\\//,\n      \"/\"\n    ) : src;\n  }\n  _resolveThumbnailCoords(coords) {\n    const [props, values] = coords.split(\"=\"), resolvedCoords = {}, coordValues = values?.split(\",\");\n    if (!props || !values)\n      return null;\n    for (let i = 0; i < props.length; i++)\n      resolvedCoords[props[i]] = +coordValues[i];\n    return resolvedCoords;\n  }\n  _requestResize = animationFrameThrottle(this._resize.bind(this));\n  _resize() {\n    if (!this._img || !this._coords || !this.el)\n      return;\n    const { w, h, x, y } = this._coords, { maxWidth, maxHeight, minWidth, minHeight } = getComputedStyle(this.el), minRatio = Math.max(parseInt(minWidth) / w, parseInt(minHeight) / h), maxRatio = Math.min(parseInt(maxWidth) / w, parseInt(maxHeight) / h), scale = maxRatio < 1 ? maxRatio : minRatio > 1 ? minRatio : 1;\n    this._style(this.el, \"--thumbnail-width\", `${w * scale}px`);\n    this._style(this.el, \"--thumbnail-height\", `${h * scale}px`);\n    this._style(this._img, \"width\", `${this._img.naturalWidth * scale}px`);\n    this._style(this._img, \"height\", `${this._img.naturalHeight * scale}px`);\n    this._style(this._img, \"transform\", `translate(-${x * scale}px, -${y * scale}px)`);\n  }\n  _style(el, name, value) {\n    el.style.setProperty(name, value);\n    this._styleResets.push(() => el.style.removeProperty(name));\n  }\n  _resetStyles() {\n    for (const reset of this._styleResets)\n      reset();\n    this._styleResets = [];\n  }\n  render() {\n    const { crossorigin } = this._media.$store;\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ$g);\n      $$_effect(() => $$_attr($$_root, \"src\", this._src()));\n      $$_effect(() => $$_attr($$_root, \"crossorigin\", crossorigin()));\n      $$_listen($$_root, \"load\", this._onLoaded.bind(this));\n      $$_ref($$_root, this._onImgRef.bind(this));\n      return $$_root;\n    })();\n  }\n}\n\nconst $$_templ$f = /* @__PURE__ */ $$_create_template(`<!$><media-thumbnail part=\"thumbnail\" mk-d></media-thumbnail>`);\nclass SliderThumbnail extends Component {\n  static el = defineElement({\n    tagName: \"media-slider-thumbnail\"\n  });\n  static register = [Thumbnail];\n  _media;\n  _slider;\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n    this._slider = useStore(SliderStoreFactory);\n  }\n  _getTime() {\n    const { duration } = this._media.$store;\n    return this._slider.pointerRate() * duration();\n  }\n  render() {\n    const time = this._getTime.bind(this);\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ$f);\n      $$_effect(() => $$_attr($$_root, \"time\", time()));\n      $$_setup_custom_element($$_root);\n      return $$_root;\n    })();\n  }\n}\n\nconst $$_templ$e = /* @__PURE__ */ $$_create_template(`<!$><video muted=\"\" playsinline=\"\" preload=\"auto\" part=\"video\" style=\"max-width: unset\"></video>`);\nclass SliderVideo extends Component {\n  static el = defineElement({\n    tagName: \"media-slider-video\",\n    props: { src: void 0 }\n  });\n  _media;\n  _slider;\n  _video = null;\n  _canPlay = signal(false);\n  _error = signal(false);\n  _src;\n  _hidden;\n  onAttach() {\n    this._media = useMedia();\n    this._slider = useStore(SliderStoreFactory);\n    this._src = computed(this._getSrc.bind(this));\n    this._hidden = computed(this._isHidden.bind(this));\n    this.setAttributes({\n      \"data-loading\": this._isLoading.bind(this),\n      \"aria-hidden\": $ariaBool(this._hidden)\n    });\n    effect(this._onSrcChange.bind(this));\n    effect(this._onTimeUpdate.bind(this));\n  }\n  onConnect() {\n    if (this._video.readyState >= 2)\n      this._onCanPlay();\n  }\n  render() {\n    const { crossorigin } = this._media.$store;\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ$e);\n      $$_effect(() => $$_attr($$_root, \"src\", this._src()));\n      $$_effect(() => $$_attr($$_root, \"crossorigin\", crossorigin()));\n      $$_listen($$_root, \"canplay\", this._onCanPlay.bind(this));\n      $$_listen($$_root, \"error\", this._onError.bind(this));\n      $$_ref($$_root, this._setVideo.bind(this));\n      return $$_root;\n    })();\n  }\n  _getSrc() {\n    const { canLoad } = this._media.$store;\n    return canLoad() ? this.$props.src() : null;\n  }\n  _isLoading() {\n    return !this._canPlay() && !this._hidden();\n  }\n  _isHidden() {\n    const { duration } = this._media.$store;\n    return !!this._error() || !this._canPlay() || !Number.isFinite(duration());\n  }\n  _onSrcChange() {\n    this._src();\n    this._canPlay.set(false);\n    this._error.set(false);\n  }\n  _onCanPlay(event) {\n    this._canPlay.set(true);\n    this.dispatch(\"can-play\", { trigger: event });\n  }\n  _onError(event) {\n    this._error.set(true);\n    this.dispatch(\"error\", { trigger: event });\n  }\n  _onTimeUpdate() {\n    const { duration } = this._media.$store;\n    const { pointerRate } = this._slider;\n    if (this._canPlay() && this._video && Number.isFinite(duration()) && Number.isFinite(pointerRate())) {\n      this._video.currentTime = pointerRate() * duration();\n    }\n  }\n  _setVideo(el) {\n    this._video = el;\n  }\n}\n\nfunction padNumberWithZeroes(num, expectedLength) {\n  const str = String(num);\n  const actualLength = str.length;\n  const shouldPad = actualLength < expectedLength;\n  if (shouldPad) {\n    const padLength = expectedLength - actualLength;\n    const padding = `0`.repeat(padLength);\n    return `${padding}${num}`;\n  }\n  return str;\n}\nfunction parseTime(duration) {\n  const hours = Math.trunc(duration / 3600);\n  const minutes = Math.trunc(duration % 3600 / 60);\n  const seconds = Math.trunc(duration % 60);\n  const fraction = Number((duration - Math.trunc(duration)).toPrecision(3));\n  return {\n    hours,\n    minutes,\n    seconds,\n    fraction\n  };\n}\nfunction formatTime(duration, shouldPadHours = false, shouldPadMinutes = false, shouldAlwaysShowHours = false) {\n  const { hours, minutes, seconds } = parseTime(duration);\n  const paddedHours = shouldPadHours ? padNumberWithZeroes(hours, 2) : hours;\n  const paddedMinutes = shouldPadMinutes ? padNumberWithZeroes(minutes, 2) : minutes;\n  const paddedSeconds = padNumberWithZeroes(seconds, 2);\n  if (hours > 0 || shouldAlwaysShowHours) {\n    return `${paddedHours}:${paddedMinutes}:${paddedSeconds}`;\n  }\n  return `${paddedMinutes}:${paddedSeconds}`;\n}\nfunction formatSpokenTime(duration) {\n  const spokenParts = [];\n  const { hours, minutes, seconds } = parseTime(duration);\n  if (hours > 0) {\n    spokenParts.push(`${hours} hour`);\n  }\n  if (minutes > 0) {\n    spokenParts.push(`${minutes} min`);\n  }\n  if (seconds > 0 || spokenParts.length === 0) {\n    spokenParts.push(`${seconds} sec`);\n  }\n  return spokenParts.join(\" \");\n}\n\nconst $$_templ$d = /* @__PURE__ */ $$_create_template(`<!$><span><!$></span>`);\nclass SliderValue extends Component {\n  static el = defineElement({\n    tagName: \"media-slider-value\",\n    props: {\n      type: \"current\",\n      format: void 0,\n      showHours: false,\n      padHours: false,\n      padMinutes: false,\n      decimalPlaces: 2\n    }\n  });\n  _format;\n  _text;\n  _slider;\n  onAttach() {\n    this._slider = useStore(SliderStoreFactory);\n    this._format = useContext(sliderValueFormatContext);\n    this._text = computed(this._getText.bind(this));\n  }\n  _getText() {\n    const { type, format, decimalPlaces, padHours, padMinutes, showHours } = this.$props;\n    const { value: sliderValue, pointerValue, min, max } = this._slider;\n    const value = type() === \"current\" ? sliderValue() : pointerValue();\n    if (format() === \"percent\") {\n      const range = max() - min();\n      const percent = value / range * 100;\n      return (this._format.percent ?? round)(percent, decimalPlaces()) + \"\\uFE6A\";\n    } else if (format() === \"time\") {\n      return (this._format.time ?? formatTime)(value, padHours(), padMinutes(), showHours());\n    } else {\n      return this._format.value?.(value) ?? value.toFixed(2);\n    }\n  }\n  render() {\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ$d), $$_expr = $$_walker.nextNode();\n      $$_insert_at_marker_lite($$_expr, this._text);\n      return $$_root;\n    })();\n  }\n}\n\nclass VolumeSlider extends Slider {\n  static el = defineElement({\n    tagName: \"media-volume-slider\",\n    props: {\n      ...sliderProps,\n      min: defineProp({ value: 0, attribute: false }),\n      max: defineProp({ value: 100, attribute: false }),\n      value: defineProp({ value: 100, attribute: false })\n    },\n    store: SliderStoreFactory\n  });\n  _readonly = true;\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"aria-label\", \"Media volume\");\n    super.onAttach(el);\n    {\n      canChangeVolume().then((canSet) => {\n        if (!canSet)\n          setAttribute(el, \"aria-hidden\", \"true\");\n      });\n    }\n    effect(this._watchVolume.bind(this));\n  }\n  _watchVolume() {\n    const { muted, volume } = this._media.$store;\n    const newValue = muted() ? 0 : volume() * 100;\n    this.$store.value.set(newValue);\n    this.dispatch(\"value-change\", { detail: newValue });\n  }\n  _throttleVolumeChange = functionThrottle(this._onVolumeChange.bind(this), 25);\n  _onVolumeChange(event) {\n    if (!event.trigger)\n      return;\n    const mediaVolume = round(event.detail / 100, 3);\n    this._media.remote.changeVolume(mediaVolume, event);\n  }\n  _onValueChange(event) {\n    this._throttleVolumeChange(event);\n  }\n  _onDragValueChange(event) {\n    this._throttleVolumeChange(event);\n  }\n  _getARIAValueMin() {\n    return 0;\n  }\n  _getARIAValueMax() {\n    return 100;\n  }\n}\n\nclass ClassManager {\n  _root;\n  _observer;\n  _map = /* @__PURE__ */ new Map();\n  _classes = signal([]);\n  constructor(el) {\n    this._root = el.firstChild;\n    this._observer = new MutationObserver(this._onMutation.bind(this));\n    this._observer.observe(this._root, { subtree: true, childList: true });\n    effect(this._watch.bind(this));\n    onDispose(this._destroy.bind(this));\n  }\n  _onMutation(records) {\n    const selector = Array.from(this._map.keys()).join(\",\");\n    for (const record of records) {\n      for (const node of record.addedNodes) {\n        if (isDOMElement(node) && node.matches(selector))\n          this._requestUpdate();\n      }\n    }\n  }\n  _observe(selector, $class) {\n    this._map.set(selector, $class);\n    this._classes.set((c) => [...c, $class]);\n    return this;\n  }\n  _requestUpdate = animationFrameThrottle(this._update.bind(this));\n  _update() {\n    for (const [selector, classes] of this._map) {\n      const _class = peek(classes);\n      for (const el of this._root.querySelectorAll(selector)) {\n        setAttribute(el, \"class\", _class);\n      }\n    }\n  }\n  _watch() {\n    for (const c of this._classes())\n      c();\n    this._requestUpdate();\n  }\n  _destroy() {\n    this._classes.set([]);\n    this._map.clear();\n    this._observer.disconnect();\n  }\n}\n\nconst $$_templ$c = /* @__PURE__ */ $$_create_template(`<div part=\"chapters\"></div>`), $$_templ_2$5 = /* @__PURE__ */ $$_create_template(`<div part=\"chapter-container\"><div part=\"chapter\"><div part=\"track\"></div><div part=\"track track-fill\" style=\"width: 0%\"></div><div part=\"track track-progress\" style=\"width: 0%\"></div></div></div>`);\nclass SliderChaptersRenderer {\n  constructor(_media, _slider, _onChange) {\n    this._media = _media;\n    this._slider = _slider;\n    this._onChange = _onChange;\n  }\n  _chapters = [];\n  _refs = [];\n  _activeChapterIndex = 0;\n  _bufferedChapterIndex = 0;\n  render(cues, $class) {\n    return cues?.length ? $$_peek(\n      () => (() => {\n        const $$_root = $$_clone($$_templ$c);\n        $$_effect(() => $$_attr($$_root, \"class\", $class()));\n        $$_insert_lite($$_root, () => this._renderChapters(cues));\n        return $$_root;\n      })()\n    ) : null;\n  }\n  _renderChapters(cues) {\n    this._chapters = this._fillChapterGaps(cues);\n    const firstChapter = this._chapters[0];\n    this._onChange(firstChapter.startTime === 0 ? firstChapter.text : \"\");\n    for (let i = 0; i < this._chapters.length; i++)\n      this._refs.push(this._renderChapter());\n    this._updateContainerWidths();\n    effect(this._watchFillPercent.bind(this));\n    effect(this._watchPointerPercent.bind(this));\n    effect(this._watchBufferedPercent.bind(this));\n    onDispose(() => {\n      this._refs = [];\n      this._activeChapterIndex = 0;\n      this._bufferedChapterIndex = 0;\n    });\n    return this._refs;\n  }\n  _renderChapter() {\n    return $$_clone($$_templ_2$5);\n  }\n  _getChapterTrackFill(container) {\n    return container.firstChild.firstChild.nextSibling;\n  }\n  _getChapterTrackProgress(container) {\n    return container.firstChild.lastChild;\n  }\n  _getChaptersEndTime() {\n    return this._chapters[this._chapters.length - 1].endTime;\n  }\n  _updateContainerWidths() {\n    let cue, endTime = this._getChaptersEndTime();\n    for (let i = 0; i < this._chapters.length; i++) {\n      cue = this._chapters[i];\n      this._refs[i].style.width = round((cue.endTime - cue.startTime) / endTime * 100, 3) + \"%\";\n    }\n  }\n  _watchFillPercent() {\n    let { fillPercent, value, pointing } = this._slider, currentChapter = this._chapters[this._activeChapterIndex], activeIndex = this._findActiveChapterIndex(\n      currentChapter.startTime <= peek(value) ? this._activeChapterIndex : 0,\n      fillPercent()\n    );\n    if (activeIndex > this._activeChapterIndex) {\n      this._updateTrackFillWidths(this._activeChapterIndex, activeIndex, \"100%\");\n    } else if (activeIndex < this._activeChapterIndex) {\n      this._updateTrackFillWidths(activeIndex + 1, this._activeChapterIndex + 1, \"0%\");\n    }\n    if (!peek(pointing) && this._activeChapterIndex !== activeIndex) {\n      this._onChange(this._chapters[activeIndex].text);\n    }\n    let trackFill = this._getChapterTrackFill(this._refs[activeIndex]), percent = this._calcChapterPercent(this._chapters[activeIndex], fillPercent()) + \"%\";\n    if (trackFill.style.width !== percent)\n      trackFill.style.width = percent;\n    this._activeChapterIndex = activeIndex;\n  }\n  _watchPointerPercent() {\n    let { pointing, pointerPercent } = this._slider;\n    if (!pointing())\n      return;\n    const activeIndex = this._findActiveChapterIndex(0, pointerPercent());\n    this._onChange(this._chapters[activeIndex].text);\n  }\n  _updateTrackFillWidths(start, end, width) {\n    for (let i = start; i < end; i++)\n      this._getChapterTrackFill(this._refs[i]).style.width = width;\n  }\n  _findActiveChapterIndex(startIndex, percent) {\n    let chapterPercent = 0;\n    for (let i = startIndex; i < this._chapters.length; i++) {\n      chapterPercent = this._calcChapterPercent(this._chapters[i], percent);\n      if (chapterPercent >= 0 && chapterPercent < 100)\n        return i;\n    }\n    return 0;\n  }\n  _watchBufferedPercent() {\n    this._updateBufferedPercent(this._bufferedPercent());\n  }\n  _updateBufferedPercent = animationFrameThrottle((bufferedPercent) => {\n    let width;\n    for (let i = this._bufferedChapterIndex; i < this._refs.length; i++) {\n      width = this._calcChapterPercent(this._chapters[i], bufferedPercent);\n      this._getChapterTrackProgress(this._refs[i]).style.width = width + \"%\";\n      if (width < 100) {\n        this._bufferedChapterIndex = i;\n        break;\n      }\n    }\n  });\n  _bufferedPercent = computed(this._calcMediaBufferedPercent.bind(this));\n  _calcMediaBufferedPercent() {\n    const { bufferedEnd, duration } = this._media;\n    return round(Math.min(bufferedEnd() / Math.max(duration(), 1), 1), 3) * 100;\n  }\n  _calcChapterPercent(cue, percent) {\n    const lastChapter = this._chapters[this._chapters.length - 1], startPercent = cue.startTime / lastChapter.endTime * 100, endPercent = cue.endTime / lastChapter.endTime * 100;\n    return Math.max(\n      0,\n      round(\n        percent >= endPercent ? 100 : (percent - startPercent) / (endPercent - startPercent) * 100,\n        3\n      )\n    );\n  }\n  _fillChapterGaps(cues) {\n    const chapters = [];\n    for (let i = 0; i < cues.length - 1; i++) {\n      const currentCue = cues[i], nextCue = cues[i + 1];\n      chapters.push(currentCue);\n      if (nextCue) {\n        const timeDiff = nextCue.startTime - currentCue.endTime;\n        if (timeDiff > 0) {\n          chapters.push(new window.VTTCue(currentCue.endTime, currentCue.endTime + timeDiff, \"\"));\n        }\n      }\n    }\n    chapters.push(cues[cues.length - 1]);\n    return chapters;\n  }\n}\n\nclass TimeSlider extends Slider {\n  static el = defineElement({\n    tagName: \"media-time-slider\",\n    props: {\n      ...sliderProps,\n      min: defineProp({ value: 0, attribute: false }),\n      max: defineProp({ value: 100, attribute: false }),\n      value: defineProp({ value: 0, attribute: false }),\n      pauseWhileDragging: false,\n      seekingRequestThrottle: 100,\n      chaptersClass: null,\n      chapterContainerClass: null,\n      chapterClass: null\n    },\n    store: SliderStoreFactory\n  });\n  _readonly = true;\n  _swipeGesture = true;\n  _dispatchSeeking;\n  _track = signal(null);\n  _chaptersRenderer;\n  _classManager;\n  constructor(instance) {\n    super(instance);\n    provideContext(sliderValueFormatContext, {\n      value: this._formatValue.bind(this),\n      time: this._formatTime.bind(this)\n    });\n  }\n  onAttach(el) {\n    setAttributeIfEmpty(el, \"aria-label\", \"Media time\");\n    super.onAttach(el);\n    this._chaptersRenderer = new SliderChaptersRenderer(\n      this._media.$store,\n      this.$store,\n      this._chapterTitle.set\n    );\n    this.setAttributes({\n      \"data-chapters\": this._hasChapters.bind(this)\n    });\n    this.setStyles({\n      \"--media-buffered-percent\": this._calcBufferedPercent.bind(this)\n    });\n    effect(this._watchCurrentTime.bind(this));\n    effect(this._watchSeekingThrottle.bind(this));\n    effect(this._onTrackChange.bind(this));\n    scopedRaf(() => {\n      effect(this._watchPreviewing.bind(this));\n    });\n  }\n  _calcBufferedPercent() {\n    const { bufferedEnd, duration } = this._media.$store;\n    return round(Math.min(bufferedEnd() / Math.max(duration(), 1), 1) * 100, 3) + \"%\";\n  }\n  _hasChapters() {\n    const { duration } = this._media.$store;\n    this._classManager?._requestUpdate();\n    return this._track()?.cues.length && Number.isFinite(duration()) && duration() > 0;\n  }\n  onConnect(el) {\n    super.onConnect(el);\n    this._onTrackModeChange();\n    listenEvent(this._media.textTracks, \"mode-change\", this._onTrackModeChange.bind(this));\n    const { chapterContainerClass, chapterClass, trackClass, trackFillClass, trackProgressClass } = this.$props;\n    this._classManager = new ClassManager(el)._observe('[part=\"chapter-container\"]', chapterContainerClass)._observe('[part=\"chapter\"]', chapterClass)._observe('[part=\"track\"]', trackClass)._observe('[part~=\"track-fill\"]', trackFillClass)._observe('[part~=\"track-progress\"]', trackProgressClass);\n  }\n  render() {\n    const tracks = super.render(), { chaptersClass } = this.$props;\n    return [$$_computed(() => this._chaptersRenderer.render(this._track()?.cues, chaptersClass)), tracks];\n  }\n  _watchSeekingThrottle() {\n    this._dispatchSeeking = functionThrottle(\n      this._seeking.bind(this),\n      this.$props.seekingRequestThrottle()\n    );\n  }\n  _watchCurrentTime() {\n    const { currentTime } = this._media.$store, { value, dragging } = this.$store, newValue = this._timeToPercent(currentTime());\n    if (!peek(dragging)) {\n      value.set(newValue);\n      this.dispatch(\"value-change\", { detail: newValue });\n    }\n  }\n  _watchPreviewing() {\n    const player = this._media.player;\n    player && this._preview && setAttribute(player, \"data-preview\", this.$store.interactive());\n  }\n  _seeking(time, event) {\n    this._media.remote.seeking(time, event);\n  }\n  _seek(time, percent, event) {\n    this._dispatchSeeking.cancel();\n    const { live } = this._media.$store;\n    if (live() && percent >= 99) {\n      this._media.remote.seekToLiveEdge(event);\n      return;\n    }\n    this._media.remote.seek(time, event);\n  }\n  _playingBeforeDragStart = false;\n  _onDragStart(event) {\n    const { pauseWhileDragging } = this.$props;\n    if (pauseWhileDragging()) {\n      const { paused } = this._media.$store;\n      this._playingBeforeDragStart = !paused();\n      this._media.remote.pause(event);\n    }\n  }\n  _onDragValueChange(event) {\n    this._dispatchSeeking(this._percentToTime(event.detail), event);\n  }\n  _onDragEnd(event) {\n    const percent = event.detail;\n    this._seek(this._percentToTime(percent), percent, event);\n    const { pauseWhileDragging } = this.$props;\n    if (pauseWhileDragging() && this._playingBeforeDragStart) {\n      this._media.remote.play(event);\n      this._playingBeforeDragStart = false;\n    }\n  }\n  _onValueChange(event) {\n    const { dragging } = this.$store;\n    if (dragging() || !event.trigger)\n      return;\n    this._onDragEnd(event);\n  }\n  // -------------------------------------------------------------------------------------------\n  // Props\n  // -------------------------------------------------------------------------------------------\n  _getStep() {\n    const value = this.$props.step() / this._media.$store.duration() * 100;\n    return Number.isFinite(value) ? value : 1;\n  }\n  _getKeyStep() {\n    const value = this.$props.keyStep() / this._media.$store.duration() * 100;\n    return Number.isFinite(value) ? value : 1;\n  }\n  _roundValue(value) {\n    return round(value, 3);\n  }\n  _isDisabled() {\n    const { canSeek } = this._media.$store;\n    return super._isDisabled() || !canSeek();\n  }\n  // -------------------------------------------------------------------------------------------\n  // ARIA\n  // -------------------------------------------------------------------------------------------\n  _getARIAValueMin() {\n    return 0;\n  }\n  _getARIAValueMax() {\n    return 100;\n  }\n  _getARIAValueText() {\n    const time = this._percentToTime(this.$store.value()), { duration } = this._media.$store;\n    return Number.isFinite(time) ? `${formatSpokenTime(time)} out of ${formatSpokenTime(duration())}` : \"live\";\n  }\n  // -------------------------------------------------------------------------------------------\n  // Format\n  // -------------------------------------------------------------------------------------------\n  _percentToTime(percent) {\n    const { duration } = this._media.$store;\n    return Math.round(percent / 100 * duration());\n  }\n  _timeToPercent(time) {\n    const { liveEdge, duration } = this._media.$store, rate = Math.max(0, Math.min(1, liveEdge() ? 1 : Math.min(time, duration()) / duration()));\n    return Number.isNaN(rate) ? 0 : Number.isFinite(rate) ? rate * 100 : 100;\n  }\n  _formatValue(percent) {\n    const time = this._percentToTime(percent), { live, duration } = this._media.$store;\n    return Number.isFinite(time) ? (live() ? time - duration() : time).toFixed(0) : \"LIVE\";\n  }\n  _formatTime(percent, padHours, padMinutes, showHours) {\n    const time = this._percentToTime(percent), { live, duration } = this._media.$store, value = live() ? time - duration() : time;\n    return Number.isFinite(time) ? `${value < 0 ? \"-\" : \"\"}${formatTime(\n      Math.abs(value),\n      padHours,\n      isNull(padMinutes) ? Math.abs(value) >= 3600 : padMinutes,\n      showHours\n    )}` : \"LIVE\";\n  }\n  // -------------------------------------------------------------------------------------------\n  // Chapters\n  // -------------------------------------------------------------------------------------------\n  _chapterTitleEl = null;\n  _chapterTitle = signal(\"\");\n  _onTrackModeChange() {\n    onTrackChapterChange(this._media.textTracks, peek(this._track), this._track.set);\n  }\n  _onTrackChange() {\n    this._track();\n    this._chapterTitleEl = this.el?.querySelector('[part=\"chapter-title\"]') ?? null;\n    if (!this._chapterTitleEl)\n      return;\n    effect(this._onChapterTitleChange.bind(this));\n    return () => {\n      this._chapterTitleEl.textContent = \"\";\n      this._chapterTitleEl = null;\n    };\n  }\n  _onChapterTitleChange() {\n    this._chapterTitleEl.textContent = this._chapterTitle();\n  }\n}\n\nconst menuContext = createContext();\n\nconst FOCUSABLE_ELEMENTS_SELECTOR = /* @__PURE__ */ [\n  \"a[href]\",\n  \"[tabindex]\",\n  \"input\",\n  \"select\",\n  \"button\"\n].map((selector) => `${selector}:not([aria-hidden])`).join(\",\");\nconst VALID_KEYS = /* @__PURE__ */ new Set([\n  \"Escape\",\n  \"Tab\",\n  \"ArrowUp\",\n  \"ArrowDown\",\n  \"Home\",\n  \"PageUp\",\n  \"End\",\n  \"PageDown\",\n  \"Enter\",\n  \" \"\n]);\nclass MenuFocusController {\n  constructor(_delegate) {\n    this._delegate = _delegate;\n  }\n  _index = 0;\n  _el = null;\n  _elements = [];\n  get _items() {\n    return this._elements;\n  }\n  _attach(el) {\n    listenEvent(el, \"focus\", this._onFocus.bind(this));\n    this._el = el;\n  }\n  _listen() {\n    if (!this._el)\n      return;\n    this._update();\n    listenEvent(this._el, \"keyup\", this._onKeyUp.bind(this));\n    listenEvent(this._el, \"keydown\", this._onKeyDown.bind(this));\n    onDispose(() => {\n      this._index = 0;\n      this._elements = [];\n    });\n  }\n  _update() {\n    this._index = 0;\n    this._elements = this._getFocusableElements();\n  }\n  _scroll(index = this._findActiveIndex()) {\n    const element = this._elements[index], container = this._delegate._getScrollContainer();\n    if (element && container) {\n      requestAnimationFrame(() => {\n        container.scrollTop = element.offsetTop - container.offsetHeight / 2 + element.offsetHeight / 2;\n      });\n    }\n  }\n  _focusAt(index) {\n    this._index = index;\n    this._elements[index]?.focus();\n    this._scroll(index);\n  }\n  _findActiveIndex() {\n    return this._elements.findIndex((el) => el.getAttribute(\"aria-checked\") === \"true\");\n  }\n  _onFocus() {\n    setTimeout(() => {\n      const index = this._findActiveIndex();\n      this._focusAt(index >= 0 ? index : 0);\n    }, 100);\n  }\n  _onKeyUp(event) {\n    if (!VALID_KEYS.has(event.key))\n      return;\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  _onKeyDown(event) {\n    if (!VALID_KEYS.has(event.key))\n      return;\n    event.stopPropagation();\n    event.preventDefault();\n    switch (event.key) {\n      case \"Escape\":\n        this._delegate._closeMenu(event);\n        break;\n      case \"Tab\":\n        this._focusAt(this._nextIndex(event.shiftKey ? -1 : 1));\n        break;\n      case \"ArrowUp\":\n        this._focusAt(this._nextIndex(-1));\n        break;\n      case \"ArrowDown\":\n        this._focusAt(this._nextIndex(1));\n        break;\n      case \"Home\":\n      case \"PageUp\":\n        this._focusAt(0);\n        break;\n      case \"End\":\n      case \"PageDown\":\n        this._focusAt(this._elements.length - 1);\n        break;\n    }\n  }\n  _nextIndex(delta) {\n    let index = this._index;\n    do {\n      index = (index + delta + this._elements.length) % this._elements.length;\n    } while (this._elements[index].offsetParent === null);\n    return index;\n  }\n  _getFocusableElements() {\n    if (!this._el)\n      return [];\n    const focusableElements = this._el.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR), elements = [];\n    const is = (node) => node.hasAttribute(\"data-media-menu-items\");\n    for (const el of focusableElements) {\n      if (el instanceof HTMLElement && el.offsetParent !== null && // does not have display: none\n      isElementParent(this._el, el, is)) {\n        elements.push(el);\n      }\n    }\n    return elements;\n  }\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __getOwnPropDesc$2 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$2 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$2(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$2(target, key, result);\n  return result;\n};\nlet idCount = 0;\nclass Menu extends Component {\n  static el = defineElement({\n    tagName: \"media-menu\",\n    props: { position: null }\n  });\n  _media;\n  _menuId;\n  _menuButtonId;\n  _expanded = signal(false);\n  _disabled = signal(false);\n  _buttonDisabled = signal(false);\n  _parentMenu;\n  _submenus = /* @__PURE__ */ new Set();\n  _menuButton = null;\n  _menuItems = null;\n  _menuObserver = null;\n  _focus;\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n    const currentIdCount = ++idCount;\n    this._menuId = `media-menu-${currentIdCount}`;\n    this._menuButtonId = `media-menu-button-${currentIdCount}`;\n    if (hasProvidedContext(menuContext)) {\n      this._parentMenu = useContext(menuContext);\n    }\n    this._focus = new MenuFocusController({\n      _getScrollContainer: this._findScrollContainer.bind(this),\n      _closeMenu: this.close.bind(this)\n    });\n    provideContext(menuContext, {\n      _expanded: this._expanded,\n      _hint: signal(\"\"),\n      _disable: this._disable.bind(this),\n      _attachMenuButton: this._attachMenuButton.bind(this),\n      _attachMenuItems: this._attachMenuItems.bind(this),\n      _attachObserver: this._attachObserver.bind(this),\n      _disableMenuButton: this._disableMenuButton.bind(this),\n      _addSubmenu: this._addSubmenu.bind(this)\n    });\n  }\n  onAttach(el) {\n    const { position } = this.$props;\n    this.setAttributes({\n      position,\n      \"data-open\": this._expanded,\n      \"data-submenu\": !!this._parentMenu,\n      \"data-disabled\": this._isDisabled.bind(this),\n      \"data-media-menu\": true\n    });\n  }\n  onConnect(el) {\n    if (!this._parentMenu) {\n      effect(this._watchBreakpoint.bind(this));\n    }\n    effect(this._watchExpanded.bind(this));\n    this._parentMenu?._addSubmenu(el);\n    requestAnimationFrame(() => this._onResize());\n  }\n  onDestroy() {\n    this._removePopupMenu();\n    this._menuButton = null;\n    this._menuItems = null;\n    this._menuObserver = null;\n  }\n  _removePopupMenu() {\n    if (!this._menuItems || this.el?.contains(this._menuItems))\n      return;\n    const menu = this._menuItems?.parentElement;\n    this.el.append(this._menuItems);\n    if (menu?.localName === \"media-menu\") {\n      menu.destroy();\n      menu.remove();\n    }\n  }\n  _watchBreakpoint() {\n    if (!this.el)\n      return;\n    const { breakpointX, breakpointY, viewType, orientation, fullscreen } = this._media.$store, popup = viewType() === \"audio\" ? breakpointX() === \"sm\" : breakpointY() === \"sm\";\n    if (!this._menuItems || this._parentMenu)\n      return;\n    setAttribute(this.el, \"data-popup\", popup);\n    setAttribute(this.el, \"data-popup-wide\", popup && orientation() === \"landscape\");\n    if (popup && !fullscreen()) {\n      if (this.el.contains?.(this._menuItems)) {\n        const menu = this.el.cloneNode();\n        menu.appendChild(this._menuItems);\n        requestAnimationFrame(() => {\n          if (!this.el)\n            return;\n          const mediaRing = \"--media-focus-ring\", mediaRingValue = getComputedStyle(this.el).getPropertyValue(mediaRing);\n          if (mediaRingValue)\n            setStyle(menu, mediaRing, mediaRingValue);\n        });\n        scoped(() => {\n          document.body.append(menu);\n        }, this._media.scope);\n      }\n    }\n    this._onResize();\n    return () => this._removePopupMenu();\n  }\n  _watchExpanded() {\n    const expanded = this._isExpanded();\n    this._onResize();\n    this._updateMenuItemsHidden(expanded);\n    if (!expanded)\n      return;\n    this._focus._listen();\n    const closeTarget = this._getCloseTarget();\n    if (closeTarget) {\n      onPress(closeTarget, this._onCloseTargetPress.bind(this));\n    }\n    this.listen(\"pointerup\", this._onPointerUp.bind(this));\n    listenEvent(window, \"pointerup\", this._onWindowPointerUp.bind(this));\n  }\n  _attachMenuButton(el) {\n    const isMenuItem = !!this._parentMenu, isExpanded = this._isExpanded.bind(this), isARIAExpanded = $ariaBool(isExpanded), isARIADisabled = $ariaBool(this._isDisabled.bind(this));\n    setAttributeIfEmpty(el, \"tabindex\", isMenuItem ? \"-1\" : \"0\");\n    setAttributeIfEmpty(el, \"role\", isMenuItem ? \"menuitem\" : \"button\");\n    setAttribute(el, \"id\", this._menuButtonId);\n    setAttribute(el, \"aria-controls\", this._menuId);\n    setAttribute(el, \"aria-haspopup\", \"true\");\n    effect(() => {\n      setAttribute(el, \"aria-disabled\", isARIADisabled());\n      setAttribute(el, \"aria-expanded\", isARIAExpanded());\n      if (!isMenuItem)\n        setAttribute(el, \"aria-pressed\", isARIAExpanded());\n      setAttribute(el, \"data-pressed\", isExpanded());\n    });\n    setAttribute(el, \"data-media-button\", !isMenuItem);\n    setAttribute(el, \"data-media-menu-button\", \"\");\n    onPress(el, this._onMenuButtonPress.bind(this));\n    this._menuButton = el;\n  }\n  _attachMenuItems(el) {\n    setAttributeIfEmpty(el, \"role\", \"menu\");\n    setAttributeIfEmpty(el, \"tabindex\", \"-1\");\n    setAttribute(el, \"id\", this._menuId);\n    setAttribute(el, \"aria-describedby\", this._menuButtonId);\n    setAttribute(el, \"data-media-menu-items\", \"\");\n    this._menuItems = el;\n    this._focus._attach(el);\n    this._watchBreakpoint();\n    this._updateMenuItemsHidden(peek(this._expanded));\n  }\n  _attachObserver(observer) {\n    this._menuObserver = observer;\n  }\n  _updateMenuItemsHidden(expanded) {\n    if (this._menuItems)\n      setAttribute(this._menuItems, \"aria-hidden\", ariaBool$1(!expanded));\n  }\n  _disableMenuButton(disabled) {\n    this._buttonDisabled.set(disabled);\n  }\n  _onMenuButtonPress(event) {\n    if (this._parentMenu)\n      event.stopPropagation();\n    if (this._isDisabled())\n      return;\n    this._expanded.set((expanded) => !expanded);\n    this._changeIdleTracking();\n    tick();\n    if (isKeyboardEvent(event)) {\n      this._menuItems?.focus();\n    }\n    this._onChange(event);\n  }\n  _onChange(trigger) {\n    const expanded = peek(this._expanded);\n    this.dispatch(expanded ? \"open\" : \"close\", { trigger });\n    if (expanded) {\n      if (!this._parentMenu) {\n        this._media.activeMenu?.close(trigger);\n        this._media.activeMenu = this;\n      }\n      this._menuObserver?._onOpen?.(trigger);\n    } else {\n      if (!this._parentMenu) {\n        setTimeout(() => {\n          for (const el of this._submenus)\n            el.close(trigger);\n        }, 300);\n        this._media.activeMenu = null;\n      }\n      this._menuObserver?._onClose?.(trigger);\n    }\n    if (expanded && !isKeyboardEvent(trigger)) {\n      requestAnimationFrame(() => {\n        this._focus._update();\n        setTimeout(() => {\n          this._focus._scroll();\n        }, 100);\n      });\n    }\n  }\n  _isExpanded() {\n    return !this._isDisabled() && this._expanded();\n  }\n  _isDisabled() {\n    return this._disabled() || this._buttonDisabled();\n  }\n  _disableBind = this._disable.bind(this);\n  _disable(disabled) {\n    this._disabled.set(disabled);\n  }\n  _onPointerUp(event) {\n    event.stopPropagation();\n  }\n  _onWindowPointerUp() {\n    if (this._parentMenu)\n      return setTimeout(this.close.bind(this), 800);\n    else\n      this.close();\n  }\n  _onCloseTargetPress(event) {\n    event.stopPropagation();\n    this.close(event);\n  }\n  _getCloseTarget() {\n    const target = this.el.querySelector('[slot=\"close-target\"]');\n    return isElementParent(this.el, target) ? target : null;\n  }\n  _findScrollContainer() {\n    if (!this._parentMenu) {\n      return this._menuItems;\n    } else {\n      let el = this.el;\n      while (el && el.tagName !== \"media-menu\" && el.hasAttribute(\"data-submenu\")) {\n        el = el.parentNode;\n      }\n      return el;\n    }\n  }\n  _changeIdleTracking(trigger) {\n    if (this._parentMenu)\n      return;\n    if (this._expanded())\n      this._media.remote.pauseUserIdle(trigger);\n    else\n      this._media.remote.resumeUserIdle(trigger);\n  }\n  _addSubmenu(el) {\n    this._submenus.add(el);\n    listenEvent(el, \"open\", this._onSubmenuOpenBind);\n    listenEvent(el, \"close\", this._onSubmenuCloseBind);\n    onDispose(this._removeSubmenuBind);\n  }\n  _removeSubmenuBind = this._removeSubmenu.bind(this);\n  _removeSubmenu(el) {\n    this._submenus.delete(el);\n  }\n  _onSubmenuOpenBind = this._onSubmenuOpen.bind(this);\n  _onSubmenuOpen(event) {\n    for (const el of this._submenus) {\n      if (el !== event.target)\n        el.setAttribute(\"aria-hidden\", \"true\");\n    }\n    this._onResize();\n  }\n  _onSubmenuCloseBind = this._onSubmenuClose.bind(this);\n  _onSubmenuClose() {\n    for (const el of this._submenus)\n      el.removeAttribute(\"aria-hidden\");\n    this._onResize();\n  }\n  _onResize() {\n    if (!this._menuItems || false)\n      return;\n    let style = getComputedStyle(this._menuItems), height = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom);\n    let children = [...this._menuItems.children];\n    if (children[0]?.localName === \"shadow-root\") {\n      children.push(...children[0].children);\n    }\n    for (const child of children) {\n      height += child.offsetHeight;\n    }\n    requestAnimationFrame(() => {\n      if (!this._menuItems)\n        return;\n      setAttribute(this._menuItems, \"data-resizing\", \"\");\n      setTimeout(() => {\n        if (!this._menuItems)\n          return;\n        setAttribute(this._menuItems, \"data-resizing\", false);\n      }, 250);\n      setStyle(this._menuItems, \"--menu-height\", height + \"px\");\n    });\n  }\n  open(trigger) {\n    if (peek(this._expanded))\n      return;\n    this._expanded.set(true);\n    tick();\n    this._onChange(trigger);\n    if (isKeyboardEvent(trigger)) {\n      this._menuItems?.focus();\n    }\n    this._changeIdleTracking(trigger);\n  }\n  close(trigger) {\n    if (!peek(this._expanded))\n      return;\n    this._expanded.set(false);\n    tick();\n    if (isKeyboardEvent(trigger)) {\n      requestAnimationFrame(() => {\n        this._menuButton?.focus();\n      });\n    }\n    this._onChange(trigger);\n    this._changeIdleTracking(trigger);\n  }\n}\n__decorateClass$2([\n  method\n], Menu.prototype, \"open\", 1);\n__decorateClass$2([\n  method\n], Menu.prototype, \"close\", 1);\n\nclass MenuButton extends Component {\n  static el = defineElement({\n    tagName: \"media-menu-button\",\n    props: { disabled: false }\n  });\n  _menu;\n  constructor(instance) {\n    super(instance);\n    this._menu = useContext(menuContext);\n    new FocusVisibleController(instance);\n    new TooltipController(instance);\n  }\n  onAttach(el) {\n    this._menu._attachMenuButton(el);\n    effect(this._watchDisabled.bind(this));\n  }\n  onConnect(el) {\n    const hint = Array.from(el.querySelectorAll('[slot=\"hint\"]')).pop();\n    if (hint) {\n      effect(() => {\n        const text = this._menu._hint();\n        if (text)\n          hint.textContent = text;\n      });\n    }\n  }\n  _watchDisabled() {\n    this._menu._disableMenuButton(this.$props.disabled());\n  }\n}\n\nclass MenuItems extends Component {\n  static el = defineElement({\n    tagName: \"media-menu-items\"\n  });\n  _menu;\n  constructor(instance) {\n    super(instance);\n    this._menu = useContext(menuContext);\n    new FocusVisibleController(instance);\n  }\n  onAttach(el) {\n    this._menu._attachMenuItems(el);\n  }\n}\n\nconst radioGroupContext = createContext();\n\nvar __defProp$1 = Object.defineProperty;\nvar __getOwnPropDesc$1 = Object.getOwnPropertyDescriptor;\nvar __decorateClass$1 = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc$1(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp$1(target, key, result);\n  return result;\n};\nclass RadioGroup extends Component {\n  static el = defineElement({\n    tagName: \"media-radio-group\",\n    props: { value: \"\" }\n  });\n  _group = /* @__PURE__ */ new Set();\n  _value = signal(\"\");\n  get values() {\n    return Array.from(this._group).map((radio) => radio._value());\n  }\n  get value() {\n    return this._value();\n  }\n  set value(value) {\n    this._onChange(value);\n  }\n  constructor(instance) {\n    super(instance);\n    provideContext(radioGroupContext, {\n      add: this._addRadio.bind(this),\n      remove: this._removeRadio.bind(this)\n    });\n  }\n  onAttach(el) {\n    const isMenuItem = hasProvidedContext(menuContext);\n    if (!isMenuItem)\n      setAttributeIfEmpty(el, \"role\", \"radiogroup\");\n    this._watchValueProp();\n    this.setAttributes({ value: this._value });\n  }\n  onConnect() {\n    effect(this._watchValueProp.bind(this));\n  }\n  onDestroy() {\n    this._group.clear();\n  }\n  _addRadio(radio) {\n    if (this._group.has(radio))\n      return;\n    this._group.add(radio);\n    radio._onCheck = this._onChangeBind;\n    radio._check(radio._value() === this._value());\n  }\n  _removeRadio(radio) {\n    radio._onCheck = null;\n    this._group.delete(radio);\n  }\n  _watchValueProp() {\n    this._onChange(this.$props.value());\n  }\n  _onChangeBind = this._onChange.bind(this);\n  _onChange(newValue, trigger) {\n    const currentValue = peek(this._value);\n    if (!newValue || newValue === currentValue)\n      return;\n    const currentRadio = this._findRadio(currentValue), newRadio = this._findRadio(newValue);\n    currentRadio?._check(false, trigger);\n    newRadio?._check(true, trigger);\n    this._value.set(newValue);\n    this.dispatch(\"change\", { trigger });\n  }\n  _findRadio(newValue) {\n    for (const radio of this._group) {\n      if (newValue === peek(radio._value))\n        return radio;\n    }\n    return null;\n  }\n}\n__decorateClass$1([\n  prop\n], RadioGroup.prototype, \"values\", 1);\n__decorateClass$1([\n  prop\n], RadioGroup.prototype, \"value\", 1);\n\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nconst $$_templ$b = /* @__PURE__ */ $$_create_template(`<!$><div part=\"check\"></div>`);\nclass Radio extends Component {\n  static el = defineElement({\n    tagName: \"media-radio\",\n    props: { value: \"\" }\n  });\n  _checked = signal(false);\n  _controller = {\n    _value: this.$props.value,\n    _check: this._check.bind(this),\n    _onCheck: null\n  };\n  get checked() {\n    return this._checked();\n  }\n  constructor(instance) {\n    super(instance);\n    new FocusVisibleController(instance);\n  }\n  onAttach() {\n    effect(this._watchValue.bind(this));\n    this._addToGroup();\n    const isMenuItem = hasProvidedContext(menuContext);\n    this.setAttributes({\n      value: this.$props.value,\n      role: isMenuItem ? \"menuitemradio\" : \"radio\",\n      tabindex: isMenuItem ? -1 : 0,\n      \"aria-checked\": $ariaBool(this._checked)\n    });\n  }\n  onConnect(el) {\n    this._addToGroup();\n    onPress(el, this._onPress.bind(this));\n  }\n  onDisconnect() {\n    const group = useContext(radioGroupContext);\n    group.remove(this._controller);\n  }\n  _addToGroup() {\n    const group = useContext(radioGroupContext);\n    group.add(this._controller);\n  }\n  _watchValue() {\n    const { value } = this.$props, newValue = value();\n    if (peek(this._checked)) {\n      this._controller._onCheck?.(newValue);\n    }\n  }\n  _onPress(event) {\n    if (peek(this._checked))\n      return;\n    this._checked.set(true);\n    this.dispatch(\"change\", { trigger: event });\n    this._controller._onCheck?.(peek(this.$props.value), event);\n  }\n  _check(value, trigger) {\n    if (peek(this._checked) === value)\n      return;\n    this._checked.set(value);\n    this.dispatch(\"change\", { trigger });\n  }\n  render() {\n    return $$_next_template($$_templ$b);\n  }\n}\n__decorateClass([\n  prop\n], Radio.prototype, \"checked\", 1);\n\nconst $$_templ$a = /* @__PURE__ */ $$_create_template(`<!$><media-radio-group mk-d><!$></media-radio-group>`), $$_templ_2$4 = /* @__PURE__ */ $$_create_template(`<!$><media-radio mk-d><!$></media-radio>`);\nfunction renderRadioGroup(props) {\n  const { value, onChange, radioGroupClass } = props;\n  return (() => {\n    const [$$_root, $$_walker] = $$_create_walker($$_templ$a), $$_expr = $$_walker.nextNode();\n    $$_effect(() => $$_attr($$_root, \"class\", radioGroupClass()));\n    $$_listen($$_root, \"change\", onChange);\n    $$_scoped(() => {\n      $$_insert_at_marker_lite($$_expr, () => renderOptions(props));\n    }, $$_setup_custom_element($$_root, { value }));\n    return $$_root;\n  })();\n}\nfunction renderOptions(props) {\n  const { options } = props;\n  return options().map((option) => {\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ_2$4), $$_expr = $$_walker.nextNode();\n      $$_attr($$_root, \"part\", props.part);\n      $$_scoped(() => {\n        $$_insert_at_marker_lite($$_expr, option.content);\n      }, $$_setup_custom_element($$_root, { value: option.value }));\n      return $$_root;\n    })();\n  });\n}\n\nconst $$_templ$9 = /* @__PURE__ */ $$_create_template(`<!$><media-thumbnail part=\"thumbnail\" mk-d></media-thumbnail>`), $$_templ_2$3 = /* @__PURE__ */ $$_create_template(`<!$><div part=\"content\"><div part=\"title\"><!$></div><div part=\"start-time\"><!$></div><div part=\"duration\"><!$></div></div>`);\nclass ChaptersMenuItems extends MenuItems {\n  static el = defineElement({\n    tagName: \"media-chapters-menu-items\",\n    props: {\n      containerClass: null,\n      chapterClass: null,\n      thumbnailClass: null,\n      contentClass: null,\n      titleClass: null,\n      startTimeClass: null,\n      durationClass: null\n    }\n  });\n  static register = [Thumbnail, RadioGroup, Radio];\n  _media;\n  _index = signal(0);\n  _track = signal(null);\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n  }\n  onAttach(el) {\n    super.onAttach(el);\n    this._menu._attachObserver({\n      _onOpen: this._onOpen.bind(this)\n    });\n    this.setAttributes({\n      \"data-thumbnails\": this._hasThumbnails.bind(this)\n    });\n  }\n  _onOpen() {\n    peek(() => this._watchCurrentTime());\n  }\n  onConnect(el) {\n    effect(this._watchCurrentTime.bind(this));\n    effect(this._watchControllerDisabled.bind(this));\n    this._onTrackModeChange();\n    listenEvent(this._media.textTracks, \"mode-change\", this._onTrackModeChange.bind(this));\n    const {\n      chapterClass,\n      thumbnailClass,\n      contentClass,\n      titleClass,\n      startTimeClass,\n      durationClass\n    } = this.$props;\n    new ClassManager(el)._observe('[part=\"chapter\"]', chapterClass)._observe('[part=\"thumbnail\"]', thumbnailClass)._observe('[part=\"content\"]', contentClass)._observe('[part=\"title\"]', titleClass)._observe('[part=\"start-time\"]', startTimeClass)._observe('[part=\"duration\"]', durationClass);\n  }\n  _hasThumbnails() {\n    const { thumbnailCues } = this._media.$store;\n    return thumbnailCues().length > 0;\n  }\n  _watchCurrentTime() {\n    if (!this._menu._expanded())\n      return;\n    const track = this._track();\n    if (!track) {\n      this._index.set(-1);\n      return;\n    }\n    const { currentTime } = this._media.$store, time = currentTime(), activeCueIndex = track.cues.findIndex((cue) => isCueActive(cue, time));\n    this._index.set(activeCueIndex);\n    if (activeCueIndex >= 0) {\n      const cue = track.cues[activeCueIndex], radio = this.el.querySelector(`shadow-root media-radio[aria-checked='true']`), playedPercent = (time - cue.startTime) / (cue.endTime - cue.startTime) * 100;\n      radio && setStyle(radio, \"--played-percent\", round(playedPercent, 3) + \"%\");\n    }\n  }\n  _watchControllerDisabled() {\n    this._menu._disable(this._isDisabled());\n  }\n  _isDisabled() {\n    const track = this._track();\n    return !track || !track.cues.length;\n  }\n  _onChange(event) {\n    if (this._isDisabled() || !event.trigger)\n      return;\n    const index = +event.target.value, cues = this._track()?.cues;\n    if (isNumber(index) && cues?.[index]) {\n      this._index.set(index);\n      this._media.remote.seek(cues[index].startTime, event);\n    }\n  }\n  _onTrackModeChange() {\n    onTrackChapterChange(this._media.textTracks, peek(this._track), this._track.set);\n  }\n  _getValue() {\n    return this._index() + \"\";\n  }\n  _getOptions() {\n    const track = this._track();\n    if (!track)\n      return [];\n    return track.cues.map((cue, i) => ({\n      value: i + \"\",\n      content: () => [\n        (() => {\n          const $$_signal = $$_computed(\n            () => this._hasThumbnails() && (() => {\n              const [$$_root, $$_walker] = $$_create_walker($$_templ$9);\n              $$_setup_custom_element($$_root, { time: cue.startTime });\n              return $$_root;\n            })()\n          );\n          $$_signal();\n          return $$_signal;\n        })(),\n        (() => {\n          const [$$_root, $$_walker] = $$_create_walker($$_templ_2$3), $$_expr = $$_walker.nextNode(), $$_expr_2 = $$_walker.nextNode(), $$_expr_3 = $$_walker.nextNode();\n          $$_insert_at_marker_lite($$_expr, cue.text);\n          $$_insert_at_marker_lite($$_expr_2, () => formatTime(cue.startTime, false, cue.startTime >= 3600));\n          $$_insert_at_marker_lite($$_expr_3, () => formatSpokenTime(cue.endTime - cue.startTime));\n          return $$_root;\n        })()\n      ]\n    }));\n  }\n  render() {\n    const { containerClass } = this.$props;\n    return renderRadioGroup({\n      part: \"chapter\",\n      value: this._getValue.bind(this),\n      options: this._getOptions.bind(this),\n      radioGroupClass: containerClass,\n      onChange: this._onChange.bind(this)\n    });\n  }\n}\n\nconst $$_templ$8 = /* @__PURE__ */ $$_create_template(`<!$><span part=\"label\"><!$></span>`);\nclass AudioMenuItems extends MenuItems {\n  static el = defineElement({\n    tagName: \"media-audio-menu-items\",\n    props: {\n      emptyLabel: \"Default\",\n      radioClass: null,\n      radioGroupClass: null,\n      radioCheckClass: null\n    }\n  });\n  static register = [RadioGroup, Radio];\n  _media;\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n  }\n  onConnect(el) {\n    effect(this._watchControllerDisabled.bind(this));\n    effect(this._watchHintText.bind(this));\n    const { radioClass, radioCheckClass } = this.$props;\n    new ClassManager(el)._observe(\"media-radio\", radioClass)._observe('[part=\"check\"]', radioCheckClass);\n  }\n  _watchHintText() {\n    const { emptyLabel } = this.$props, { audioTrack } = this._media.$store, track = audioTrack();\n    this._menu._hint.set(track?.label ?? emptyLabel());\n  }\n  _watchControllerDisabled() {\n    this._menu._disable(this._isDisabled());\n  }\n  _isDisabled() {\n    const { audioTracks } = this._media.$store;\n    return audioTracks().length === 0;\n  }\n  _onChange(event) {\n    if (this._isDisabled())\n      return;\n    const radioGroup = event.target;\n    const value = radioGroup.value, index = this._media.audioTracks.toArray().findIndex((track) => track.label.toLowerCase() === value);\n    if (index >= 0)\n      this._media.remote.changeAudioTrack(index, event);\n  }\n  _getValue() {\n    const { audioTrack } = this._media.$store;\n    const track = audioTrack();\n    return track ? track.label.toLowerCase() : \"\";\n  }\n  _getOptions() {\n    const { audioTracks } = this._media.$store;\n    return audioTracks().map((track) => ({\n      value: track.label.toLowerCase(),\n      content: () => (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ$8), $$_expr = $$_walker.nextNode();\n        $$_insert_at_marker_lite($$_expr, track.label);\n        return $$_root;\n      })()\n    }));\n  }\n  render() {\n    const { radioGroupClass } = this.$props;\n    return renderRadioGroup({\n      value: this._getValue.bind(this),\n      options: this._getOptions.bind(this),\n      radioGroupClass,\n      onChange: this._onChange.bind(this)\n    });\n  }\n}\n\nvar Icon$51 = `<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M26.6667 5.99998C26.6667 5.63179 26.3682 5.33331 26 5.33331H11.3333C10.9651 5.33331 10.6667 5.63179 10.6667 5.99998V17.5714C10.6667 17.6694 10.5644 17.7342 10.4741 17.6962C9.91823 17.4625 9.30754 17.3333 8.66667 17.3333C6.08934 17.3333 4 19.4226 4 22C4 24.5773 6.08934 26.6666 8.66667 26.6666C11.244 26.6666 13.3333 24.5773 13.3333 22V8.66665C13.3333 8.29846 13.6318 7.99998 14 7.99998L23.3333 7.99998C23.7015 7.99998 24 8.29846 24 8.66665V14.9048C24 15.0027 23.8978 15.0675 23.8075 15.0296C23.2516 14.7958 22.6409 14.6666 22 14.6666C19.4227 14.6666 17.3333 16.756 17.3333 19.3333C17.3333 21.9106 19.4227 24 22 24C24.5773 24 26.6667 21.9106 26.6667 19.3333V5.99998ZM22 21.3333C23.1046 21.3333 24 20.4379 24 19.3333C24 18.2287 23.1046 17.3333 22 17.3333C20.8954 17.3333 20 18.2287 20 19.3333C20 20.4379 20.8954 21.3333 22 21.3333ZM8.66667 24C9.77124 24 10.6667 23.1045 10.6667 22C10.6667 20.8954 9.77124 20 8.66667 20C7.5621 20 6.66667 20.8954 6.66667 22C6.66667 23.1045 7.5621 24 8.66667 24Z\" fill=\"currentColor\"/>`;\n\nvar Icon$10 = `<path d=\"M13.0908 14.3334C12.972 14.3334 12.9125 14.1898 12.9965 14.1058L17.7021 9.40022C17.9625 9.13987 17.9625 8.71776 17.7021 8.45741L16.2879 7.04319C16.0275 6.78284 15.6054 6.78284 15.3451 7.04319L6.8598 15.5285C6.59945 15.7888 6.59945 16.2109 6.8598 16.4713L8.27401 17.8855L8.27536 17.8868L15.3453 24.9568C15.6057 25.2172 16.0278 25.2172 16.2881 24.9568L17.7024 23.5426C17.9627 23.2822 17.9627 22.8601 17.7024 22.5998L12.9969 17.8944C12.9129 17.8104 12.9724 17.6668 13.0912 17.6668L26 17.6668C26.3682 17.6668 26.6667 17.3683 26.6667 17.0001V15.0001C26.6667 14.6319 26.3682 14.3334 26 14.3334L13.0908 14.3334Z\" fill=\"currentColor\"/>`;\n\nvar Icon$18 = `<path d=\"M15.905 17.4809C15.9571 17.533 16.0415 17.533 16.0936 17.4809L22.4111 11.1635C22.6714 10.9031 23.0935 10.9031 23.3539 11.1635L24.9567 12.7662C25.217 13.0266 25.217 13.4487 24.9567 13.709L18.1028 20.5629C18.0937 20.5732 18.0842 20.5833 18.0744 20.5931L16.4716 22.1959C16.2113 22.4562 15.7892 22.4562 15.5288 22.1959L7.04353 13.7106C6.78318 13.4503 6.78318 13.0281 7.04353 12.7678L8.6463 11.165C8.90665 10.9047 9.32876 10.9047 9.58911 11.165L15.905 17.4809Z\" fill=\"currentColor\"/>`;\n\nconst $$_templ$7 = /* @__PURE__ */ $$_create_template(`<!$><span slot=\"label\"><!$></span>`), $$_templ_2$2 = /* @__PURE__ */ $$_create_template(`<!$><div slot=\"hint\"></div>`);\nfunction renderMenuButtonContent({ label, iconPaths }) {\n  return [\n    $$_create_component(Icon, { slot: \"close-icon\", paths: Icon$10 }),\n    $$_create_component(Icon, { slot: \"icon\", paths: iconPaths }),\n    (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ$7), $$_expr = $$_walker.nextNode();\n      $$_insert_at_marker_lite($$_expr, label);\n      return $$_root;\n    })(),\n    $$_next_template($$_templ_2$2),\n    $$_create_component(Icon, { slot: \"open-icon\", paths: Icon$18 })\n  ];\n}\n\nclass AudioMenuButton extends MenuButton {\n  static el = defineElement({\n    tagName: \"media-audio-menu-button\",\n    props: { disabled: false, label: \"Audio\" }\n  });\n  render() {\n    const { label } = this.$props;\n    return renderMenuButtonContent({\n      label,\n      iconPaths: Icon$51\n    });\n  }\n}\n\nconst $$_templ$6 = /* @__PURE__ */ $$_create_template(`<!$><span part=\"label\"><!$></span>`), $$_templ_2$1 = $$_templ$6;\nclass CaptionsMenuItems extends MenuItems {\n  static el = defineElement({\n    tagName: \"media-captions-menu-items\",\n    props: {\n      offLabel: \"Off\",\n      radioClass: null,\n      radioGroupClass: null,\n      radioCheckClass: null\n    }\n  });\n  static register = [RadioGroup, Radio];\n  _media;\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n  }\n  onConnect(el) {\n    effect(this._watchControllerDisabled.bind(this));\n    effect(this._watchHintText.bind(this));\n    const { radioClass, radioCheckClass } = this.$props;\n    new ClassManager(el)._observe(\"media-radio\", radioClass)._observe('[part=\"check\"]', radioCheckClass);\n  }\n  _watchHintText() {\n    const { offLabel } = this.$props, { textTrack } = this._media.$store, track = textTrack();\n    this._menu._hint.set(\n      track && isTrackCaptionKind(track) && track.mode === \"showing\" ? track.label : offLabel()\n    );\n  }\n  _watchControllerDisabled() {\n    this._menu._disable(this._isDisabled());\n  }\n  _isDisabled() {\n    const { textTracks } = this._media.$store;\n    return textTracks().filter(isTrackCaptionKind).length === 0;\n  }\n  _onChange(event) {\n    if (this._isDisabled())\n      return;\n    const radioGroup = event.target;\n    const value = radioGroup.value;\n    if (value === \"off\") {\n      const track = this._media.textTracks.selected;\n      if (track) {\n        const index2 = this._media.textTracks.toArray().indexOf(track);\n        this._media.remote.changeTextTrackMode(index2, \"disabled\", event);\n      }\n      return;\n    }\n    const index = this._media.textTracks.toArray().findIndex((track) => track.label.toLowerCase() === value);\n    if (index >= 0)\n      this._media.remote.changeTextTrackMode(index, \"showing\", event);\n  }\n  _getValue() {\n    const { textTrack, textTracks } = this._media.$store, track = textTrack();\n    return track && isTrackCaptionKind(track) && track.mode === \"showing\" ? track.label.toLowerCase() : \"off\";\n  }\n  _getOptions() {\n    const { offLabel } = this.$props, { textTracks } = this._media.$store;\n    return [\n      { value: \"off\", content: () => (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ$6), $$_expr = $$_walker.nextNode();\n        $$_insert_at_marker_lite($$_expr, offLabel);\n        return $$_root;\n      })() },\n      ...textTracks().filter(isTrackCaptionKind).map((track) => ({\n        value: track.label.toLowerCase(),\n        content: () => (() => {\n          const [$$_root, $$_walker] = $$_create_walker($$_templ_2$1), $$_expr = $$_walker.nextNode();\n          $$_insert_at_marker_lite($$_expr, track.label);\n          return $$_root;\n        })()\n      }))\n    ];\n  }\n  render() {\n    const { radioGroupClass } = this.$props;\n    return renderRadioGroup({\n      value: this._getValue.bind(this),\n      options: this._getOptions.bind(this),\n      radioGroupClass,\n      onChange: this._onChange.bind(this)\n    });\n  }\n}\n\nclass CaptionsMenuButton extends MenuButton {\n  static el = defineElement({\n    tagName: \"media-captions-menu-button\",\n    props: { disabled: false, label: \"Captions\" }\n  });\n  render() {\n    const { label } = this.$props;\n    return renderMenuButtonContent({\n      label,\n      iconPaths: Icon$25\n    });\n  }\n}\n\nconst $$_templ$5 = /* @__PURE__ */ $$_create_template(`<!$><span part=\"label\"><!$></span>`);\nclass PlaybackRateMenuItems extends MenuItems {\n  static el = defineElement({\n    tagName: \"media-playback-rate-menu-items\",\n    props: {\n      normalLabel: \"Normal\",\n      rates: [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2],\n      radioGroupClass: null,\n      radioClass: null,\n      radioCheckClass: null\n    }\n  });\n  static register = [RadioGroup, Radio];\n  _media;\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n  }\n  onConnect(el) {\n    effect(this._watchHintText.bind(this));\n    const { radioClass, radioCheckClass } = this.$props;\n    new ClassManager(el)._observe(\"media-radio\", radioClass)._observe('[part=\"check\"]', radioCheckClass);\n  }\n  _watchHintText() {\n    const { normalLabel } = this.$props, { playbackRate } = this._media.$store, rate = playbackRate();\n    this._menu._hint.set(rate === 1 ? normalLabel() : rate + \"\\xD7\");\n  }\n  _onChange(event) {\n    const radioGroup = event.target;\n    this._media.remote.changePlaybackRate(+radioGroup.value, event);\n  }\n  _getValue() {\n    const { playbackRate } = this._media.$store;\n    return playbackRate() + \"\";\n  }\n  _getOptions() {\n    const { rates, normalLabel } = this.$props;\n    return rates().map((rate) => ({\n      value: rate + \"\",\n      content: () => (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ$5), $$_expr = $$_walker.nextNode();\n        $$_insert_at_marker_lite($$_expr, () => rate === 1 ? normalLabel() : rate + \"\\xD7\");\n        return $$_root;\n      })()\n    }));\n  }\n  render() {\n    const { radioGroupClass } = this.$props;\n    return renderRadioGroup({\n      value: this._getValue.bind(this),\n      options: this._getOptions.bind(this),\n      radioGroupClass,\n      onChange: this._onChange.bind(this)\n    });\n  }\n}\n\nvar Icon$55 = `<path d=\"M25.14 25.1089C25.0171 25.2532 24.8356 25.3333 24.646 25.3333H22.8124C22.1084 25.3333 21.7734 24.1872 22.2745 23.6927C23.9161 22.0729 24.9336 19.822 24.9336 17.3333C24.9336 12.3997 20.9336 8.39973 16 8.39973C11.0664 8.39973 7.06641 12.3997 7.06641 17.3333C7.06641 19.822 8.08389 22.0729 9.72555 23.6927C10.2266 24.1872 9.89155 25.3333 9.18762 25.3333H7.35398C7.16436 25.3333 6.98294 25.2532 6.86001 25.1089C5.07703 23.015 4 20.2991 4 17.3333C4 10.7057 9.3724 5.33333 16 5.33333C22.6276 5.33333 28 10.7057 28 17.3333C28 20.2991 26.923 23.015 25.14 25.1089Z\" fill=\"currentColor\"/> <path d=\"M21.1992 14.3399C21.4595 14.0796 21.4595 13.6575 21.1992 13.3971L20.2564 12.4543C19.996 12.194 19.5739 12.194 19.3136 12.4543L16.4492 15.3187C16.4185 15.3493 16.3749 15.3629 16.332 15.3568C16.2236 15.3414 16.1127 15.3334 16 15.3334C14.7113 15.3334 13.6667 16.378 13.6667 17.6667C13.6667 18.9554 14.7113 20 16 20C17.2887 20 18.3333 18.9554 18.3333 17.6667C18.3333 17.5464 18.3242 17.4283 18.3067 17.313C18.3001 17.2696 18.3136 17.2255 18.3446 17.1945L21.1992 14.3399Z\" fill=\"currentColor\"/>`;\n\nclass PlaybackRateMenuButton extends MenuButton {\n  static el = defineElement({\n    tagName: \"media-playback-rate-menu-button\",\n    props: { disabled: false, label: \"Speed\" }\n  });\n  render() {\n    const { label } = this.$props;\n    return renderMenuButtonContent({\n      label,\n      iconPaths: Icon$55\n    });\n  }\n}\n\nconst $$_templ$4 = /* @__PURE__ */ $$_create_template(`<!$><span><!$></span>`), $$_templ_2 = /* @__PURE__ */ $$_create_template(`<!$><span part=\"label\"><!$></span>`), $$_templ_3 = /* @__PURE__ */ $$_create_template(`<!$><span part=\"info\"><!$></span>`);\nclass QualityMenuItems extends MenuItems {\n  static el = defineElement({\n    tagName: \"media-quality-menu-items\",\n    props: {\n      autoLabel: \"Auto\",\n      hideBitrate: false,\n      radioGroupClass: null,\n      radioClass: null,\n      radioCheckClass: null\n    }\n  });\n  static register = [RadioGroup, Radio];\n  _media;\n  _sortedQualities = computed(() => {\n    const { qualities } = this._media.$store;\n    return [...qualities()].sort(\n      (a, b) => b.height === a.height ? b.bitrate - a.bitrate : b.height - a.height\n    );\n  });\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n  }\n  onConnect(el) {\n    effect(this._watchControllerDisabled.bind(this));\n    effect(this._watchHintText.bind(this));\n    const { radioClass, radioCheckClass } = this.$props;\n    new ClassManager(el)._observe(\"media-radio\", radioClass)._observe('[part=\"check\"]', radioCheckClass);\n  }\n  _watchHintText() {\n    const { autoLabel } = this.$props, { autoQuality, quality } = this._media.$store, qualityText = quality() ? quality().height + \"p\" : \"\";\n    this._menu._hint.set(!autoQuality() ? qualityText : autoLabel() + ` (${qualityText})`);\n  }\n  _watchControllerDisabled() {\n    const { qualities } = this._media.$store;\n    this._menu._disable(qualities().length === 0);\n  }\n  _isDisabled() {\n    const { canSetQuality, qualities } = this._media.$store;\n    return !canSetQuality() || qualities().length === 0;\n  }\n  _onChange(event) {\n    if (this._isDisabled())\n      return;\n    const radioGroup = event.target, value = radioGroup.value;\n    if (value === \"auto\") {\n      this._media.remote.changeQuality(-1, event);\n      return;\n    }\n    const { qualities } = this._media.$store, index = peek(qualities).findIndex((quality) => this._getQualityId(quality) === value);\n    if (index >= 0)\n      this._media.remote.changeQuality(index, event);\n  }\n  _getValue() {\n    const { quality, autoQuality } = this._media.$store;\n    if (autoQuality())\n      return \"auto\";\n    const currentQuality = quality();\n    return currentQuality ? this._getQualityId(currentQuality) : \"auto\";\n  }\n  _getQualityId(quality) {\n    return quality.height + \"_\" + quality.bitrate;\n  }\n  _getOptions() {\n    const { autoLabel, hideBitrate } = this.$props;\n    return [\n      { value: \"auto\", content: () => (() => {\n        const [$$_root, $$_walker] = $$_create_walker($$_templ$4), $$_expr = $$_walker.nextNode();\n        $$_insert_at_marker_lite($$_expr, autoLabel);\n        return $$_root;\n      })() },\n      ...this._sortedQualities().map((quality) => {\n        const rate = `${round(quality.bitrate / 1e6, 2)} Mbps`;\n        return {\n          value: this._getQualityId(quality),\n          content: () => [\n            (() => {\n              const [$$_root, $$_walker] = $$_create_walker($$_templ_2), $$_expr = $$_walker.nextNode();\n              $$_insert_at_marker_lite($$_expr, quality.height + \"p\");\n              return $$_root;\n            })(),\n            (() => {\n              const $$_signal = $$_computed(\n                () => !hideBitrate() && (() => {\n                  const [$$_root, $$_walker] = $$_create_walker($$_templ_3), $$_expr = $$_walker.nextNode();\n                  $$_insert_at_marker_lite($$_expr, rate);\n                  return $$_root;\n                })()\n              );\n              $$_signal();\n              return $$_signal;\n            })()\n          ]\n        };\n      })\n    ];\n  }\n  render() {\n    const { radioGroupClass } = this.$props;\n    return renderRadioGroup({\n      value: this._getValue.bind(this),\n      options: this._getOptions.bind(this),\n      radioGroupClass,\n      onChange: this._onChange.bind(this)\n    });\n  }\n}\n\nvar Icon$83 = `<path d=\"M18.6669 10.4001C18.6669 10.7683 18.3684 11.0667 18.0002 11.0667H16.2668C15.8987 11.0667 15.6002 10.7683 15.6002 10.4001V9.86674C15.6002 9.7931 15.5405 9.73341 15.4669 9.73341H5.99998C5.63179 9.73341 5.33331 9.43493 5.33331 9.06674V7.33341C5.33331 6.96522 5.63179 6.66674 5.99998 6.66674H15.4669C15.5405 6.66674 15.6002 6.60704 15.6002 6.53341V6.00007C15.6002 5.63188 15.8987 5.3334 16.2668 5.3334H18.0002C18.3684 5.3334 18.6669 5.63188 18.6669 6.00007V10.4001Z\" fill=\"currentColor\"/> <path d=\"M11.3334 18.8668C11.7016 18.8668 12.0001 18.5683 12.0001 18.2001V13.8001C12.0001 13.4319 11.7016 13.1335 11.3334 13.1335H9.60006C9.23187 13.1335 8.93339 13.4319 8.93339 13.8001V14.3335C8.93339 14.4071 8.8737 14.4668 8.80006 14.4668H6.00006C5.63187 14.4668 5.33339 14.7653 5.33339 15.1335V16.8668C5.33339 17.235 5.63187 17.5335 6.00006 17.5335H8.80006C8.8737 17.5335 8.93339 17.5932 8.93339 17.6668V18.2001C8.93339 18.5683 9.23187 18.8668 9.60006 18.8668H11.3334Z\" fill=\"currentColor\"/> <path d=\"M18.6667 26.0001C18.6667 26.3683 18.3682 26.6668 18 26.6668H16.2667C15.8985 26.6668 15.6 26.3683 15.6 26.0001V25.4668C15.6 25.3931 15.5403 25.3334 15.4667 25.3334H6.00014C5.63195 25.3334 5.33348 25.0349 5.33348 24.6668V22.9334C5.33348 22.5652 5.63195 22.2668 6.00014 22.2668H15.4667C15.5403 22.2668 15.6 22.2071 15.6 22.1334V21.6001C15.6 21.2319 15.8985 20.9334 16.2667 20.9334H18C18.3682 20.9334 18.6667 21.2319 18.6667 21.6001V26.0001Z\" fill=\"currentColor\"/> <path d=\"M22 24.6668C22 25.0349 22.2985 25.3334 22.6667 25.3334H26.0001C26.3683 25.3334 26.6668 25.0349 26.6668 24.6668V22.9334C26.6668 22.5652 26.3683 22.2668 26.0001 22.2668H22.6667C22.2985 22.2668 22 22.5652 22 22.9334V24.6668Z\" fill=\"currentColor\"/> <path d=\"M16.0001 17.5335C15.6319 17.5335 15.3334 17.235 15.3334 16.8668V15.1335C15.3334 14.7653 15.6319 14.4668 16.0001 14.4668H26.0001C26.3683 14.4668 26.6667 14.7653 26.6667 15.1335V16.8668C26.6667 17.235 26.3683 17.5335 26.0001 17.5335H16.0001Z\" fill=\"currentColor\"/> <path d=\"M22.0002 9.06674C22.0002 9.43493 22.2987 9.73341 22.6669 9.73341H26C26.3682 9.73341 26.6666 9.43493 26.6666 9.06674V7.3334C26.6666 6.96521 26.3682 6.66674 26 6.66674H22.6669C22.2987 6.66674 22.0002 6.96522 22.0002 7.33341V9.06674Z\" fill=\"currentColor\"/>`;\n\nclass QualityMenuButton extends MenuButton {\n  static el = defineElement({\n    tagName: \"media-quality-menu-button\",\n    props: { disabled: false, label: \"Quality\" }\n  });\n  render() {\n    const { label } = this.$props;\n    return renderMenuButtonContent({\n      label,\n      iconPaths: Icon$83\n    });\n  }\n}\n\nclass Gesture extends Component {\n  static el = defineElement({\n    tagName: \"media-gesture\",\n    props: {\n      event: void 0,\n      action: void 0\n    }\n  });\n  _media;\n  _outlet = null;\n  onAttach() {\n    const { event, action } = this.$props;\n    this.setAttributes({\n      event,\n      action\n    });\n  }\n  onConnect() {\n    this._media = useMedia();\n    scopedRaf(() => {\n      this._outlet = this._media.player.querySelector(\"media-outlet\");\n      effect(this._attachListener.bind(this));\n    });\n  }\n  _attachListener() {\n    let eventType = this.$props.event();\n    if (!this._outlet || !eventType)\n      return;\n    if (/^dbl/.test(eventType)) {\n      eventType = eventType.split(/^dbl/)[1];\n    }\n    listenEvent(this._outlet, eventType, this._acceptEvent.bind(this));\n  }\n  _presses = 0;\n  _pressTimerId = -1;\n  _acceptEvent(event) {\n    if (!this._inBounds(event) || isPointerEvent(event) && (event.button !== 0 || this._media.activeMenu)) {\n      return;\n    }\n    event.MEDIA_GESTURE = true;\n    event.preventDefault();\n    const isDblEvent = peek(this.$props.event)?.startsWith(\"dbl\");\n    if (!isDblEvent) {\n      if (this._presses === 0) {\n        setTimeout(() => {\n          if (this._presses === 1)\n            this._handleEvent(event);\n        }, 250);\n      }\n    } else if (this._presses === 1) {\n      queueMicrotask(() => this._handleEvent(event));\n      clearTimeout(this._pressTimerId);\n      this._presses = 0;\n      return;\n    }\n    if (this._presses === 0) {\n      this._pressTimerId = window.setTimeout(() => {\n        this._presses = 0;\n      }, 275);\n    }\n    this._presses++;\n  }\n  _handleEvent(event) {\n    this.el.setAttribute(\"data-triggered\", \"\");\n    requestAnimationFrame(() => {\n      if (this._isTopLayer()) {\n        this._performAction(peek(this.$props.action), event);\n      }\n      requestAnimationFrame(() => {\n        this.el.removeAttribute(\"data-triggered\");\n      });\n    });\n  }\n  /** Validate event occurred in gesture bounds. */\n  _inBounds(event) {\n    if (!this.el)\n      return false;\n    if (isPointerEvent(event) || isMouseEvent(event) || isTouchEvent(event)) {\n      const touch = isTouchEvent(event) ? event.touches[0] : void 0;\n      const clientX = touch?.clientX ?? event.clientX;\n      const clientY = touch?.clientY ?? event.clientY;\n      const rect = this.el.getBoundingClientRect();\n      const inBounds = clientY >= rect.top && clientY <= rect.bottom && clientX >= rect.left && clientX <= rect.right;\n      return event.type.includes(\"leave\") ? !inBounds : inBounds;\n    }\n    return true;\n  }\n  /** Validate gesture has the highest z-index in this triggered group. */\n  _isTopLayer() {\n    const gestures = this._media.player.querySelectorAll(\n      \"media-gesture[data-triggered]\"\n    );\n    return Array.from(gestures).sort(\n      (a, b) => +getComputedStyle(b).zIndex - +getComputedStyle(a).zIndex\n    )[0]?.component === this;\n  }\n  _performAction(action, trigger) {\n    if (!action)\n      return;\n    const [method, value] = action.replace(/:([a-z])/, \"-$1\").split(\":\");\n    if (action.includes(\":fullscreen\")) {\n      this._media.remote.toggleFullscreen(\"prefer-media\", trigger);\n    } else if (action.includes(\"seek:\")) {\n      this._media.remote.seek(peek(this._media.$store.currentTime) + (+value || 0), trigger);\n    } else {\n      this._media.remote[kebabToCamelCase(method)](trigger);\n    }\n  }\n}\n\nconst $$_templ$3 = /* @__PURE__ */ $$_create_template(`<!$><svg part=\"icon\" fill=\"none\" viewBox=\"0 0 120 120\" aria-hidden=\"true\"><circle part=\"track\" cx=\"60\" cy=\"60\" r=\"54\" stroke=\"currentColor\"></circle><circle part=\"track-fill\" cx=\"60\" cy=\"60\" r=\"54\" stroke=\"currentColor\" pathLength=\"100\"></circle></svg>`);\nclass BufferingIndicator extends Component {\n  static el = defineElement({\n    tagName: \"media-buffering-indicator\"\n  });\n  _media;\n  onAttach() {\n    this._media = useMedia();\n    this.setAttributes({\n      \"data-buffering\": computed(this._isBuffering.bind(this))\n    });\n  }\n  _isBuffering() {\n    const { canPlay, waiting } = this._media.$store;\n    return !canPlay() || waiting();\n  }\n  render() {\n    return $$_next_template($$_templ$3);\n  }\n}\n\nclass CaptionsTextRenderer {\n  constructor(_renderer) {\n    this._renderer = _renderer;\n  }\n  priority = 10;\n  _track = null;\n  _disposal = createDisposalBin();\n  attach() {\n  }\n  canRender() {\n    return true;\n  }\n  detach() {\n    this._disposal.empty();\n    this._renderer.reset();\n    this._track = null;\n  }\n  changeTrack(track) {\n    if (!track || this._track === track)\n      return;\n    this._disposal.empty();\n    if (track.readyState < 2) {\n      this._renderer.reset();\n      this._disposal.add(\n        listenEvent(track, \"load\", () => this._changeTrack(track), { once: true })\n      );\n    } else {\n      this._changeTrack(track);\n    }\n    this._disposal.add(\n      listenEvent(track, \"add-cue\", (event) => {\n        this._renderer.addCue(event.detail);\n      }),\n      listenEvent(track, \"remove-cue\", (event) => {\n        this._renderer.removeCue(event.detail);\n      })\n    );\n    this._track = track;\n  }\n  _changeTrack(track) {\n    this._renderer.changeTrack({\n      cues: [...track.cues],\n      regions: [...track.regions]\n    });\n  }\n}\n\nclass Captions extends Component {\n  static el = defineElement({\n    tagName: \"media-captions\",\n    props: { textDir: \"ltr\" }\n  });\n  _media;\n  _renderer;\n  _textRenderer;\n  onAttach() {\n    this._media = useMedia();\n    this.setAttributes({\n      \"aria-hidden\": $ariaBool(this._isHidden.bind(this))\n    });\n  }\n  onConnect(el) {\n    this._renderer = new CaptionsRenderer(el);\n    this._textRenderer = new CaptionsTextRenderer(this._renderer);\n    effect(this._watchViewType.bind(this));\n  }\n  onDisconnect() {\n    if (this._textRenderer) {\n      this._textRenderer.detach();\n      this._media.textRenderers.remove(this._textRenderer);\n    }\n    this._renderer?.destroy();\n  }\n  _isHidden() {\n    const { textTrack } = this._media.$store, track = textTrack();\n    return !track || !isTrackCaptionKind(track);\n  }\n  _watchViewType() {\n    const { viewType } = this._media.$store;\n    if (viewType() === \"audio\") {\n      return this._setupAudioView();\n    } else {\n      return this._setupVideoView();\n    }\n  }\n  _setupAudioView() {\n    effect(this._onTrackChange.bind(this));\n    return () => {\n      this.el.textContent = \"\";\n    };\n  }\n  _onTrackChange() {\n    if (this._isHidden())\n      return;\n    const { textTrack } = this._media.$store;\n    this._onCueChange();\n    listenEvent(textTrack(), \"cue-change\", this._onCueChange.bind(this));\n    effect(this._onUpdateTimedNodes.bind(this));\n  }\n  _onCueChange() {\n    this.el.textContent = \"\";\n    const { currentTime, textTrack } = this._media.$store, time = peek(currentTime), activeCues = peek(textTrack).activeCues;\n    for (const cue of activeCues) {\n      const cueEl = document.createElement(\"div\");\n      cueEl.setAttribute(\"part\", \"cue\");\n      cueEl.innerHTML = renderVTTCueString(cue, time);\n      this.el.append(cueEl);\n    }\n  }\n  _onUpdateTimedNodes() {\n    const { currentTime } = this._media.$store;\n    updateTimedVTTCueNodes(this.el, currentTime());\n  }\n  _setupVideoView() {\n    effect(this._watchTextDirection.bind(this));\n    effect(this._watchMediaTime.bind(this));\n    this._media.textRenderers.add(this._textRenderer);\n    return () => {\n      this.el.textContent = \"\";\n      this._textRenderer.detach();\n      this._media.textRenderers.remove(this._textRenderer);\n    };\n  }\n  _watchTextDirection() {\n    this._renderer.dir = this.$props.textDir();\n  }\n  _watchMediaTime() {\n    if (this._isHidden())\n      return;\n    const { currentTime } = this._media.$store;\n    this._renderer.currentTime = currentTime();\n  }\n}\n\nconst $$_templ$2 = /* @__PURE__ */ $$_create_template(`<!$><div part=\"container\"><div part=\"text\">LIVE</div></div>`);\nclass LiveIndicator extends Component {\n  static el = defineElement({\n    tagName: \"media-live-indicator\"\n  });\n  _media;\n  constructor(instance) {\n    super(instance);\n    this._media = useMedia();\n    new FocusVisibleController(instance);\n  }\n  onAttach(el) {\n    const { live, liveEdge } = this._media.$store;\n    setARIALabel(el, this._getLabel.bind(this));\n    this.setAttributes({\n      tabindex: this._getTabIndex.bind(this),\n      role: this._getRole.bind(this),\n      \"data-live\": live,\n      \"data-live-edge\": liveEdge,\n      \"data-media-button\": true\n    });\n  }\n  onConnect(el) {\n    onPress(el, this._onPress.bind(this));\n  }\n  _getLabel() {\n    const { live } = this._media.$store;\n    return live() ? \"Go live\" : null;\n  }\n  _getTabIndex() {\n    const { live } = this._media.$store;\n    return live() ? 0 : null;\n  }\n  _getRole() {\n    const { live } = this._media.$store;\n    return live() ? \"button\" : null;\n  }\n  _onPress(event) {\n    const { liveEdge } = this._media.$store;\n    if (liveEdge())\n      return;\n    this._media.remote.seekToLiveEdge(event);\n  }\n  render() {\n    return $$_next_template($$_templ$2);\n  }\n}\n\nconst $$_templ$1 = /* @__PURE__ */ $$_create_template(`<!$><img part=\"img\" />`);\nclass Poster extends Component {\n  static el = defineElement({\n    tagName: \"media-poster\",\n    props: { alt: void 0 }\n  });\n  _media;\n  _imgLoading = signal(true);\n  _imgError = signal(false);\n  _imgSrc;\n  _imgAlt;\n  onAttach(el) {\n    this._media = useMedia();\n    this._imgSrc = computed(this._getImgSrc.bind(this));\n    this._imgAlt = this._getImgAlt.bind(this);\n    this.setAttributes({\n      \"data-loading\": this._imgLoading,\n      \"aria-hidden\": $ariaBool(this._isHidden.bind(this))\n    });\n  }\n  onConnect(el) {\n    const { canLoad, poster } = this._media.$store;\n    window.requestAnimationFrame(() => {\n      if (!canLoad())\n        preconnect(poster());\n    });\n    effect(this._onLoadStart.bind(this));\n  }\n  _isHidden() {\n    const { poster } = this._media.$store;\n    return this._imgError() || !poster();\n  }\n  _getImgSrc() {\n    const { canLoad, poster } = this._media.$store;\n    return canLoad() && poster().length ? poster() : null;\n  }\n  _getImgAlt() {\n    return this._imgSrc() ? this.$props.alt() : null;\n  }\n  _onLoadStart() {\n    const { canLoad, poster } = this._media.$store;\n    const isLoading = canLoad() && !!poster();\n    this._imgLoading.set(isLoading);\n    this._imgError.set(false);\n  }\n  _onLoad() {\n    this._imgLoading.set(false);\n  }\n  _onError() {\n    this._imgLoading.set(false);\n    this._imgError.set(true);\n  }\n  render() {\n    const { crossorigin } = this._media.$store;\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ$1);\n      $$_effect(() => $$_attr($$_root, \"src\", this._imgSrc()));\n      $$_effect(() => $$_attr($$_root, \"alt\", this._imgAlt()));\n      $$_effect(() => $$_attr($$_root, \"crossorigin\", crossorigin()));\n      $$_listen($$_root, \"load\", this._onLoad.bind(this));\n      $$_listen($$_root, \"error\", this._onError.bind(this));\n      return $$_root;\n    })();\n  }\n}\n\nconst $$_templ = /* @__PURE__ */ $$_create_template(`<!$><span><!$></span>`);\nclass Time extends Component {\n  static el = defineElement({\n    tagName: \"media-time\",\n    props: {\n      type: \"current\",\n      showHours: false,\n      padHours: null,\n      padMinutes: null,\n      remainder: false\n    }\n  });\n  _media;\n  _time;\n  onAttach() {\n    this._media = useMedia();\n    this._time = computed(this._getTime.bind(this));\n  }\n  _getTime() {\n    const { type, remainder, padHours, padMinutes, showHours } = this.$props, seconds = this._getSeconds(type()), duration = this._media.$store.duration();\n    if (!Number.isFinite(seconds + duration))\n      return \"LIVE\";\n    const time = remainder() ? Math.max(0, duration - seconds) : seconds;\n    return formatTime(\n      time,\n      padHours(),\n      isNull(padMinutes()) ? time >= 3600 : padMinutes(),\n      showHours()\n    );\n  }\n  _getSeconds(type) {\n    const { bufferedEnd, duration, currentTime } = this._media.$store;\n    switch (type) {\n      case \"buffered\":\n        return bufferedEnd();\n      case \"duration\":\n        return duration();\n      default:\n        return currentTime();\n    }\n  }\n  render() {\n    return (() => {\n      const [$$_root, $$_walker] = $$_create_walker($$_templ), $$_expr = $$_walker.nextNode();\n      $$_insert_at_marker_lite($$_expr, this._time);\n      return $$_root;\n    })();\n  }\n}\n\nfunction setupPreviewStyles(preview, orientation) {\n  let rect = preview.getBoundingClientRect(), styles = {\n    \"--computed-width\": rect.width + \"px\",\n    \"--computed-height\": rect.height + \"px\",\n    \"--preview-width\": \"var(--media-slider-preview-width, var(--computed-width))\",\n    \"--preview-height\": \"var(--media-slider-preview-height, var(--computed-height))\"\n  };\n  if (orientation !== \"vertical\") {\n    styles = {\n      ...styles,\n      \"--preview-width-half\": \"calc(var(--preview-width) / 2)\",\n      \"--preview-left-clamp\": \"max(var(--preview-width-half), var(--slider-pointer-percent))\",\n      \"--preview-right-clamp\": \"calc(100% - var(--preview-width-half))\",\n      \"--preview-left\": \"min(var(--preview-left-clamp), var(--preview-right-clamp))\"\n    };\n  } else {\n    styles = {\n      ...styles,\n      \"--preview-height-half\": \"calc(var(--preview-height) / 2)\",\n      \"--preview-top-clamp\": \"max(var(--preview-height-half), var(--slider-pointer-percent))\",\n      \"--preview-bottom-clamp\": \"calc(100% - var(--preview-height-half))\",\n      \"--preview-bottom\": \"min(var(--preview-top-clamp), var(--preview-bottom-clamp))\"\n    };\n  }\n  for (const name of Object.keys(styles)) {\n    preview.style.setProperty(name, styles[name]);\n  }\n}\n\nvar preview = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  setupPreviewStyles: setupPreviewStyles\n});\n\nexport { AudioMenuButton as A, BufferingIndicator as B, CaptionButton as C, toggleButtonProps as D, SliderStoreFactory as E, FullscreenButton as F, Gesture as G, LiveIndicator as L, MuteButton as M, Poster as P, QualityMenuButton as Q, RadioGroup as R, SeekButton as S, Tooltip as T, VolumeSlider as V, Thumbnail as a, PlayButton as b, PIPButton as c, Slider as d, TimeSlider as e, SliderThumbnail as f, SliderValue as g, SliderVideo as h, Time as i, ToggleButton as j, Captions as k, Menu as l, MenuButton as m, MenuItems as n, Radio as o, AudioMenuItems as p, CaptionsMenuButton as q, CaptionsMenuItems as r, ChaptersMenuItems as s, QualityMenuItems as t, PlaybackRateMenuButton as u, PlaybackRateMenuItems as v, round as w, FocusVisibleController as x, clampNumber as y, getNumberOfDecimalPlaces as z };\n"],
  "mappings": "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",
  "names": ["isFunction", "effect", "_a", "isFunction", "isFunction", "effect", "_a", "_b", "_a", "$$_templ", "$$_templ", "$$_templ_2", "_a", "readonly", "isFunction", "effect", "method", "_b", "key", "prop", "canFullscreen", "id", "_c", "_a", "effect", "key", "ariaBool", "signal", "canFullscreen", "_b", "setupPreviewStyles", "_c", "_d", "$$_templ_2", "method", "$$_templ", "preview"]
}
